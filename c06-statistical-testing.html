<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Statistical testing | Exploring Complex Survey Data Analysis Using R</title>
  <meta name="description" content="Chapter 6 Statistical testing | Exploring Complex Survey Data Analysis Using R: A Tidy Introduction with {srvyr} and {survey}" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Statistical testing | Exploring Complex Survey Data Analysis Using R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/cover.png" />
  <meta property="og:description" content="Chapter 6 Statistical testing | Exploring Complex Survey Data Analysis Using R: A Tidy Introduction with {srvyr} and {survey}" />
  <meta name="github-repo" content="tidy-survey-r/tidy-survey-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Statistical testing | Exploring Complex Survey Data Analysis Using R" />
  
  <meta name="twitter:description" content="Chapter 6 Statistical testing | Exploring Complex Survey Data Analysis Using R: A Tidy Introduction with {srvyr} and {survey}" />
  <meta name="twitter:image" content="/images/cover.png" />

<meta name="author" content="Stephanie A. Zimmer, Rebecca J. Powell, and Isabella C. Velásquez" />


<meta name="date" content="2024-10-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon" />
<link rel="prev" href="c05-descriptive-analysis.html"/>
<link rel="next" href="c07-modeling.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<link href="libs/htmltools-fill/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/d3/d3.min.js"></script>
<script src="libs/dagre/dagre-d3.min.js"></script>
<link href="libs/mermaid/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid/dist/mermaid.slim.min.js"></script>
<link href="libs/DiagrammeR-styles/styles.css" rel="stylesheet" />
<script src="libs/chromatography/chromatography.js"></script>
<script src="libs/DiagrammeR-binding/DiagrammeR.js"></script>
<script defer data-domain="tidy-survey-r.github.io/tidy-survey-book" src="https://plausible.io/js/script.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Exploring<br>Complex Survey<br>Data Analysis Using R</a></li>
<li class="toc-logo"><a href="./"><img src="images/logo.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#dedication"><i class="fa fa-check"></i>Dedication</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#citation"><i class="fa fa-check"></i>Citation</a></li>
</ul></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="c01-intro.html"><a href="c01-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="c01-intro.html"><a href="c01-intro.html#survey-analysis-in-r"><i class="fa fa-check"></i><b>1.1</b> Survey analysis in R</a></li>
<li class="chapter" data-level="1.2" data-path="c01-intro.html"><a href="c01-intro.html#what-to-expect"><i class="fa fa-check"></i><b>1.2</b> What to expect</a></li>
<li class="chapter" data-level="1.3" data-path="c01-intro.html"><a href="c01-intro.html#prerequisites"><i class="fa fa-check"></i><b>1.3</b> Prerequisites</a></li>
<li class="chapter" data-level="1.4" data-path="c01-intro.html"><a href="c01-intro.html#datasets-used-in-this-book"><i class="fa fa-check"></i><b>1.4</b> Datasets used in this book</a></li>
<li class="chapter" data-level="1.5" data-path="c01-intro.html"><a href="c01-intro.html#conventions"><i class="fa fa-check"></i><b>1.5</b> Conventions</a></li>
<li class="chapter" data-level="1.6" data-path="c01-intro.html"><a href="c01-intro.html#getting-help"><i class="fa fa-check"></i><b>1.6</b> Getting help</a></li>
<li class="chapter" data-level="1.7" data-path="c01-intro.html"><a href="c01-intro.html#acknowledgments"><i class="fa fa-check"></i><b>1.7</b> Acknowledgments</a></li>
<li class="chapter" data-level="1.8" data-path="c01-intro.html"><a href="c01-intro.html#colophon"><i class="fa fa-check"></i><b>1.8</b> Colophon</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html"><i class="fa fa-check"></i><b>2</b> Overview of surveys</a>
<ul>
<li class="chapter" data-level="2.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#searching-for-public-use-survey-data"><i class="fa fa-check"></i><b>2.2</b> Searching for public-use survey data</a></li>
<li class="chapter" data-level="2.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#pre-survey-planning"><i class="fa fa-check"></i><b>2.3</b> Pre-survey planning</a></li>
<li class="chapter" data-level="2.4" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design"><i class="fa fa-check"></i><b>2.4</b> Study design</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-sampdesign"><i class="fa fa-check"></i><b>2.4.1</b> Sampling design</a></li>
<li class="chapter" data-level="2.4.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-dcplanning"><i class="fa fa-check"></i><b>2.4.2</b> Data collection planning</a></li>
<li class="chapter" data-level="2.4.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-questionnaire"><i class="fa fa-check"></i><b>2.4.3</b> Questionnaire design</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-datacollection"><i class="fa fa-check"></i><b>2.5</b> Data collection</a></li>
<li class="chapter" data-level="2.6" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post"><i class="fa fa-check"></i><b>2.6</b> Post-survey processing</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-cleaning"><i class="fa fa-check"></i><b>2.6.1</b> Data cleaning and imputation</a></li>
<li class="chapter" data-level="2.6.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-weighting"><i class="fa fa-check"></i><b>2.6.2</b> Weighting</a></li>
<li class="chapter" data-level="2.6.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-disclosure"><i class="fa fa-check"></i><b>2.6.3</b> Disclosure</a></li>
<li class="chapter" data-level="2.6.4" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-documentation"><i class="fa fa-check"></i><b>2.6.4</b> Documentation</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#post-survey-data-analysis-and-reporting"><i class="fa fa-check"></i><b>2.7</b> Post-survey data analysis and reporting</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html"><i class="fa fa-check"></i><b>3</b> Survey data documentation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#types-of-survey-documentation"><i class="fa fa-check"></i><b>3.2</b> Types of survey documentation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#technical-documentation"><i class="fa fa-check"></i><b>3.2.1</b> Technical documentation</a></li>
<li class="chapter" data-level="3.2.2" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#questionnaires"><i class="fa fa-check"></i><b>3.2.2</b> Questionnaires</a></li>
<li class="chapter" data-level="3.2.3" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#codebooks"><i class="fa fa-check"></i><b>3.2.3</b> Codebooks</a></li>
<li class="chapter" data-level="3.2.4" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#errata"><i class="fa fa-check"></i><b>3.2.4</b> Errata</a></li>
<li class="chapter" data-level="3.2.5" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#additional-resources"><i class="fa fa-check"></i><b>3.2.5</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#missing-data-coding"><i class="fa fa-check"></i><b>3.3</b> Missing data coding</a></li>
<li class="chapter" data-level="3.4" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#example-anes-2020-survey-documentation"><i class="fa fa-check"></i><b>3.4</b> Example: ANES 2020 survey documentation</a>
<ul>
<li class="chapter" data-level="" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#methodology"><i class="fa fa-check"></i>Methodology</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Analysis</b></span></li>
<li class="chapter" data-level="4" data-path="c04-getting-started.html"><a href="c04-getting-started.html"><i class="fa fa-check"></i><b>4</b> Getting started</a>
<ul>
<li class="chapter" data-level="4.1" data-path="c04-getting-started.html"><a href="c04-getting-started.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup"><i class="fa fa-check"></i><b>4.2</b> Setup</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup-load-pkgs"><i class="fa fa-check"></i><b>4.2.1</b> Packages</a></li>
<li class="chapter" data-level="4.2.2" data-path="c04-getting-started.html"><a href="c04-getting-started.html#data"><i class="fa fa-check"></i><b>4.2.2</b> Data</a></li>
<li class="chapter" data-level="4.2.3" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup-des-obj"><i class="fa fa-check"></i><b>4.2.3</b> Design objects</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="c04-getting-started.html"><a href="c04-getting-started.html#survey-analysis-process"><i class="fa fa-check"></i><b>4.3</b> Survey analysis process</a></li>
<li class="chapter" data-level="4.4" data-path="c04-getting-started.html"><a href="c04-getting-started.html#similarities-dplyr-srvyr"><i class="fa fa-check"></i><b>4.4</b> Similarities between {dplyr} and {srvyr} functions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html"><i class="fa fa-check"></i><b>5</b> Descriptive analyses</a>
<ul>
<li class="chapter" data-level="" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#prereq5"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="5.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#counts-and-cross-tabulations"><i class="fa fa-check"></i><b>5.2</b> Counts and cross-tabulations</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-count-syntax"><i class="fa fa-check"></i><b>5.2.1</b> Syntax</a></li>
<li class="chapter" data-level="5.2.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples"><i class="fa fa-check"></i><b>5.2.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#totals-and-sums"><i class="fa fa-check"></i><b>5.3</b> Totals and sums </a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax"><i class="fa fa-check"></i><b>5.3.1</b> Syntax</a></li>
<li class="chapter" data-level="5.3.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-1"><i class="fa fa-check"></i><b>5.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-meanprop"><i class="fa fa-check"></i><b>5.4</b> Means and proportions</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-meanprop-syntax"><i class="fa fa-check"></i><b>5.4.1</b> Syntax</a></li>
<li class="chapter" data-level="5.4.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-2"><i class="fa fa-check"></i><b>5.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#quantiles-and-medians"><i class="fa fa-check"></i><b>5.5</b> Quantiles and medians</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-1"><i class="fa fa-check"></i><b>5.5.1</b> Syntax</a></li>
<li class="chapter" data-level="5.5.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-3"><i class="fa fa-check"></i><b>5.5.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#ratios"><i class="fa fa-check"></i><b>5.6</b> Ratios </a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-2"><i class="fa fa-check"></i><b>5.6.1</b> Syntax</a></li>
<li class="chapter" data-level="5.6.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-4"><i class="fa fa-check"></i><b>5.6.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#correlations"><i class="fa fa-check"></i><b>5.7</b> Correlations </a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-3"><i class="fa fa-check"></i><b>5.7.1</b> Syntax</a></li>
<li class="chapter" data-level="5.7.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-5"><i class="fa fa-check"></i><b>5.7.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#standard-deviation-and-variance"><i class="fa fa-check"></i><b>5.8</b> Standard deviation and variance </a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-4"><i class="fa fa-check"></i><b>5.8.1</b> Syntax</a></li>
<li class="chapter" data-level="5.8.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-6"><i class="fa fa-check"></i><b>5.8.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#additional-topics"><i class="fa fa-check"></i><b>5.9</b> Additional topics</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#unweighted-analysis"><i class="fa fa-check"></i><b>5.9.1</b> Unweighted analysis </a></li>
<li class="chapter" data-level="5.9.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#subpopulation-analysis"><i class="fa fa-check"></i><b>5.9.2</b> Subpopulation analysis </a></li>
<li class="chapter" data-level="5.9.3" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-deff"><i class="fa fa-check"></i><b>5.9.3</b> Design effects</a></li>
<li class="chapter" data-level="5.9.4" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#creating-summary-rows"><i class="fa fa-check"></i><b>5.9.4</b> Creating summary rows</a></li>
<li class="chapter" data-level="5.9.5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#calculating-estimates-for-many-outcomes"><i class="fa fa-check"></i><b>5.9.5</b> Calculating estimates for many outcomes</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#exercises"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html"><i class="fa fa-check"></i><b>6</b> Statistical testing</a>
<ul>
<li class="chapter" data-level="" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#prereq6"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="6.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#dot-notation"><i class="fa fa-check"></i><b>6.2</b> Dot notation</a></li>
<li class="chapter" data-level="6.3" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest"><i class="fa fa-check"></i><b>6.3</b> Comparison of proportions and means</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest-syntax"><i class="fa fa-check"></i><b>6.3.1</b> Syntax</a></li>
<li class="chapter" data-level="6.3.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest-examples"><i class="fa fa-check"></i><b>6.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi"><i class="fa fa-check"></i><b>6.4</b> Chi-squared tests</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi-syntax"><i class="fa fa-check"></i><b>6.4.1</b> Syntax</a></li>
<li class="chapter" data-level="6.4.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi-examples"><i class="fa fa-check"></i><b>6.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-exercises"><i class="fa fa-check"></i><b>6.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="c07-modeling.html"><a href="c07-modeling.html"><i class="fa fa-check"></i><b>7</b> Modeling</a>
<ul>
<li class="chapter" data-level="" data-path="c07-modeling.html"><a href="c07-modeling.html#prereq7"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="7.1" data-path="c07-modeling.html"><a href="c07-modeling.html#model-intro"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="c07-modeling.html"><a href="c07-modeling.html#analysis-of-variance"><i class="fa fa-check"></i><b>7.2</b> Analysis of variance</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-6"><i class="fa fa-check"></i><b>7.2.1</b> Syntax</a></li>
<li class="chapter" data-level="7.2.2" data-path="c07-modeling.html"><a href="c07-modeling.html#example-1"><i class="fa fa-check"></i><b>7.2.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="c07-modeling.html"><a href="c07-modeling.html#normal-linear-regression"><i class="fa fa-check"></i><b>7.3</b> Normal linear regression</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-7"><i class="fa fa-check"></i><b>7.3.1</b> Syntax</a></li>
<li class="chapter" data-level="7.3.2" data-path="c07-modeling.html"><a href="c07-modeling.html#examples-7"><i class="fa fa-check"></i><b>7.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="c07-modeling.html"><a href="c07-modeling.html#logistic-regression"><i class="fa fa-check"></i><b>7.4</b> Logistic regression</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-8"><i class="fa fa-check"></i><b>7.4.1</b> Syntax</a></li>
<li class="chapter" data-level="7.4.2" data-path="c07-modeling.html"><a href="c07-modeling.html#examples-8"><i class="fa fa-check"></i><b>7.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="c07-modeling.html"><a href="c07-modeling.html#exercises-1"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Reporting</b></span></li>
<li class="chapter" data-level="8" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html"><i class="fa fa-check"></i><b>8</b> Communication of results</a>
<ul>
<li class="chapter" data-level="" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#prereq8"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="8.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#introduction-6"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#describing-results-through-text"><i class="fa fa-check"></i><b>8.2</b> Describing results through text</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#methodology-1"><i class="fa fa-check"></i><b>8.2.1</b> Methodology</a></li>
<li class="chapter" data-level="8.2.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#analysis"><i class="fa fa-check"></i><b>8.2.2</b> Analysis</a></li>
<li class="chapter" data-level="8.2.3" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#results"><i class="fa fa-check"></i><b>8.2.3</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#visualizing-data"><i class="fa fa-check"></i><b>8.3</b> Visualizing data</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#tables"><i class="fa fa-check"></i><b>8.3.1</b> Tables</a></li>
<li class="chapter" data-level="8.3.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#charts-and-plots"><i class="fa fa-check"></i><b>8.3.2</b> Charts and plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html"><i class="fa fa-check"></i><b>9</b> Reproducible research</a>
<ul>
<li class="chapter" data-level="9.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#introduction-7"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#project-based-workflows"><i class="fa fa-check"></i><b>9.2</b> Project-based workflows</a></li>
<li class="chapter" data-level="9.3" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#functions-and-packages"><i class="fa fa-check"></i><b>9.3</b> Functions and packages</a></li>
<li class="chapter" data-level="9.4" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#version-control-with-git"><i class="fa fa-check"></i><b>9.4</b> Version control with Git</a></li>
<li class="chapter" data-level="9.5" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#package-management-with-renv"><i class="fa fa-check"></i><b>9.5</b> Package management with {renv}</a></li>
<li class="chapter" data-level="9.6" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#r-environments-with-docker"><i class="fa fa-check"></i><b>9.6</b> R environments with Docker</a></li>
<li class="chapter" data-level="9.7" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#workflow-management-with-targets"><i class="fa fa-check"></i><b>9.7</b> Workflow management with {targets}</a></li>
<li class="chapter" data-level="9.8" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#documentation-with-quarto-and-r-markdown"><i class="fa fa-check"></i><b>9.8</b> Documentation with Quarto and R Markdown</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#parameterization"><i class="fa fa-check"></i><b>9.8.1</b> Parameterization</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#other-tips-for-reproducibility"><i class="fa fa-check"></i><b>9.9</b> Other tips for reproducibility</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#random-number-seeds"><i class="fa fa-check"></i><b>9.9.1</b> Random number seeds</a></li>
<li class="chapter" data-level="9.9.2" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#descriptive-names-and-labels"><i class="fa fa-check"></i><b>9.9.2</b> Descriptive names and labels</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#additional-resources-1"><i class="fa fa-check"></i><b>9.10</b> Additional resources</a></li>
</ul></li>
<li class="part"><span><b>IV Real-life data</b></span></li>
<li class="chapter" data-level="10" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html"><i class="fa fa-check"></i><b>10</b> Sample designs and replicate weights</a>
<ul>
<li class="chapter" data-level="" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#prereq3"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="10.1" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#introduction-8"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#common-sampling-designs"><i class="fa fa-check"></i><b>10.2</b> Common sampling designs</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#simple-random-sample-without-replacement"><i class="fa fa-check"></i><b>10.2.1</b> Simple random sample without replacement</a></li>
<li class="chapter" data-level="10.2.2" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#simple-random-sample-with-replacement"><i class="fa fa-check"></i><b>10.2.2</b> Simple random sample with replacement</a></li>
<li class="chapter" data-level="10.2.3" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#stratified-sampling"><i class="fa fa-check"></i><b>10.2.3</b> Stratified sampling </a></li>
<li class="chapter" data-level="10.2.4" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#samp-cluster"><i class="fa fa-check"></i><b>10.2.4</b> Clustered sampling</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#samp-combo"><i class="fa fa-check"></i><b>10.3</b> Combining sampling methods</a>
<ul>
<li class="chapter" data-level="" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#example-6"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#replicate-weights"><i class="fa fa-check"></i><b>10.4</b> Replicate weights</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#balanced-repeated-replication-method"><i class="fa fa-check"></i><b>10.4.1</b> Balanced Repeated Replication method</a></li>
<li class="chapter" data-level="10.4.2" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#fays-brr-method"><i class="fa fa-check"></i><b>10.4.2</b> Fay’s BRR method</a></li>
<li class="chapter" data-level="10.4.3" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#samp-jackknife"><i class="fa fa-check"></i><b>10.4.3</b> Jackknife method</a></li>
<li class="chapter" data-level="10.4.4" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#bootstrap-method"><i class="fa fa-check"></i><b>10.4.4</b> Bootstrap method</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#exercises-2"><i class="fa fa-check"></i><b>10.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="c11-missing-data.html"><a href="c11-missing-data.html"><i class="fa fa-check"></i><b>11</b> Missing data</a>
<ul>
<li class="chapter" data-level="" data-path="c11-missing-data.html"><a href="c11-missing-data.html#prereq11"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="11.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#introduction-9"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#missing-data-mechanisms"><i class="fa fa-check"></i><b>11.2</b> Missing data mechanisms</a></li>
<li class="chapter" data-level="11.3" data-path="c11-missing-data.html"><a href="c11-missing-data.html#assessing-missing-data"><i class="fa fa-check"></i><b>11.3</b> Assessing missing data</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#summarize-data"><i class="fa fa-check"></i><b>11.3.1</b> Summarize data</a></li>
<li class="chapter" data-level="11.3.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#visualization-of-missing-data"><i class="fa fa-check"></i><b>11.3.2</b> Visualization of missing data</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="c11-missing-data.html"><a href="c11-missing-data.html#analysis-with-missing-data"><i class="fa fa-check"></i><b>11.4</b> Analysis with missing data</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#recoding-missing-data"><i class="fa fa-check"></i><b>11.4.1</b> Recoding missing data</a></li>
<li class="chapter" data-level="11.4.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#missing-skip-patt"><i class="fa fa-check"></i><b>11.4.2</b> Accounting for skip patterns</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="c12-recommendations.html"><a href="c12-recommendations.html"><i class="fa fa-check"></i><b>12</b> Successful survey analysis recommendations</a>
<ul>
<li class="chapter" data-level="" data-path="c12-recommendations.html"><a href="c12-recommendations.html#prereq12"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="12.1" data-path="c12-recommendations.html"><a href="c12-recommendations.html#introduction-10"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="c12-recommendations.html"><a href="c12-recommendations.html#recs-survey-process"><i class="fa fa-check"></i><b>12.2</b> Follow the survey analysis process</a></li>
<li class="chapter" data-level="12.3" data-path="c12-recommendations.html"><a href="c12-recommendations.html#begin-with-descriptive-analysis"><i class="fa fa-check"></i><b>12.3</b> Begin with descriptive analysis</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="c12-recommendations.html"><a href="c12-recommendations.html#table-review"><i class="fa fa-check"></i><b>12.3.1</b> Table review</a></li>
<li class="chapter" data-level="12.3.2" data-path="c12-recommendations.html"><a href="c12-recommendations.html#graphical-review"><i class="fa fa-check"></i><b>12.3.2</b> Graphical review</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="c12-recommendations.html"><a href="c12-recommendations.html#check-variable-types"><i class="fa fa-check"></i><b>12.4</b> Check variable types</a></li>
<li class="chapter" data-level="12.5" data-path="c12-recommendations.html"><a href="c12-recommendations.html#improve-debugging-skills"><i class="fa fa-check"></i><b>12.5</b> Improve debugging skills</a></li>
<li class="chapter" data-level="12.6" data-path="c12-recommendations.html"><a href="c12-recommendations.html#think-critically-about-conclusions"><i class="fa fa-check"></i><b>12.6</b> Think critically about conclusions</a></li>
</ul></li>
<li class="part"><span><b>V Vignettes</b></span></li>
<li class="chapter" data-level="13" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html"><i class="fa fa-check"></i><b>13</b> National Crime Victimization Survey vignette</a>
<ul>
<li class="chapter" data-level="" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#prereq9"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="13.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#introduction-11"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#data-structure"><i class="fa fa-check"></i><b>13.2</b> Data structure</a></li>
<li class="chapter" data-level="13.3" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#survey-notation"><i class="fa fa-check"></i><b>13.3</b> Survey notation</a></li>
<li class="chapter" data-level="13.4" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#data-file-preparation"><i class="fa fa-check"></i><b>13.4</b> Data file preparation</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#preparing-files-for-estimation-of-victimization-rates"><i class="fa fa-check"></i><b>13.4.1</b> Preparing files for estimation of victimization rates</a></li>
<li class="chapter" data-level="13.4.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#derived-demographic-variables"><i class="fa fa-check"></i><b>13.4.2</b> Derived demographic variables</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#survey-design-objects"><i class="fa fa-check"></i><b>13.5</b> Survey design objects</a></li>
<li class="chapter" data-level="13.6" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#calculating-estimates"><i class="fa fa-check"></i><b>13.6</b> Calculating estimates</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-tot"><i class="fa fa-check"></i><b>13.6.1</b> Estimation 1: Victimization totals</a></li>
<li class="chapter" data-level="13.6.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-prop"><i class="fa fa-check"></i><b>13.6.2</b> Estimation 2: Victimization proportions</a></li>
<li class="chapter" data-level="13.6.3" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-rate"><i class="fa fa-check"></i><b>13.6.3</b> Estimation 3: Victimization rates</a></li>
<li class="chapter" data-level="13.6.4" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#prev-rate"><i class="fa fa-check"></i><b>13.6.4</b> Estimation 4: Prevalence rates</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#statistical-testing"><i class="fa fa-check"></i><b>13.7</b> Statistical testing</a></li>
<li class="chapter" data-level="13.8" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#exercises-3"><i class="fa fa-check"></i><b>13.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html"><i class="fa fa-check"></i><b>14</b> AmericasBarometer vignette</a>
<ul>
<li class="chapter" data-level="" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#prereq10"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="14.1" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#introduction-12"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#data-structure-1"><i class="fa fa-check"></i><b>14.2</b> Data structure</a></li>
<li class="chapter" data-level="14.3" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#preparing-files"><i class="fa fa-check"></i><b>14.3</b> Preparing files</a></li>
<li class="chapter" data-level="14.4" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#survey-design-objects-1"><i class="fa fa-check"></i><b>14.4</b> Survey design objects</a></li>
<li class="chapter" data-level="14.5" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#ambarom-estimates"><i class="fa fa-check"></i><b>14.5</b> Calculating estimates</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#example-worry-about-covid-19"><i class="fa fa-check"></i><b>14.5.1</b> Example: Worry about COVID-19</a></li>
<li class="chapter" data-level="14.5.2" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#example-education-affected-by-covid-19"><i class="fa fa-check"></i><b>14.5.2</b> Example: Education affected by COVID-19</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#ambarom-maps"><i class="fa fa-check"></i><b>14.6</b> Mapping survey data</a></li>
<li class="chapter" data-level="14.7" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#exercises-4"><i class="fa fa-check"></i><b>14.7</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html"><i class="fa fa-check"></i><b>A</b> Importing survey data into R</a>
<ul>
<li class="chapter" data-level="A.1" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-delimiter-separated-files-into-r"><i class="fa fa-check"></i><b>A.1</b> Importing delimiter-separated files into R</a></li>
<li class="chapter" data-level="A.2" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-excel-files-into-r"><i class="fa fa-check"></i><b>A.2</b> Importing Excel files into R</a></li>
<li class="chapter" data-level="A.3" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-stata-sas-and-spss-files-into-r"><i class="fa fa-check"></i><b>A.3</b> Importing Stata, SAS, and SPSS files into R</a>
<ul>
<li class="chapter" data-level="A.3.1" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#syntax-9"><i class="fa fa-check"></i><b>A.3.1</b> Syntax</a></li>
<li class="chapter" data-level="A.3.2" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#working-with-labeled-data"><i class="fa fa-check"></i><b>A.3.2</b> Working with labeled data</a></li>
<li class="chapter" data-level="A.3.3" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#labeled-missing-data-values"><i class="fa fa-check"></i><b>A.3.3</b> Labeled missing data values</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-apis-into-r"><i class="fa fa-check"></i><b>A.4</b> Importing data from APIs into R</a></li>
<li class="chapter" data-level="A.5" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-databases-in-r"><i class="fa fa-check"></i><b>A.5</b> Importing data from databases in R</a></li>
<li class="chapter" data-level="A.6" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-other-formats"><i class="fa fa-check"></i><b>A.6</b> Importing data from other formats</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="anes-cb.html"><a href="anes-cb.html"><i class="fa fa-check"></i><b>B</b> ANES derived variable codebook</a>
<ul>
<li class="chapter" data-level="B.1" data-path="anes-cb.html"><a href="anes-cb.html#admin"><i class="fa fa-check"></i><b>B.1</b> ADMIN</a></li>
<li class="chapter" data-level="B.2" data-path="anes-cb.html"><a href="anes-cb.html#weights"><i class="fa fa-check"></i><b>B.2</b> WEIGHTS</a></li>
<li class="chapter" data-level="B.3" data-path="anes-cb.html"><a href="anes-cb.html#pre-election-survey-questionnaire"><i class="fa fa-check"></i><b>B.3</b> PRE-ELECTION SURVEY QUESTIONNAIRE</a></li>
<li class="chapter" data-level="B.4" data-path="anes-cb.html"><a href="anes-cb.html#post-election-survey-questionnaire"><i class="fa fa-check"></i><b>B.4</b> POST-ELECTION SURVEY QUESTIONNAIRE</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="recs-cb.html"><a href="recs-cb.html"><i class="fa fa-check"></i><b>C</b> RECS derived variable codebook</a>
<ul>
<li class="chapter" data-level="C.1" data-path="recs-cb.html"><a href="recs-cb.html#admin-1"><i class="fa fa-check"></i><b>C.1</b> ADMIN</a></li>
<li class="chapter" data-level="C.2" data-path="recs-cb.html"><a href="recs-cb.html#geography"><i class="fa fa-check"></i><b>C.2</b> GEOGRAPHY</a></li>
<li class="chapter" data-level="C.3" data-path="recs-cb.html"><a href="recs-cb.html#weather"><i class="fa fa-check"></i><b>C.3</b> WEATHER</a></li>
<li class="chapter" data-level="C.4" data-path="recs-cb.html"><a href="recs-cb.html#your-home"><i class="fa fa-check"></i><b>C.4</b> YOUR HOME</a></li>
<li class="chapter" data-level="C.5" data-path="recs-cb.html"><a href="recs-cb.html#space-heating"><i class="fa fa-check"></i><b>C.5</b> SPACE HEATING</a></li>
<li class="chapter" data-level="C.6" data-path="recs-cb.html"><a href="recs-cb.html#air-conditioning"><i class="fa fa-check"></i><b>C.6</b> AIR CONDITIONING</a></li>
<li class="chapter" data-level="C.7" data-path="recs-cb.html"><a href="recs-cb.html#thermostat"><i class="fa fa-check"></i><b>C.7</b> THERMOSTAT</a></li>
<li class="chapter" data-level="C.8" data-path="recs-cb.html"><a href="recs-cb.html#weights-1"><i class="fa fa-check"></i><b>C.8</b> WEIGHTS</a></li>
<li class="chapter" data-level="C.9" data-path="recs-cb.html"><a href="recs-cb.html#consumption-and-expenditure"><i class="fa fa-check"></i><b>C.9</b> CONSUMPTION AND EXPENDITURE</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="exercise-solutions.html"><a href="exercise-solutions.html"><i class="fa fa-check"></i><b>D</b> Exercise solutions</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#descriptive-analysis"><i class="fa fa-check"></i>5 - Descriptive analysis</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#statistical-testing-1"><i class="fa fa-check"></i>6 - Statistical testing</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#modeling"><i class="fa fa-check"></i>7 - Modeling</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#specifying-sample-designs-and-replicate-weights-in-srvyr"><i class="fa fa-check"></i>10 - Specifying sample designs and replicate weights in {srvyr}</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#national-crime-victimization-survey-vignette"><i class="fa fa-check"></i>13 - National Crime Victimization Survey Vignette</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#americasbarometer-vignette"><i class="fa fa-check"></i>14 - AmericasBarometer Vignette</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploring Complex Survey Data Analysis Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<link href="style.css" rel="stylesheet">
<div class="hero-image-container"> 
  <img class= "hero-image" src="../images/header.png">
</div>
<div id="c06-statistical-testing" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Statistical testing<a href="c06-statistical-testing.html#c06-statistical-testing" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p> </p>
<div id="prereq6" class="section level3 unnumbered hasAnchor prereqbox-header">
<h3>Prerequisites<a href="c06-statistical-testing.html#prereq6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div class="prereqbox">
<p>For this chapter, load the following packages:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="c06-statistical-testing.html#cb157-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb157-2"><a href="c06-statistical-testing.html#cb157-2" tabindex="-1"></a><span class="fu">library</span>(survey)</span>
<span id="cb157-3"><a href="c06-statistical-testing.html#cb157-3" tabindex="-1"></a><span class="fu">library</span>(srvyr)</span>
<span id="cb157-4"><a href="c06-statistical-testing.html#cb157-4" tabindex="-1"></a><span class="fu">library</span>(srvyrexploR)</span>
<span id="cb157-5"><a href="c06-statistical-testing.html#cb157-5" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb157-6"><a href="c06-statistical-testing.html#cb157-6" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb157-7"><a href="c06-statistical-testing.html#cb157-7" tabindex="-1"></a><span class="fu">library</span>(prettyunits)</span></code></pre></div>
<p>We are using data from ANES and RECS described in Chapter <a href="c04-getting-started.html#c04-getting-started">4</a>. As a reminder, here is the code to create the design objects for each to use throughout this chapter. For ANES, we need to adjust the weight so it sums to the population instead of the sample (see the ANES documentation and Chapter <a href="c04-getting-started.html#c04-getting-started">4</a> for more information).</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="c06-statistical-testing.html#cb158-1" tabindex="-1"></a>targetpop <span class="ot">&lt;-</span> <span class="dv">231592693</span></span>
<span id="cb158-2"><a href="c06-statistical-testing.html#cb158-2" tabindex="-1"></a></span>
<span id="cb158-3"><a href="c06-statistical-testing.html#cb158-3" tabindex="-1"></a>anes_adjwgt <span class="ot">&lt;-</span> anes_2020 <span class="sc">%&gt;%</span></span>
<span id="cb158-4"><a href="c06-statistical-testing.html#cb158-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Weight =</span> Weight <span class="sc">/</span> <span class="fu">sum</span>(Weight) <span class="sc">*</span> targetpop)</span>
<span id="cb158-5"><a href="c06-statistical-testing.html#cb158-5" tabindex="-1"></a></span>
<span id="cb158-6"><a href="c06-statistical-testing.html#cb158-6" tabindex="-1"></a>anes_des <span class="ot">&lt;-</span> anes_adjwgt <span class="sc">%&gt;%</span></span>
<span id="cb158-7"><a href="c06-statistical-testing.html#cb158-7" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb158-8"><a href="c06-statistical-testing.html#cb158-8" tabindex="-1"></a>    <span class="at">weights =</span> Weight,</span>
<span id="cb158-9"><a href="c06-statistical-testing.html#cb158-9" tabindex="-1"></a>    <span class="at">strata =</span> Stratum,</span>
<span id="cb158-10"><a href="c06-statistical-testing.html#cb158-10" tabindex="-1"></a>    <span class="at">ids =</span> VarUnit,</span>
<span id="cb158-11"><a href="c06-statistical-testing.html#cb158-11" tabindex="-1"></a>    <span class="at">nest =</span> <span class="cn">TRUE</span></span>
<span id="cb158-12"><a href="c06-statistical-testing.html#cb158-12" tabindex="-1"></a>  )</span></code></pre></div>
<p>For RECS, details are included in the RECS documentation and Chapters <a href="c04-getting-started.html#c04-getting-started">4</a> and <a href="c10-sample-designs-replicate-weights.html#c10-sample-designs-replicate-weights">10</a>.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="c06-statistical-testing.html#cb159-1" tabindex="-1"></a>recs_des <span class="ot">&lt;-</span> recs_2020 <span class="sc">%&gt;%</span></span>
<span id="cb159-2"><a href="c06-statistical-testing.html#cb159-2" tabindex="-1"></a>  <span class="fu">as_survey_rep</span>(</span>
<span id="cb159-3"><a href="c06-statistical-testing.html#cb159-3" tabindex="-1"></a>    <span class="at">weights =</span> NWEIGHT,</span>
<span id="cb159-4"><a href="c06-statistical-testing.html#cb159-4" tabindex="-1"></a>    <span class="at">repweights =</span> NWEIGHT1<span class="sc">:</span>NWEIGHT60,</span>
<span id="cb159-5"><a href="c06-statistical-testing.html#cb159-5" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&quot;JK1&quot;</span>,</span>
<span id="cb159-6"><a href="c06-statistical-testing.html#cb159-6" tabindex="-1"></a>    <span class="at">scale =</span> <span class="dv">59</span> <span class="sc">/</span> <span class="dv">60</span>,</span>
<span id="cb159-7"><a href="c06-statistical-testing.html#cb159-7" tabindex="-1"></a>    <span class="at">mse =</span> <span class="cn">TRUE</span></span>
<span id="cb159-8"><a href="c06-statistical-testing.html#cb159-8" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="introduction-5" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Introduction<a href="c06-statistical-testing.html#introduction-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When analyzing survey results, the point estimates described in Chapter <a href="c05-descriptive-analysis.html#c05-descriptive-analysis">5</a> help us understand the data at a high level. Still, we often want to make comparisons between different groups. These comparisons are calculated through statistical testing.</p>
<p>The general idea of statistical testing is the same for data obtained through surveys and data obtained through other methods, where we compare the point estimates and uncertainty estimates of each statistic to see if statistically significant differences exist. However, statistical testing for complex surveys involves additional considerations due to the need to account for the sampling design in order to obtain accurate uncertainty estimates.</p>
<p>Statistical testing, also called hypothesis testing, involves declaring a null and alternative hypothesis. A null hypothesis is denoted as <span class="math inline">\(H_0\)</span> and the alternative hypothesis is denoted as <span class="math inline">\(H_A\)</span>. The null hypothesis is the default assumption in that there are no differences in the data, or that the data are operating under “standard” behaviors. On the other hand, the alternative hypothesis is the break from the “standard,” and we are trying to determine if the data support this alternative hypothesis.</p>
<p>Let’s review an example outside of survey data. If we are flipping a coin, a null hypothesis would be that the coin is fair and that each side has an equal chance of being flipped. In other words, the probability of the coin landing on each side is 1/2, whereas an alternative hypothesis could be that the coin is unfair and that one side has a higher probability of being flipped (e.g., a probability of 1/4 to get heads but a probability of 3/4 to get tails). We write this set of hypotheses as:</p>
<ul>
<li><span class="math inline">\(H_0: \rho_{heads} = \rho_{tails}\)</span>, where <span class="math inline">\(\rho_{x}\)</span> is the probability of flipping the coin and having it land on heads (<span class="math inline">\(\rho_{heads}\)</span>) or tails (<span class="math inline">\(\rho_{tails}\)</span>)</li>
<li><span class="math inline">\(H_A: \rho_{heads} \neq \rho_{tails}\)</span></li>
</ul>
<p>
When we conduct hypothesis testing, the statistical models calculate a p-value, which shows how likely we are to observe the data if the null hypothesis is true. If the p-value (a probability between 0 and 1) is small, we have strong evidence to reject the null hypothesis, as it is unlikely to see the data we observe if the null hypothesis is true. However, if the p-value is large, we say we do not have evidence to reject the null hypothesis. The size of the p-value for this cut-off is determined by Type 1 error known as <span class="math inline">\(\alpha\)</span>. A common Type 1 error value for statistical testing is to use <span class="math inline">\(\alpha = 0.05\)</span><a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a>. Explanations of statistical testing often refer to confidence level. The confidence level is the inverse of the Type 1 error. Thus, if <span class="math inline">\(\alpha = 0.05\)</span>, the confidence level would be 95%.
</p>
<p>The functions in the {survey} package allow for the correct estimation of the uncertainty estimates (e.g., standard deviations and confidence intervals). This chapter covers the following statistical tests with survey data and the following functions from the {survey} package <span class="citation">(<a href="#ref-lumley2010complex">Lumley 2010</a>)</span>:</p>
<ul>
<li>Comparison of proportions (<code>svyttest()</code>)</li>
<li>Comparison of means (<code>svyttest()</code>)</li>
<li>Goodness-of-fit tests (<code>svygofchisq()</code>)</li>
<li>Tests of independence (<code>svychisq()</code>)</li>
<li>Tests of homogeneity (<code>svychisq()</code>)</li>
</ul>
</div>
<div id="dot-notation" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Dot notation<a href="c06-statistical-testing.html#dot-notation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>
Up to this point, we have shown functions that use wrappers from the {srvyr} package. This means that the functions work with tidyverse syntax. However, the functions in this chapter do not have wrappers in the {srvyr} package and are instead used directly from the {survey} package. Therefore, the design object is not the first argument, and to use these functions with the magrittr pipe (<code>%&gt;%</code>) and tidyverse syntax, we need to use dot (<code>.</code>) notation<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a>.</p>
<p>Functions that work with the magrittr pipe (<code>%&gt;%</code>) have the dataset as the first argument. When we run a function with the pipe, it automatically places anything to the left of the pipe into the first argument of the function to the right of the pipe. For example, if we wanted to take the <code>towny</code> data from the {gt} package and filter to municipalities with the Census Subdivision Type of “city,” we can write the code in at least four different ways:</p>
<ol style="list-style-type: decimal">
<li><code>filter(towny, csd_type == "city")</code></li>
<li><code>towny %&gt;% filter(csd_type == "city")</code></li>
<li><code>towny %&gt;% filter(., csd_type == "city")</code></li>
<li><code>towny %&gt;% filter(.data = ., csd_type == "city")</code></li>
</ol>
<p>Each of these lines of code produces the same output since the argument that takes the dataset is in the first spot in <code>filter()</code>. The first two are probably familiar to those who have worked with the tidyverse. The third option functions the same way as the second one but is explicit that <code>towny</code> goes into the first argument, and the fourth option indicates that <code>towny</code> is going into the named argument of <code>.data</code>. Here, we are telling R to take what is on the left side of the pipe (<code>towny</code>) and pipe it into the spot with the dot (<code>.</code>) — the first argument.</p>
<p>In functions that are not part of the tidyverse, the data argument may not be in the first spot. For example, in <code>svyttest()</code>, the data argument is in the second spot, which means we need to place the dot (<code>.</code>) in the second spot and not the first. For example: </p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="c06-statistical-testing.html#cb160-1" tabindex="-1"></a>svydata_des <span class="sc">%&gt;%</span></span>
<span id="cb160-2"><a href="c06-statistical-testing.html#cb160-2" tabindex="-1"></a> <span class="fu">svyttest</span>(x <span class="sc">~</span> y, .)</span></code></pre></div>
<p>By default, the pipe places the left-hand object in the first argument spot. Placing the dot (<code>.</code>) in the second argument spot indicates that the survey design object <code>svydata_des</code> should be used in the second argument and not the first.</p>
<p>Alternatively, named arguments could be used to place the dot first, as named arguments can appear at any location as in the following:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="c06-statistical-testing.html#cb161-1" tabindex="-1"></a>svydata_des <span class="sc">%&gt;%</span></span>
<span id="cb161-2"><a href="c06-statistical-testing.html#cb161-2" tabindex="-1"></a> <span class="fu">svyttest</span>(<span class="at">design =</span> ., x <span class="sc">~</span> y)</span></code></pre></div>
<p>However, the following code does not work as the <code>svyttest()</code> function expects the formula as the first argument when arguments are not named:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="c06-statistical-testing.html#cb162-1" tabindex="-1"></a>svydata_des <span class="sc">%&gt;%</span></span>
<span id="cb162-2"><a href="c06-statistical-testing.html#cb162-2" tabindex="-1"></a> <span class="fu">svyttest</span>(., x <span class="sc">~</span> y)</span></code></pre></div>
<p> </p>
</div>
<div id="stattest-ttest" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Comparison of proportions and means<a href="c06-statistical-testing.html#stattest-ttest" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>
We use t-tests to compare two proportions or means. T-tests allow us to determine if one proportion or mean is statistically different from another. They are commonly used to determine if a single estimate differs from a known value (e.g., 0 or 50%) or to compare two group means (e.g., North versus South). Comparing a single estimate to a known value is called a one-sample t-test, and we can set up the hypothesis test as follows:</p>
<ul>
<li><span class="math inline">\(H_0: \mu = 0\)</span> where <span class="math inline">\(\mu\)</span> is the mean outcome and <span class="math inline">\(0\)</span> is the value we are comparing it to</li>
<li><span class="math inline">\(H_A: \mu \neq 0\)</span></li>
</ul>
<p></p>
<p>
For comparing two estimates, this is called a two-sample t-test. We can set up the hypothesis test as follows:</p>
<ul>
<li><span class="math inline">\(H_0: \mu_1 = \mu_2\)</span> where <span class="math inline">\(\mu_i\)</span> is the mean outcome for group <span class="math inline">\(i\)</span></li>
<li><span class="math inline">\(H_A: \mu_1 \neq \mu_2\)</span></li>
</ul>
<p>
Two-sample t-tests can also be paired or unpaired. If the data come from two different populations (e.g., North versus South), the t-test run is an unpaired or independent samples t-test. Paired t-tests occur when the data come from the same population. This is commonly seen with data from the same population in two different time periods (e.g., before and after an intervention).
</p>
<p>The difference between t-tests with non-survey data and survey data is based on the underlying variance estimation difference. Chapter <a href="c10-sample-designs-replicate-weights.html#c10-sample-designs-replicate-weights">10</a> provides a detailed overview of the math behind the mean and sampling error calculations for various sample designs. The functions in the {survey} package account for these nuances, provided the design object is correctly defined.</p>
<div id="stattest-ttest-syntax" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Syntax<a href="c06-statistical-testing.html#stattest-ttest-syntax" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>
When we do not have survey data, we can use the <code>t.test()</code> function from the {stats} package to run t-tests. This function does not allow for weights or the variance structure that need to be accounted for with survey data. Therefore, we need to use the <code>svyttest()</code> function from {survey} when using survey data. Many of the arguments are the same between the two functions, but there are a few key differences:</p>
<ul>
<li>We need to use the survey design object instead of the original data frame</li>
<li>We can only use a formula and not separate x and y data</li>
<li>The confidence level cannot be specified and is always set to 95%. However, we show examples of how the confidence level can be changed after running the <code>svyttest()</code> function by using the <code>confint()</code> function.</li>
</ul>
<p>Here is the syntax for the <code>svyttest()</code> function:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="c06-statistical-testing.html#cb163-1" tabindex="-1"></a><span class="fu">svyttest</span>(formula,</span>
<span id="cb163-2"><a href="c06-statistical-testing.html#cb163-2" tabindex="-1"></a>         design,</span>
<span id="cb163-3"><a href="c06-statistical-testing.html#cb163-3" tabindex="-1"></a>         ...)</span></code></pre></div>
<p>The arguments are:</p>
<ul>
<li><code>formula</code>: Formula, <code>outcome~group</code> for two-sample, <code>outcome~0</code> or <code>outcome~1</code> for one-sample. The group variable must be a factor or character with two levels, or be coded 0/1 or 1/2. We give more details on formula set-up below for different types of tests.</li>
<li><code>design</code>: survey design object</li>
<li><code>...</code>: This passes options on for one-sided tests only, and thus, we can specify <code>na.rm=TRUE</code></li>
</ul>
<p>Notice that the first argument here is the <code>formula</code> and not the <code>design</code>. This means we must use the dot <code>(.)</code> if we pipe in the survey design object (as described in Section <a href="c06-statistical-testing.html#dot-notation">6.2</a>).</p>
<p>The <code>formula</code> argument can take several different forms depending on what we are measuring. Here are a few common scenarios: </p>
<ol style="list-style-type: decimal">
<li>One-sample t-test:
<ol style="list-style-type: lower-alpha">
<li>Comparison to 0: <code>var ~ 0</code>, where <code>var</code> is the measure of interest, and we compare it to the value <code>0</code>. For example, we could test if the population mean of household debt is different from <code>0</code> given the sample data collected.</li>
<li>Comparison to a different value: <code>var - value ~ 0</code>, where <code>var</code> is the measure of interest and <code>value</code> is what we are comparing to. For example, we could test if the proportion of the population that has blue eyes is different from <code>25%</code> by using <code>var - 0.25 ~ 0</code>. Note that specifying the formula as <code>var ~ 0.25</code> is not equivalent and results in a syntax error.</li>
</ol></li>
<li>Two-sample t-test:
<ol style="list-style-type: lower-alpha">
<li>Unpaired:
<ul>
<li>2 level grouping variable: <code>var ~ groupVar</code>, where <code>var</code> is the measure of interest and <code>groupVar</code> is a variable with two categories. For example, we could test if the average age of the population who voted for president in 2020 differed from the age of people who did not vote. In this case, age would be used for <code>var</code>, and a binary variable indicating voting activity would be the <code>groupVar</code>.</li>
<li>3+ level grouping variable: <code>var ~ groupVar == level</code>, where <code>var</code> is the measure of interest, <code>groupVar</code> is the categorical variable, and <code>level</code> is the category level to isolate. For example, we could test if the test scores in one classroom differed from all other classrooms where <code>groupVar</code> would be the variable holding the values for classroom IDs and <code>level</code> is the classroom ID we want to compare to the others.</li>
</ul></li>
<li>Paired: <code>var_1 - var_2 ~ 0</code>, where <code>var_1</code> is the first variable of interest and <code>var_2</code> is the second variable of interest. For example, we could test if test scores on a subject differed between the start and the end of a course, so <code>var_1</code> would be the test score at the beginning of the course, and <code>var_2</code> would be the score at the end of the course.</li>
</ol></li>
</ol>
<p>
The <code>na.rm</code> argument defaults to <code>FALSE</code>, which means if any data values are missing, the t-test does not compute. Throughout this chapter, we always set <code>na.rm = TRUE</code>, but before analyzing the survey data, review the notes provided in Chapter <a href="c11-missing-data.html#c11-missing-data">11</a> to better understand how to handle missing data.</p>
<p>Let’s walk through a few examples using the RECS data.</p>
</div>
<div id="stattest-ttest-examples" class="section level3 hasAnchor" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> Examples<a href="c06-statistical-testing.html#stattest-ttest-examples" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="stattest-ttest-ex1" class="section level4 unnumbered hasAnchor">
<h4>Example 1: One-sample t-test for mean<a href="c06-statistical-testing.html#stattest-ttest-ex1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>
RECS asks respondents to indicate what temperature they set their house to during the summer at night<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a>. In our data, we have called this variable <code>SummerTempNight</code>. If we want to see if the average U.S. household sets its temperature at a value different from 68<span class="math inline">\(^\circ\)</span>F<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a>, we could set up the hypothesis as follows:</p>
<ul>
<li><span class="math inline">\(H_0: \mu = 68\)</span> where <span class="math inline">\(\mu\)</span> is the average temperature U.S. households set their thermostat to in the summer at night</li>
<li><span class="math inline">\(H_A: \mu \neq 68\)</span></li>
</ul>
<p>
To conduct this in R, we use <code>svyttest()</code> and subtract the temperature on the left-hand side of the formula:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="c06-statistical-testing.html#cb164-1" tabindex="-1"></a>ttest_ex1 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb164-2"><a href="c06-statistical-testing.html#cb164-2" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb164-3"><a href="c06-statistical-testing.html#cb164-3" tabindex="-1"></a>    <span class="at">formula =</span> SummerTempNight <span class="sc">-</span> <span class="dv">68</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb164-4"><a href="c06-statistical-testing.html#cb164-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb164-5"><a href="c06-statistical-testing.html#cb164-5" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb164-6"><a href="c06-statistical-testing.html#cb164-6" tabindex="-1"></a>  )</span>
<span id="cb164-7"><a href="c06-statistical-testing.html#cb164-7" tabindex="-1"></a></span>
<span id="cb164-8"><a href="c06-statistical-testing.html#cb164-8" tabindex="-1"></a>ttest_ex1</span></code></pre></div>
<pre><code>## 
##  Design-based one-sample t-test
## 
## data:  SummerTempNight - 68 ~ 0
## t = 85, df = 58, p-value &lt;2e-16
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  3.288 3.447
## sample estimates:
##  mean 
## 3.367</code></pre>
<p>
To pull out specific output, we can use R’s built-in <code>$</code> operator. For instance, to obtain the estimate <span class="math inline">\(\mu - 68\)</span>, we run <code>ttest_ex1$estimate</code>.</p>
<p>If we want the average, we take our t-test estimate and add it to 68:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="c06-statistical-testing.html#cb166-1" tabindex="-1"></a>ttest_ex1<span class="sc">$</span>estimate <span class="sc">+</span> <span class="dv">68</span></span></code></pre></div>
<pre><code>##  mean 
## 71.37</code></pre>
<p>Or, we can use the <code>survey_mean()</code> function described in Chapter <a href="c05-descriptive-analysis.html#c05-descriptive-analysis">5</a>: </p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="c06-statistical-testing.html#cb168-1" tabindex="-1"></a>recs_des <span class="sc">%&gt;%</span></span>
<span id="cb168-2"><a href="c06-statistical-testing.html#cb168-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mu =</span> <span class="fu">survey_mean</span>(SummerTempNight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 × 2
##      mu  mu_se
##   &lt;dbl&gt;  &lt;dbl&gt;
## 1  71.4 0.0397</code></pre>
<p> </p>
<p>The result is the same in both methods, so we see that the average temperature U.S. households set their thermostat to in the summer at night is 71.4<span class="math inline">\(^\circ\)</span>F. Looking at the output from <code>svyttest()</code>, the t-statistic is 84.8, and the p-value is &lt;0.0001, indicating that the average is statistically different from 68<span class="math inline">\(^\circ\)</span>F at an <span class="math inline">\(\alpha\)</span> level of <span class="math inline">\(0.05\)</span>. </p>
<p>If we want an 80% confidence interval for the test statistic, we can use the function <code>confint()</code> to change the confidence level. Below, we print the default confidence interval (95%), the confidence interval explicitly specifying the level as 95%, and the 80% confidence interval. When the confidence level is 95% either by default or explicitly, R returns a vector with both row and column names. However, when we specify any other confidence level, an unnamed vector is returned, with the first element being the lower bound and the second element being the upper bound of the confidence interval.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="c06-statistical-testing.html#cb170-1" tabindex="-1"></a><span class="fu">confint</span>(ttest_ex1)</span></code></pre></div>
<pre><code>##                                  2.5 % 97.5 %
## as.numeric(SummerTempNight - 68) 3.288  3.447
## attr(,&quot;conf.level&quot;)
## [1] 0.95</code></pre>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="c06-statistical-testing.html#cb172-1" tabindex="-1"></a><span class="fu">confint</span>(ttest_ex1, <span class="at">level =</span> <span class="fl">0.95</span>)</span></code></pre></div>
<pre><code>##                                  2.5 % 97.5 %
## as.numeric(SummerTempNight - 68) 3.288  3.447
## attr(,&quot;conf.level&quot;)
## [1] 0.95</code></pre>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="c06-statistical-testing.html#cb174-1" tabindex="-1"></a><span class="fu">confint</span>(ttest_ex1, <span class="at">level =</span> <span class="fl">0.8</span>)</span></code></pre></div>
<pre><code>## [1] 3.316 3.419
## attr(,&quot;conf.level&quot;)
## [1] 0.8</code></pre>
<p>In this case, neither confidence interval contains 0, and we draw the same conclusion from either that the average temperature households set their thermostat in the summer at night is significantly higher than 68<span class="math inline">\(^\circ\)</span>F.</p>
</div>
<div id="stattest-ttest-ex2" class="section level4 unnumbered hasAnchor">
<h4>Example 2: One-sample t-test for proportion<a href="c06-statistical-testing.html#stattest-ttest-ex2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>
RECS asked respondents if they use air conditioning (A/C) in their home<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a>. In our data, we call this variable <code>ACUsed</code>. Let’s look at the proportion of U.S. households that use A/C in their homes using the <code>survey_prop()</code> function we learned in Chapter <a href="c05-descriptive-analysis.html#c05-descriptive-analysis">5</a>. </p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="c06-statistical-testing.html#cb176-1" tabindex="-1"></a>acprop <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb176-2"><a href="c06-statistical-testing.html#cb176-2" tabindex="-1"></a>  <span class="fu">group_by</span>(ACUsed) <span class="sc">%&gt;%</span></span>
<span id="cb176-3"><a href="c06-statistical-testing.html#cb176-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_prop</span>())</span>
<span id="cb176-4"><a href="c06-statistical-testing.html#cb176-4" tabindex="-1"></a></span>
<span id="cb176-5"><a href="c06-statistical-testing.html#cb176-5" tabindex="-1"></a>acprop</span></code></pre></div>
<pre><code>## # A tibble: 2 × 3
##   ACUsed     p    p_se
##   &lt;lgl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
## 1 FALSE  0.113 0.00306
## 2 TRUE   0.887 0.00306</code></pre>
<p> </p>
<p>Based on this, 88.7% of U.S. households use A/C in their homes. If we wanted to know if this differs from 90%, we could set up our hypothesis as follows:</p>
<ul>
<li><span class="math inline">\(H_0: p = 0.90\)</span> where <span class="math inline">\(p\)</span> is the proportion of U.S. households that use A/C in their homes</li>
<li><span class="math inline">\(H_A: p \neq 0.90\)</span></li>
</ul>
<p>To conduct this in R, we use the <code>svyttest()</code> function as follows:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="c06-statistical-testing.html#cb178-1" tabindex="-1"></a>ttest_ex2 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb178-2"><a href="c06-statistical-testing.html#cb178-2" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb178-3"><a href="c06-statistical-testing.html#cb178-3" tabindex="-1"></a>    <span class="at">formula =</span> (ACUsed <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">-</span> <span class="fl">0.90</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb178-4"><a href="c06-statistical-testing.html#cb178-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb178-5"><a href="c06-statistical-testing.html#cb178-5" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb178-6"><a href="c06-statistical-testing.html#cb178-6" tabindex="-1"></a>  )</span>
<span id="cb178-7"><a href="c06-statistical-testing.html#cb178-7" tabindex="-1"></a></span>
<span id="cb178-8"><a href="c06-statistical-testing.html#cb178-8" tabindex="-1"></a>ttest_ex2</span></code></pre></div>
<pre><code>## 
##  Design-based one-sample t-test
## 
## data:  (ACUsed == TRUE) - 0.9 ~ 0
## t = -4.4, df = 58, p-value = 5e-05
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  -0.019603 -0.007348
## sample estimates:
##     mean 
## -0.01348</code></pre>
<p>The output from the <code>svyttest()</code> function can be a bit hard to read. Using the <code>tidy()</code> function from the {broom} package, we can clean up the output into a tibble to more easily understand what the test tells us <span class="citation">(<a href="#ref-R-broom">Robinson, Hayes, and Couch 2023</a>)</span>.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="c06-statistical-testing.html#cb180-1" tabindex="-1"></a><span class="fu">tidy</span>(ttest_ex2)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 8
##   estimate statistic   p.value parameter conf.low conf.high method      
##      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;       
## 1  -0.0135     -4.40 0.0000466        58  -0.0196  -0.00735 Design-base…
## # ℹ 1 more variable: alternative &lt;chr&gt;</code></pre>
<p>
The ‘tidied’ output can also be piped into the {gt} package to create a table ready for publication (see Table <a href="c06-statistical-testing.html#tab:stattest-ttest-ex2-gt-tab">6.1</a>). We go over the {gt} package in Chapter <a href="c08-communicating-results.html#c08-communicating-results">8</a>. The function <code>pretty_p_value()</code> comes from the {prettyunits} package and converts numeric p-values to characters and, by default, prints four decimal places and displays any p-value less than 0.0001 as <code>"&lt;0.0001"</code>, though another minimum display p-value can be specified <span class="citation">(<a href="#ref-R-prettyunits">Csardi 2023</a>)</span>.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="c06-statistical-testing.html#cb182-1" tabindex="-1"></a><span class="fu">tidy</span>(ttest_ex2) <span class="sc">%&gt;%</span></span>
<span id="cb182-2"><a href="c06-statistical-testing.html#cb182-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value =</span> <span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb182-3"><a href="c06-statistical-testing.html#cb182-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb182-4"><a href="c06-statistical-testing.html#cb182-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="amgogtoyyy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#amgogtoyyy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#amgogtoyyy thead, #amgogtoyyy tbody, #amgogtoyyy tfoot, #amgogtoyyy tr, #amgogtoyyy td, #amgogtoyyy th {
  border-style: none;
}

#amgogtoyyy p {
  margin: 0;
  padding: 0;
}

#amgogtoyyy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#amgogtoyyy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#amgogtoyyy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#amgogtoyyy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#amgogtoyyy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#amgogtoyyy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#amgogtoyyy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#amgogtoyyy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#amgogtoyyy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#amgogtoyyy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#amgogtoyyy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#amgogtoyyy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#amgogtoyyy .gt_spanner_row {
  border-bottom-style: hidden;
}

#amgogtoyyy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#amgogtoyyy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#amgogtoyyy .gt_from_md > :first-child {
  margin-top: 0;
}

#amgogtoyyy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#amgogtoyyy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#amgogtoyyy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#amgogtoyyy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#amgogtoyyy .gt_row_group_first td {
  border-top-width: 2px;
}

#amgogtoyyy .gt_row_group_first th {
  border-top-width: 2px;
}

#amgogtoyyy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#amgogtoyyy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#amgogtoyyy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#amgogtoyyy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#amgogtoyyy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#amgogtoyyy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#amgogtoyyy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#amgogtoyyy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#amgogtoyyy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#amgogtoyyy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#amgogtoyyy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#amgogtoyyy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#amgogtoyyy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#amgogtoyyy .gt_left {
  text-align: left;
}

#amgogtoyyy .gt_center {
  text-align: center;
}

#amgogtoyyy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#amgogtoyyy .gt_font_normal {
  font-weight: normal;
}

#amgogtoyyy .gt_font_bold {
  font-weight: bold;
}

#amgogtoyyy .gt_font_italic {
  font-style: italic;
}

#amgogtoyyy .gt_super {
  font-size: 65%;
}

#amgogtoyyy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#amgogtoyyy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#amgogtoyyy .gt_indent_1 {
  text-indent: 5px;
}

#amgogtoyyy .gt_indent_2 {
  text-indent: 10px;
}

#amgogtoyyy .gt_indent_3 {
  text-indent: 15px;
}

#amgogtoyyy .gt_indent_4 {
  text-indent: 20px;
}

#amgogtoyyy .gt_indent_5 {
  text-indent: 25px;
}

#amgogtoyyy .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#amgogtoyyy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:stattest-ttest-ex2-gt-tab">TABLE 6.1: </span>One-sample t-test output for estimates of U.S. households use A/C in their homes differing from 90%, RECS 2020</caption>
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="parameter">parameter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="conf.low">conf.low</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="conf.high">conf.high</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="method">method</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="alternative">alternative</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="estimate" class="gt_row gt_right">−0.01</td>
<td headers="statistic" class="gt_row gt_right">−4.40</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td>
<td headers="parameter" class="gt_row gt_right">58.00</td>
<td headers="conf.low" class="gt_row gt_right">−0.02</td>
<td headers="conf.high" class="gt_row gt_right">−0.01</td>
<td headers="method" class="gt_row gt_left">Design-based one-sample t-test</td>
<td headers="alternative" class="gt_row gt_left">two.sided</td></tr>
  </tbody>
  
  
</table>
</div>
<p> </p>
<p>The estimate differs from Example 1 in that it does not display <span class="math inline">\(p - 0.90\)</span> but rather <span class="math inline">\(p\)</span>, or the difference between the U.S. households that use A/C and our comparison proportion. We can see that there is a difference of —1.35 percentage points. Additionally, the t-statistic value in the <code>statistic</code> column is —4.4, and the p-value is &lt;0.0001. These results indicate that fewer than 90% of U.S. households use A/C in their homes.
</p>
</div>
<div id="stattest-ttest-ex3" class="section level4 unnumbered hasAnchor">
<h4>Example 3: Unpaired two-sample t-test<a href="c06-statistical-testing.html#stattest-ttest-ex3" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>
In addition to <code>ACUsed</code>, another variable in the RECS data is a household’s total electric cost in dollars (<code>DOLLAREL</code>).To see if U.S. households with A/C had higher electrical bills than those without, we can set up the hypothesis as follows:</p>
<ul>
<li><span class="math inline">\(H_0: \mu_{AC} = \mu_{noAC}\)</span> where <span class="math inline">\(\mu_{AC}\)</span> is the electrical bill cost for U.S. households that used A/C, and <span class="math inline">\(\mu_{noAC}\)</span> is the electrical bill cost for U.S. households that did not use A/C</li>
<li><span class="math inline">\(H_A: \mu_{AC} \neq \mu_{noAC}\)</span></li>
</ul>
<p>Let’s take a quick look at the data to see how they are formatted: </p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="c06-statistical-testing.html#cb183-1" tabindex="-1"></a>recs_des <span class="sc">%&gt;%</span></span>
<span id="cb183-2"><a href="c06-statistical-testing.html#cb183-2" tabindex="-1"></a>  <span class="fu">group_by</span>(ACUsed) <span class="sc">%&gt;%</span></span>
<span id="cb183-3"><a href="c06-statistical-testing.html#cb183-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">survey_mean</span>(DOLLAREL, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 2 × 3
##   ACUsed  mean mean_se
##   &lt;lgl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
## 1 FALSE  1056.   16.0 
## 2 TRUE   1422.    5.69</code></pre>
<p> </p>
<p>To conduct this in R, we use <code>svyttest()</code>:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="c06-statistical-testing.html#cb185-1" tabindex="-1"></a>ttest_ex3 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb185-2"><a href="c06-statistical-testing.html#cb185-2" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb185-3"><a href="c06-statistical-testing.html#cb185-3" tabindex="-1"></a>    <span class="at">formula =</span> DOLLAREL <span class="sc">~</span> ACUsed,</span>
<span id="cb185-4"><a href="c06-statistical-testing.html#cb185-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb185-5"><a href="c06-statistical-testing.html#cb185-5" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb185-6"><a href="c06-statistical-testing.html#cb185-6" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="c06-statistical-testing.html#cb186-1" tabindex="-1"></a><span class="fu">tidy</span>(ttest_ex3) <span class="sc">%&gt;%</span></span>
<span id="cb186-2"><a href="c06-statistical-testing.html#cb186-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value =</span> <span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb186-3"><a href="c06-statistical-testing.html#cb186-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb186-4"><a href="c06-statistical-testing.html#cb186-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="vcsgdngeqj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vcsgdngeqj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vcsgdngeqj thead, #vcsgdngeqj tbody, #vcsgdngeqj tfoot, #vcsgdngeqj tr, #vcsgdngeqj td, #vcsgdngeqj th {
  border-style: none;
}

#vcsgdngeqj p {
  margin: 0;
  padding: 0;
}

#vcsgdngeqj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vcsgdngeqj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vcsgdngeqj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vcsgdngeqj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vcsgdngeqj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vcsgdngeqj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vcsgdngeqj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vcsgdngeqj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vcsgdngeqj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vcsgdngeqj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vcsgdngeqj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vcsgdngeqj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vcsgdngeqj .gt_spanner_row {
  border-bottom-style: hidden;
}

#vcsgdngeqj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vcsgdngeqj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vcsgdngeqj .gt_from_md > :first-child {
  margin-top: 0;
}

#vcsgdngeqj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vcsgdngeqj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vcsgdngeqj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vcsgdngeqj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vcsgdngeqj .gt_row_group_first td {
  border-top-width: 2px;
}

#vcsgdngeqj .gt_row_group_first th {
  border-top-width: 2px;
}

#vcsgdngeqj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vcsgdngeqj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vcsgdngeqj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vcsgdngeqj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vcsgdngeqj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vcsgdngeqj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vcsgdngeqj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vcsgdngeqj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vcsgdngeqj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vcsgdngeqj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vcsgdngeqj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vcsgdngeqj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vcsgdngeqj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vcsgdngeqj .gt_left {
  text-align: left;
}

#vcsgdngeqj .gt_center {
  text-align: center;
}

#vcsgdngeqj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vcsgdngeqj .gt_font_normal {
  font-weight: normal;
}

#vcsgdngeqj .gt_font_bold {
  font-weight: bold;
}

#vcsgdngeqj .gt_font_italic {
  font-style: italic;
}

#vcsgdngeqj .gt_super {
  font-size: 65%;
}

#vcsgdngeqj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vcsgdngeqj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vcsgdngeqj .gt_indent_1 {
  text-indent: 5px;
}

#vcsgdngeqj .gt_indent_2 {
  text-indent: 10px;
}

#vcsgdngeqj .gt_indent_3 {
  text-indent: 15px;
}

#vcsgdngeqj .gt_indent_4 {
  text-indent: 20px;
}

#vcsgdngeqj .gt_indent_5 {
  text-indent: 25px;
}

#vcsgdngeqj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#vcsgdngeqj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:stattest-ttest-ex3-gt-tab">TABLE 6.2: </span>Unpaired two-sample t-test output for estimates of U.S. households electrical bills by A/C use, RECS 2020</caption>
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="parameter">parameter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="conf.low">conf.low</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="conf.high">conf.high</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="method">method</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="alternative">alternative</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="estimate" class="gt_row gt_right">365.72</td>
<td headers="statistic" class="gt_row gt_right">21.29</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td>
<td headers="parameter" class="gt_row gt_right">58.00</td>
<td headers="conf.low" class="gt_row gt_right">331.33</td>
<td headers="conf.high" class="gt_row gt_right">400.11</td>
<td headers="method" class="gt_row gt_left">Design-based t-test</td>
<td headers="alternative" class="gt_row gt_left">two.sided</td></tr>
  </tbody>
  
  
</table>
</div>
<p>The results in Table <a href="c06-statistical-testing.html#tab:stattest-ttest-ex3-gt-tab">6.2</a> indicate that the difference in electrical bills for those who used A/C and those who did not is, on average, $365.72. The difference appears to be statistically significant as the t-statistic is 21.3 and the p-value is &lt;0.0001. Households that used A/C spent, on average, $365.72 more in 2020 on electricity than households without A/C.
</p>
</div>
<div id="stattest-ttest-ex4" class="section level4 unnumbered hasAnchor">
<h4>Example 4: Paired two-sample t-test<a href="c06-statistical-testing.html#stattest-ttest-ex4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>
Let’s say we want to test whether the temperature at which U.S. households set their thermostat at night differs depending on the season (comparing summer and winter<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a> temperatures). We could set up the hypothesis as follows:</p>
<ul>
<li><span class="math inline">\(H_0: \mu_{summer} = \mu_{winter}\)</span> where <span class="math inline">\(\mu_{summer}\)</span> is the temperature that U.S. households set their thermostat to during summer nights, and <span class="math inline">\(\mu_{winter}\)</span> is the temperature that U.S. households set their thermostat to during winter nights</li>
<li><span class="math inline">\(H_A: \mu_{summer} \neq \mu_{winter}\)</span></li>
</ul>
<p>To conduct this in R, we use <code>svyttest()</code> by calculating the temperature difference on the left-hand side as follows:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="c06-statistical-testing.html#cb187-1" tabindex="-1"></a>ttest_ex4 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb187-2"><a href="c06-statistical-testing.html#cb187-2" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb187-3"><a href="c06-statistical-testing.html#cb187-3" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb187-4"><a href="c06-statistical-testing.html#cb187-4" tabindex="-1"></a>    <span class="at">formula =</span> SummerTempNight <span class="sc">-</span> WinterTempNight <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb187-5"><a href="c06-statistical-testing.html#cb187-5" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb187-6"><a href="c06-statistical-testing.html#cb187-6" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="c06-statistical-testing.html#cb188-1" tabindex="-1"></a><span class="fu">tidy</span>(ttest_ex4) <span class="sc">%&gt;%</span></span>
<span id="cb188-2"><a href="c06-statistical-testing.html#cb188-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value =</span> <span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb188-3"><a href="c06-statistical-testing.html#cb188-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb188-4"><a href="c06-statistical-testing.html#cb188-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="rqkvozqyqn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rqkvozqyqn table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rqkvozqyqn thead, #rqkvozqyqn tbody, #rqkvozqyqn tfoot, #rqkvozqyqn tr, #rqkvozqyqn td, #rqkvozqyqn th {
  border-style: none;
}

#rqkvozqyqn p {
  margin: 0;
  padding: 0;
}

#rqkvozqyqn .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rqkvozqyqn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rqkvozqyqn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rqkvozqyqn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rqkvozqyqn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rqkvozqyqn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rqkvozqyqn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rqkvozqyqn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rqkvozqyqn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rqkvozqyqn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rqkvozqyqn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rqkvozqyqn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rqkvozqyqn .gt_spanner_row {
  border-bottom-style: hidden;
}

#rqkvozqyqn .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rqkvozqyqn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rqkvozqyqn .gt_from_md > :first-child {
  margin-top: 0;
}

#rqkvozqyqn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rqkvozqyqn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rqkvozqyqn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rqkvozqyqn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rqkvozqyqn .gt_row_group_first td {
  border-top-width: 2px;
}

#rqkvozqyqn .gt_row_group_first th {
  border-top-width: 2px;
}

#rqkvozqyqn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rqkvozqyqn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rqkvozqyqn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rqkvozqyqn .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rqkvozqyqn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rqkvozqyqn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rqkvozqyqn .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rqkvozqyqn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rqkvozqyqn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rqkvozqyqn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rqkvozqyqn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rqkvozqyqn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rqkvozqyqn .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rqkvozqyqn .gt_left {
  text-align: left;
}

#rqkvozqyqn .gt_center {
  text-align: center;
}

#rqkvozqyqn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rqkvozqyqn .gt_font_normal {
  font-weight: normal;
}

#rqkvozqyqn .gt_font_bold {
  font-weight: bold;
}

#rqkvozqyqn .gt_font_italic {
  font-style: italic;
}

#rqkvozqyqn .gt_super {
  font-size: 65%;
}

#rqkvozqyqn .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rqkvozqyqn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rqkvozqyqn .gt_indent_1 {
  text-indent: 5px;
}

#rqkvozqyqn .gt_indent_2 {
  text-indent: 10px;
}

#rqkvozqyqn .gt_indent_3 {
  text-indent: 15px;
}

#rqkvozqyqn .gt_indent_4 {
  text-indent: 20px;
}

#rqkvozqyqn .gt_indent_5 {
  text-indent: 25px;
}

#rqkvozqyqn .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#rqkvozqyqn div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:stattest-ttest-ex4-gt-tab">TABLE 6.3: </span>Paired two-sample t-test output for estimates of U.S. households thermostat temperature by season, RECS 2020</caption>
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="parameter">parameter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="conf.low">conf.low</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="conf.high">conf.high</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="method">method</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="alternative">alternative</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="estimate" class="gt_row gt_right">2.85</td>
<td headers="statistic" class="gt_row gt_right">50.83</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td>
<td headers="parameter" class="gt_row gt_right">58.00</td>
<td headers="conf.low" class="gt_row gt_right">2.74</td>
<td headers="conf.high" class="gt_row gt_right">2.96</td>
<td headers="method" class="gt_row gt_left">Design-based one-sample t-test</td>
<td headers="alternative" class="gt_row gt_left">two.sided</td></tr>
  </tbody>
  
  
</table>
</div>
<p>
The results displayed in Table <a href="c06-statistical-testing.html#tab:stattest-ttest-ex4-gt-tab">6.3</a> indicate that U.S. households set their thermostat on average 2.9<span class="math inline">\(^\circ\)</span>F warmer in summer nights than winter nights, which is statistically significant (t = 50.8, p-value is &lt;0.0001). </p>
</div>
</div>
</div>
<div id="stattest-chi" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Chi-squared tests<a href="c06-statistical-testing.html#stattest-chi" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>
Chi-squared tests (<span class="math inline">\(\chi^2\)</span>) allow us to examine multiple proportions using a goodness-of-fit test, a test of independence, or a test of homogeneity. These three tests have the same <span class="math inline">\(\chi^2\)</span> distributions but with slightly different underlying assumptions.
</p>
<p>
First, goodness-of-fit tests are used when comparing observed data to expected data. For example, this could be used to determine if respondent demographics (the observed data in the sample) match known population information (the expected data). In this case, we can set up the hypothesis test as follows:</p>
<ul>
<li><span class="math inline">\(H_0: p_1 = \pi_1, ~ p_2 = \pi_2, ~ ..., ~ p_k = \pi_k\)</span> where <span class="math inline">\(p_i\)</span> is the observed proportion for category <span class="math inline">\(i\)</span>, <span class="math inline">\(\pi_i\)</span> is the expected proportion for category <span class="math inline">\(i\)</span>, and <span class="math inline">\(k\)</span> is the number of categories</li>
<li><span class="math inline">\(H_A:\)</span> at least one level of <span class="math inline">\(p_i\)</span> does not match <span class="math inline">\(\pi_i\)</span></li>
</ul>
<p></p>
<p>
Second, tests of independence are used when comparing two types of observed data to see if there is a relationship. For example, this could be used to determine if the proportion of respondents who voted for each political party in the presidential election matches the proportion of respondents who voted for each political party in a local election. In this case, we can set up the hypothesis test as follows:</p>
<ul>
<li><span class="math inline">\(H_0:\)</span> The two variables/factors are independent</li>
<li><span class="math inline">\(H_A:\)</span> The two variables/factors are not independent</li>
</ul>
<p></p>
<p>
Third, tests of homogeneity are used to compare two distributions to see if they match. For example, this could be used to determine if the highest education achieved is the same for both men and women. In this case, we can set up the hypothesis test as follows:</p>
<ul>
<li><span class="math inline">\(H_0: p_{1a} = p_{1b}, ~ p_{2a} = p_{2b}, ~ ..., ~ p_{ka} = p_{kb}\)</span> where <span class="math inline">\(p_{ia}\)</span> is the observed proportion of category <span class="math inline">\(i\)</span> for subgroup <span class="math inline">\(a\)</span>, <span class="math inline">\(p_{ib}\)</span> is the observed proportion of category <span class="math inline">\(i\)</span> for subgroup <span class="math inline">\(a\)</span>, and <span class="math inline">\(k\)</span> is the number of categories</li>
<li><span class="math inline">\(H_A:\)</span> at least one category of <span class="math inline">\(p_{ia}\)</span> does not match <span class="math inline">\(p_{ib}\)</span></li>
</ul>
<p></p>
<p>As with t-tests, the difference between using <span class="math inline">\(\chi^2\)</span> tests with non-survey data and survey data is based on the underlying variance estimation. The functions in the {survey} package account for these nuances, provided the design object is correctly defined. For basic variance estimation formulas for different survey design types, refer to Chapter <a href="c10-sample-designs-replicate-weights.html#c10-sample-designs-replicate-weights">10</a>.</p>
<div id="stattest-chi-syntax" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Syntax<a href="c06-statistical-testing.html#stattest-chi-syntax" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When we do not have survey data, we may be able to use the <code>chisq.test()</code> function from the {stats} package in base R to run chi-squared tests <span class="citation">(<a href="#ref-R-base">R Core Team 2024</a>)</span>. However, this function does not allow for weights or the variance structure to be accounted for with survey data. Therefore, when using survey data, we need to use one of two functions: </p>
<ul>
<li><code>svygofchisq()</code>: For goodness-of-fit tests</li>
<li><code>svychisq()</code>: For tests of independence and homogeneity</li>
</ul>
<p>The non-survey data function of <code>chisq.test()</code> requires either a single set of counts and given proportions (for goodness-of-fit tests) or two sets of counts for tests of independence and homogeneity. The functions we use with survey data require respondent-level data and formulas instead of counts. This ensures that the variances are correctly calculated.</p>
<p>
First, the function for the goodness-of-fit tests is <code>svygofchisq()</code>:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="c06-statistical-testing.html#cb189-1" tabindex="-1"></a><span class="fu">svygofchisq</span>(formula,</span>
<span id="cb189-2"><a href="c06-statistical-testing.html#cb189-2" tabindex="-1"></a>            p,</span>
<span id="cb189-3"><a href="c06-statistical-testing.html#cb189-3" tabindex="-1"></a>            design,</span>
<span id="cb189-4"><a href="c06-statistical-testing.html#cb189-4" tabindex="-1"></a>            <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb189-5"><a href="c06-statistical-testing.html#cb189-5" tabindex="-1"></a>            ...)</span></code></pre></div>
<p>The arguments are:</p>
<ul>
<li><code>formula</code>: Formula specifying a single factor variable</li>
<li><code>p</code>: Vector of probabilities for the categories of the factor in the correct order. If the probabilities do not sum to 1, they are rescaled to sum to 1.</li>
<li><code>design</code>: Survey design object</li>
<li>…: Other arguments to pass on, such as <code>na.rm</code></li>
</ul>
<p>
Based on the order of the arguments, we again must use the dot <code>(.)</code> notation if we pipe in the survey design object or explicitly name the arguments as described in Section <a href="c06-statistical-testing.html#dot-notation">6.2</a>. For the goodness-of-fit tests, the formula is a single variable <code>formula = ~var</code> as we compare the observed data from this variable to the expected data. The expected probabilities are then entered in the <code>p</code> argument and need to be a vector of the same length as the number of categories in the variable. For example, if we want to know if the proportion of males and females matches a distribution of 30/70, then the sex variable (with two categories) would be used <code>formula = ~SEX</code>, and the proportions would be included as <code>p = c(.3, .7)</code>. It is important to note that the variable entered into the formula should be formatted as either a factor or a character. The examples below provide more detail and tips on how to make sure the levels match up correctly. </p>
<p>
For tests of homogeneity and independence, the <code>svychisq()</code> function should be used. The syntax is as follows:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="c06-statistical-testing.html#cb190-1" tabindex="-1"></a><span class="fu">svychisq</span>(</span>
<span id="cb190-2"><a href="c06-statistical-testing.html#cb190-2" tabindex="-1"></a>  formula,</span>
<span id="cb190-3"><a href="c06-statistical-testing.html#cb190-3" tabindex="-1"></a>  design,</span>
<span id="cb190-4"><a href="c06-statistical-testing.html#cb190-4" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="fu">c</span>(<span class="st">&quot;F&quot;</span>, <span class="st">&quot;Chisq&quot;</span>, <span class="st">&quot;Wald&quot;</span>, <span class="st">&quot;adjWald&quot;</span>,</span>
<span id="cb190-5"><a href="c06-statistical-testing.html#cb190-5" tabindex="-1"></a>                <span class="st">&quot;lincom&quot;</span>, <span class="st">&quot;saddlepoint&quot;</span>),</span>
<span id="cb190-6"><a href="c06-statistical-testing.html#cb190-6" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb190-7"><a href="c06-statistical-testing.html#cb190-7" tabindex="-1"></a>)</span></code></pre></div>
<p>The arguments are:</p>
<ul>
<li><code>formula</code>: Model formula specifying the table (shown in examples)</li>
<li><code>design</code>: Survey design object</li>
<li><code>statistic</code>: Type of test statistic to use in test (details below)</li>
<li><code>na.rm</code>: Remove missing values</li>
</ul>
<p>
There are six statistics that are accepted in this formula. For tests of homogeneity (when comparing cross-tabulations), the <code>F</code> or <code>Chisq</code> statistics should be used<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a>. The <code>F</code> statistic is the default and uses the Rao-Scott second-order correction. This correction is designed to assist with complicated sampling designs (i.e., those other than a simple random sample) <span class="citation">(<a href="#ref-Scott2007">Scott 2007</a>)</span>. The <code>Chisq</code> statistic is an adjusted version of the Pearson <span class="math inline">\(\chi^2\)</span> statistic. The version of this statistic in the <code>svychisq()</code> function compares the design effect estimate from the provided survey data to what the <span class="math inline">\(\chi^2\)</span> distribution would have been if the data came from a simple random sampling.
</p>
<p>
For tests of independence, the <code>Wald</code> and <code>adjWald</code> are recommended as they provide a better adjustment for variable comparisons <span class="citation">(<a href="#ref-lumley2010complex">Lumley 2010</a>)</span>. If the data have a small number of primary sampling units (PSUs) compared to the degrees of freedom, then the <code>adjWald</code> statistic should be used to account for this. The <code>lincom</code> and <code>saddlepoint</code> statistics are available for more complicated data structures.
</p>
<p>
The formula argument is always one-sided, unlike the <code>svyttest()</code> function. The two variables of interest should be included with a plus sign: <code>formula = ~ var_1 + var_2</code>. As with the <code>svygofchisq()</code> function, the variables entered into the formula should be formatted as either a factor or a character.
</p>
<p>Additionally, as with the t-test function, both <code>svygofchisq()</code> and <code>svychisq()</code> have the <code>na.rm</code> argument. If any data values are missing, the <span class="math inline">\(\chi^2\)</span> tests assume that <code>NA</code> is a category and include it in the calculation. Throughout this chapter, we always set <code>na.rm = TRUE</code>, but before analyzing the survey data, review the notes provided in Chapter <a href="c11-missing-data.html#c11-missing-data">11</a> to better understand how to handle missing data. </p>
</div>
<div id="stattest-chi-examples" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> Examples<a href="c06-statistical-testing.html#stattest-chi-examples" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>
Let’s walk through a few examples using the ANES data.</p>
<div id="stattest-chi-ex1" class="section level4 unnumbered hasAnchor">
<h4>Example 1: Goodness-of-fit test<a href="c06-statistical-testing.html#stattest-chi-ex1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>
ANES asked respondents about their highest education level<a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a>. Based on the data from the 2020 American Community Survey (ACS) 5-year estimates<a href="#fn20" class="footnote-ref" id="fnref20"><sup>20</sup></a>, the education distribution of those aged 18+ in the United States (among the 50 states and the District of Columbia) is as follows:</p>
<ul>
<li>11% had less than a high school degree</li>
<li>27% had a high school degree</li>
<li>29% had some college or an associate’s degree</li>
<li>33% had a bachelor’s degree or higher</li>
</ul>
<p>If we want to see if the weighted distribution from the ANES 2020 data matches this distribution, we could set up the hypothesis as follows:</p>
<ul>
<li><span class="math inline">\(H_0: p_1 = 0.11, ~ p_2 = 0.27, ~ p_3 = 0.29, ~ p_4 = 0.33\)</span></li>
<li><span class="math inline">\(H_A:\)</span> at least one of the education levels does not match between the ANES and the ACS</li>
</ul>
<p>To conduct this in R, let’s first look at the education variable (<code>Education</code>) we have on the ANES data. Using the <code>survey_mean()</code> function discussed in Chapter <a href="c05-descriptive-analysis.html#c05-descriptive-analysis">5</a>, we can see the education levels and estimated proportions. </p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="c06-statistical-testing.html#cb191-1" tabindex="-1"></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb191-2"><a href="c06-statistical-testing.html#cb191-2" tabindex="-1"></a>  <span class="fu">drop_na</span>(Education) <span class="sc">%&gt;%</span></span>
<span id="cb191-3"><a href="c06-statistical-testing.html#cb191-3" tabindex="-1"></a>  <span class="fu">group_by</span>(Education) <span class="sc">%&gt;%</span></span>
<span id="cb191-4"><a href="c06-statistical-testing.html#cb191-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>())</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   Education         p    p_se
##   &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt;
## 1 Less than HS 0.0805 0.00568
## 2 High school  0.277  0.0102 
## 3 Post HS      0.290  0.00713
## 4 Bachelor&#39;s   0.226  0.00633
## 5 Graduate     0.126  0.00499</code></pre>
<p> </p>
<p>
Based on this output, we can see that we have different levels from the ACS data. Specifically, the education data from ANES include two levels for bachelor’s degree or higher (bachelor’s and graduate), so these two categories need to be collapsed into a single category to match the ACS data. For this, among other methods, we can use the {forcats} package from the tidyverse <span class="citation">(<a href="#ref-R-forcats">Wickham 2023</a>)</span>. The package’s <code>fct_collapse()</code> function helps us create a new variable by collapsing categories into a single one. Then, we use the <code>svygofchisq()</code> function to compare the ANES data to the ACS data, where we specify the updated design object, the formula using the collapsed education variable, the ACS estimates for education levels as p, and removing <code>NA</code> values.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="c06-statistical-testing.html#cb193-1" tabindex="-1"></a>anes_des_educ <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb193-2"><a href="c06-statistical-testing.html#cb193-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb193-3"><a href="c06-statistical-testing.html#cb193-3" tabindex="-1"></a>    <span class="at">Education2 =</span></span>
<span id="cb193-4"><a href="c06-statistical-testing.html#cb193-4" tabindex="-1"></a>      <span class="fu">fct_collapse</span>(Education,</span>
<span id="cb193-5"><a href="c06-statistical-testing.html#cb193-5" tabindex="-1"></a>        <span class="st">&quot;Bachelor or Higher&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb193-6"><a href="c06-statistical-testing.html#cb193-6" tabindex="-1"></a>          <span class="st">&quot;Bachelor&#39;s&quot;</span>,</span>
<span id="cb193-7"><a href="c06-statistical-testing.html#cb193-7" tabindex="-1"></a>          <span class="st">&quot;Graduate&quot;</span></span>
<span id="cb193-8"><a href="c06-statistical-testing.html#cb193-8" tabindex="-1"></a>        )</span>
<span id="cb193-9"><a href="c06-statistical-testing.html#cb193-9" tabindex="-1"></a>      )</span>
<span id="cb193-10"><a href="c06-statistical-testing.html#cb193-10" tabindex="-1"></a>  )</span>
<span id="cb193-11"><a href="c06-statistical-testing.html#cb193-11" tabindex="-1"></a></span>
<span id="cb193-12"><a href="c06-statistical-testing.html#cb193-12" tabindex="-1"></a>anes_des_educ <span class="sc">%&gt;%</span></span>
<span id="cb193-13"><a href="c06-statistical-testing.html#cb193-13" tabindex="-1"></a>  <span class="fu">drop_na</span>(Education2) <span class="sc">%&gt;%</span></span>
<span id="cb193-14"><a href="c06-statistical-testing.html#cb193-14" tabindex="-1"></a>  <span class="fu">group_by</span>(Education2) <span class="sc">%&gt;%</span></span>
<span id="cb193-15"><a href="c06-statistical-testing.html#cb193-15" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>())</span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
##   Education2              p    p_se
##   &lt;fct&gt;               &lt;dbl&gt;   &lt;dbl&gt;
## 1 Less than HS       0.0805 0.00568
## 2 High school        0.277  0.0102 
## 3 Post HS            0.290  0.00713
## 4 Bachelor or Higher 0.352  0.00732</code></pre>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="c06-statistical-testing.html#cb195-1" tabindex="-1"></a>chi_ex1 <span class="ot">&lt;-</span> anes_des_educ <span class="sc">%&gt;%</span></span>
<span id="cb195-2"><a href="c06-statistical-testing.html#cb195-2" tabindex="-1"></a>  <span class="fu">svygofchisq</span>(</span>
<span id="cb195-3"><a href="c06-statistical-testing.html#cb195-3" tabindex="-1"></a>    <span class="at">formula =</span> <span class="sc">~</span>Education2,</span>
<span id="cb195-4"><a href="c06-statistical-testing.html#cb195-4" tabindex="-1"></a>    <span class="at">p =</span> <span class="fu">c</span>(<span class="fl">0.11</span>, <span class="fl">0.27</span>, <span class="fl">0.29</span>, <span class="fl">0.33</span>),</span>
<span id="cb195-5"><a href="c06-statistical-testing.html#cb195-5" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb195-6"><a href="c06-statistical-testing.html#cb195-6" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb195-7"><a href="c06-statistical-testing.html#cb195-7" tabindex="-1"></a>  )</span>
<span id="cb195-8"><a href="c06-statistical-testing.html#cb195-8" tabindex="-1"></a></span>
<span id="cb195-9"><a href="c06-statistical-testing.html#cb195-9" tabindex="-1"></a>chi_ex1</span></code></pre></div>
<pre><code>## 
##  Design-based chi-squared test for given probabilities
## 
## data:  ~Education2
## X-squared = 2172220, scale = 1.1e+05, df = 2.3e+00, p-value =
## 9e-05</code></pre>
<p></p>
<p>The output from the <code>svygofchisq()</code> indicates that at least one proportion from ANES does not match the ACS data (<span class="math inline">\(\chi^2 =\)</span> 2,172,220; p-value is &lt;0.0001). To get a better idea of the differences, we can use the <code>expected</code> output along with <code>survey_mean()</code> to create a comparison table: </p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="c06-statistical-testing.html#cb197-1" tabindex="-1"></a>ex1_table <span class="ot">&lt;-</span> anes_des_educ <span class="sc">%&gt;%</span></span>
<span id="cb197-2"><a href="c06-statistical-testing.html#cb197-2" tabindex="-1"></a>  <span class="fu">drop_na</span>(Education2) <span class="sc">%&gt;%</span></span>
<span id="cb197-3"><a href="c06-statistical-testing.html#cb197-3" tabindex="-1"></a>  <span class="fu">group_by</span>(Education2) <span class="sc">%&gt;%</span></span>
<span id="cb197-4"><a href="c06-statistical-testing.html#cb197-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Observed =</span> <span class="fu">survey_mean</span>(<span class="at">vartype =</span> <span class="st">&quot;ci&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb197-5"><a href="c06-statistical-testing.html#cb197-5" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Education =</span> Education2) <span class="sc">%&gt;%</span></span>
<span id="cb197-6"><a href="c06-statistical-testing.html#cb197-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Expected =</span> <span class="fu">c</span>(<span class="fl">0.11</span>, <span class="fl">0.27</span>, <span class="fl">0.29</span>, <span class="fl">0.33</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb197-7"><a href="c06-statistical-testing.html#cb197-7" tabindex="-1"></a>  <span class="fu">select</span>(Education, Expected, <span class="fu">everything</span>())</span>
<span id="cb197-8"><a href="c06-statistical-testing.html#cb197-8" tabindex="-1"></a></span>
<span id="cb197-9"><a href="c06-statistical-testing.html#cb197-9" tabindex="-1"></a>ex1_table</span></code></pre></div>
<pre><code>## # A tibble: 4 × 5
##   Education          Expected Observed Observed_low Observed_upp
##   &lt;fct&gt;                 &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
## 1 Less than HS           0.11   0.0805       0.0691       0.0919
## 2 High school            0.27   0.277        0.257        0.298 
## 3 Post HS                0.29   0.290        0.276        0.305 
## 4 Bachelor or Higher     0.33   0.352        0.337        0.367</code></pre>
<p> </p>
<p>This output includes our expected proportions from the ACS that we provided the <code>svygofchisq()</code> function along with the output of the observed proportions and their confidence intervals. This table shows that the “high school” and “post HS” categories have nearly identical proportions, but that the other two categories are slightly different. Looking at the confidence intervals, we can see that the ANES data skew to include fewer people in the “less than HS” category and more people in the “bachelor or higher” category. This may be easier to see if we plot this. The code below uses the tabular output to create Figure <a href="c06-statistical-testing.html#fig:stattest-chi-ex1-graph">6.1</a>.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="c06-statistical-testing.html#cb199-1" tabindex="-1"></a>ex1_table <span class="sc">%&gt;%</span></span>
<span id="cb199-2"><a href="c06-statistical-testing.html#cb199-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb199-3"><a href="c06-statistical-testing.html#cb199-3" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">&quot;Expected&quot;</span>, <span class="st">&quot;Observed&quot;</span>),</span>
<span id="cb199-4"><a href="c06-statistical-testing.html#cb199-4" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;Names&quot;</span>,</span>
<span id="cb199-5"><a href="c06-statistical-testing.html#cb199-5" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;Proportion&quot;</span></span>
<span id="cb199-6"><a href="c06-statistical-testing.html#cb199-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb199-7"><a href="c06-statistical-testing.html#cb199-7" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb199-8"><a href="c06-statistical-testing.html#cb199-8" tabindex="-1"></a>    <span class="at">Observed_low =</span> <span class="fu">if_else</span>(Names <span class="sc">==</span> <span class="st">&quot;Observed&quot;</span>, Observed_low, <span class="cn">NA_real_</span>),</span>
<span id="cb199-9"><a href="c06-statistical-testing.html#cb199-9" tabindex="-1"></a>    <span class="at">Observed_upp =</span> <span class="fu">if_else</span>(Names <span class="sc">==</span> <span class="st">&quot;Observed&quot;</span>, Observed_upp, <span class="cn">NA_real_</span>),</span>
<span id="cb199-10"><a href="c06-statistical-testing.html#cb199-10" tabindex="-1"></a>    <span class="at">Names =</span> <span class="fu">if_else</span>(Names <span class="sc">==</span> <span class="st">&quot;Observed&quot;</span>,</span>
<span id="cb199-11"><a href="c06-statistical-testing.html#cb199-11" tabindex="-1"></a>      <span class="st">&quot;ANES (observed)&quot;</span>, <span class="st">&quot;ACS (expected)&quot;</span></span>
<span id="cb199-12"><a href="c06-statistical-testing.html#cb199-12" tabindex="-1"></a>    )</span>
<span id="cb199-13"><a href="c06-statistical-testing.html#cb199-13" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb199-14"><a href="c06-statistical-testing.html#cb199-14" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Education, <span class="at">y =</span> Proportion, <span class="at">color =</span> Names)) <span class="sc">+</span></span>
<span id="cb199-15"><a href="c06-statistical-testing.html#cb199-15" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.75</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb199-16"><a href="c06-statistical-testing.html#cb199-16" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Observed_low, <span class="at">ymax =</span> Observed_upp),</span>
<span id="cb199-17"><a href="c06-statistical-testing.html#cb199-17" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.25</span></span>
<span id="cb199-18"><a href="c06-statistical-testing.html#cb199-18" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb199-19"><a href="c06-statistical-testing.html#cb199-19" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb199-20"><a href="c06-statistical-testing.html#cb199-20" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">&quot;Type&quot;</span>, <span class="at">values =</span> book_colors[<span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">1</span>)]) <span class="sc">+</span></span>
<span id="cb199-21"><a href="c06-statistical-testing.html#cb199-21" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>, <span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:stattest-chi-ex1-graph"></span>
<img src="bookdown_files/figure-html/stattest-chi-ex1-graph-1.png" alt="Expected and observed proportions of education, showing the confidence intervals for the expected proportions and whether the observed proportions lie within them. The x-axis has labels 'Less than HS', 'High school', 'Post HS', and 'Bachelor or Higher'. The only ones where expected proportion is outside of the intervals is 'Less than HS' and 'Bachelor or Higher'." width="672"  />
<p class="caption">
FIGURE 6.1: Expected and observed proportions of education with confidence intervals
</p>
</div>
<p> </p>
</div>
<div id="stattest-chi-ex2" class="section level4 unnumbered hasAnchor">
<h4>Example 2: Test of independence<a href="c06-statistical-testing.html#stattest-chi-ex2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>
ANES asked respondents two questions about trust:</p>
<ul>
<li>Question text: “How often can you trust the federal government to do what is right?” <span class="citation">(<a href="#ref-anes-svy">American National Election Studies 2021</a>)</span></li>
<li>Question text: “How often can you trust other people?” <span class="citation">(<a href="#ref-anes-svy">American National Election Studies 2021</a>)</span></li>
</ul>
<p>If we want to see if the distributions of these two questions are similar or not, we can conduct a test of independence. Here is how the hypothesis could be set up:</p>
<ul>
<li><span class="math inline">\(H_0:\)</span> People’s trust in the federal government and their trust in other people are independent (i.e., not related)</li>
<li><span class="math inline">\(H_A:\)</span> People’s trust in the federal government and their trust in other people are not independent (i.e., they are related)</li>
</ul>
<p>To conduct this in R, we use the <code>svychisq()</code> function to compare the two variables:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="c06-statistical-testing.html#cb200-1" tabindex="-1"></a>chi_ex2 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb200-2"><a href="c06-statistical-testing.html#cb200-2" tabindex="-1"></a>  <span class="fu">svychisq</span>(</span>
<span id="cb200-3"><a href="c06-statistical-testing.html#cb200-3" tabindex="-1"></a>    <span class="at">formula =</span> <span class="sc">~</span> TrustGovernment <span class="sc">+</span> TrustPeople,</span>
<span id="cb200-4"><a href="c06-statistical-testing.html#cb200-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb200-5"><a href="c06-statistical-testing.html#cb200-5" tabindex="-1"></a>    <span class="at">statistic =</span> <span class="st">&quot;Wald&quot;</span>,</span>
<span id="cb200-6"><a href="c06-statistical-testing.html#cb200-6" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb200-7"><a href="c06-statistical-testing.html#cb200-7" tabindex="-1"></a>  )</span>
<span id="cb200-8"><a href="c06-statistical-testing.html#cb200-8" tabindex="-1"></a></span>
<span id="cb200-9"><a href="c06-statistical-testing.html#cb200-9" tabindex="-1"></a>chi_ex2</span></code></pre></div>
<pre><code>## 
##  Design-based Wald test of association
## 
## data:  NextMethod()
## F = 21, ndf = 16, ddf = 51, p-value &lt;2e-16</code></pre>
<p>
The output from <code>svychisq()</code> indicates that the distribution of people’s trust in the federal government and their trust in other people are not independent, meaning that they are related. Let’s output the distributions in a table to see the relationship. The <code>observed</code> output from the test provides a cross-tabulation of the counts for each category:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="c06-statistical-testing.html#cb202-1" tabindex="-1"></a>chi_ex2<span class="sc">$</span>observed</span></code></pre></div>
<pre><code>##                      TrustPeople
## TrustGovernment         Always Most of the time About half the time
##   Always                16.470           25.009              31.848
##   Most of the time      11.020          539.377             196.258
##   About half the time   11.772          934.858             861.971
##   Some of the time      17.007         1353.779             839.863
##   Never                  3.174          236.785             174.272
##                      TrustPeople
## TrustGovernment       Some of the time    Never
##   Always                        36.854    5.523
##   Most of the time             206.556   27.184
##   About half the time          428.871   65.024
##   Some of the time             932.628   89.596
##   Never                        217.994  189.307</code></pre>
<p>
However, we often want to know about the proportions, not just the respondent counts from the survey. There are a couple of different ways that we can do this. The first is using the counts from <code>chi_ex2$observed</code> to calculate the proportion. We can then pivot the table to create a cross-tabulation similar to the counts table above. Adding <code>group_by()</code> to the code means that we obtain the proportions within each variable level. In this case, we are looking at the distribution of <code>TrustGovernment</code> for each level of <code>TrustPeople</code>. The resulting table is shown in Table <a href="c06-statistical-testing.html#tab:stattest-chi-ex2-prop1-tab">6.4</a>.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="c06-statistical-testing.html#cb204-1" tabindex="-1"></a>chi_ex2_table <span class="ot">&lt;-</span> chi_ex2<span class="sc">$</span>observed <span class="sc">%&gt;%</span></span>
<span id="cb204-2"><a href="c06-statistical-testing.html#cb204-2" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb204-3"><a href="c06-statistical-testing.html#cb204-3" tabindex="-1"></a>  <span class="fu">group_by</span>(TrustPeople) <span class="sc">%&gt;%</span></span>
<span id="cb204-4"><a href="c06-statistical-testing.html#cb204-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">round</span>(n <span class="sc">/</span> <span class="fu">sum</span>(n), <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb204-5"><a href="c06-statistical-testing.html#cb204-5" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb204-6"><a href="c06-statistical-testing.html#cb204-6" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> TrustPeople, <span class="at">values_from =</span> prop) <span class="sc">%&gt;%</span></span>
<span id="cb204-7"><a href="c06-statistical-testing.html#cb204-7" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">&quot;TrustGovernment&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb204-8"><a href="c06-statistical-testing.html#cb204-8" tabindex="-1"></a>  <span class="fu">tab_stubhead</span>(<span class="at">label =</span> <span class="st">&quot;Trust in Government&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb204-9"><a href="c06-statistical-testing.html#cb204-9" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb204-10"><a href="c06-statistical-testing.html#cb204-10" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">&quot;Trust in People&quot;</span>,</span>
<span id="cb204-11"><a href="c06-statistical-testing.html#cb204-11" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>()</span>
<span id="cb204-12"><a href="c06-statistical-testing.html#cb204-12" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb204-13"><a href="c06-statistical-testing.html#cb204-13" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb204-14"><a href="c06-statistical-testing.html#cb204-14" tabindex="-1"></a>    <span class="st">`</span><span class="at">Most of the time</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">md</span>(<span class="st">&quot;Most of&lt;br /&gt;the time&quot;</span>),</span>
<span id="cb204-15"><a href="c06-statistical-testing.html#cb204-15" tabindex="-1"></a>    <span class="st">`</span><span class="at">About half the time</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">md</span>(<span class="st">&quot;About half&lt;br /&gt;the time&quot;</span>),</span>
<span id="cb204-16"><a href="c06-statistical-testing.html#cb204-16" tabindex="-1"></a>    <span class="st">`</span><span class="at">Some of the time</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">md</span>(<span class="st">&quot;Some of&lt;br /&gt;the time&quot;</span>)</span>
<span id="cb204-17"><a href="c06-statistical-testing.html#cb204-17" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="c06-statistical-testing.html#cb205-1" tabindex="-1"></a>chi_ex2_table</span></code></pre></div>

<div id="nyzifbvdeb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#nyzifbvdeb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nyzifbvdeb thead, #nyzifbvdeb tbody, #nyzifbvdeb tfoot, #nyzifbvdeb tr, #nyzifbvdeb td, #nyzifbvdeb th {
  border-style: none;
}

#nyzifbvdeb p {
  margin: 0;
  padding: 0;
}

#nyzifbvdeb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nyzifbvdeb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nyzifbvdeb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nyzifbvdeb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nyzifbvdeb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nyzifbvdeb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nyzifbvdeb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nyzifbvdeb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nyzifbvdeb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nyzifbvdeb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nyzifbvdeb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nyzifbvdeb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nyzifbvdeb .gt_spanner_row {
  border-bottom-style: hidden;
}

#nyzifbvdeb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nyzifbvdeb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nyzifbvdeb .gt_from_md > :first-child {
  margin-top: 0;
}

#nyzifbvdeb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nyzifbvdeb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nyzifbvdeb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nyzifbvdeb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nyzifbvdeb .gt_row_group_first td {
  border-top-width: 2px;
}

#nyzifbvdeb .gt_row_group_first th {
  border-top-width: 2px;
}

#nyzifbvdeb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyzifbvdeb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nyzifbvdeb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nyzifbvdeb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nyzifbvdeb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyzifbvdeb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nyzifbvdeb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nyzifbvdeb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nyzifbvdeb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nyzifbvdeb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nyzifbvdeb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyzifbvdeb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nyzifbvdeb .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyzifbvdeb .gt_left {
  text-align: left;
}

#nyzifbvdeb .gt_center {
  text-align: center;
}

#nyzifbvdeb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nyzifbvdeb .gt_font_normal {
  font-weight: normal;
}

#nyzifbvdeb .gt_font_bold {
  font-weight: bold;
}

#nyzifbvdeb .gt_font_italic {
  font-style: italic;
}

#nyzifbvdeb .gt_super {
  font-size: 65%;
}

#nyzifbvdeb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nyzifbvdeb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nyzifbvdeb .gt_indent_1 {
  text-indent: 5px;
}

#nyzifbvdeb .gt_indent_2 {
  text-indent: 10px;
}

#nyzifbvdeb .gt_indent_3 {
  text-indent: 15px;
}

#nyzifbvdeb .gt_indent_4 {
  text-indent: 20px;
}

#nyzifbvdeb .gt_indent_5 {
  text-indent: 25px;
}

#nyzifbvdeb .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#nyzifbvdeb div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:stattest-chi-ex2-prop1-tab">TABLE 6.4: </span>Proportion of adults in the U.S. by levels of trust in people and government, ANES 2020</caption>
  <thead>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id="Trust in Government">Trust in Government</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="5" scope="colgroup" id="Trust in People">
        <span class="gt_column_spanner">Trust in People</span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Always">Always</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="&lt;span class='gt_from_md'&gt;Most of&lt;br /&gt;the time&lt;/span&gt;"><span class='gt_from_md'>Most of<br />the time</span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="&lt;span class='gt_from_md'&gt;About half&lt;br /&gt;the time&lt;/span&gt;"><span class='gt_from_md'>About half<br />the time</span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="&lt;span class='gt_from_md'&gt;Some of&lt;br /&gt;the time&lt;/span&gt;"><span class='gt_from_md'>Some of<br />the time</span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Never">Never</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_left gt_stub">Always</th>
<td headers="stub_1_1 Always" class="gt_row gt_right">0.277</td>
<td headers="stub_1_1 Most of the time" class="gt_row gt_right">0.008</td>
<td headers="stub_1_1 About half the time" class="gt_row gt_right">0.015</td>
<td headers="stub_1_1 Some of the time" class="gt_row gt_right">0.020</td>
<td headers="stub_1_1 Never" class="gt_row gt_right">0.015</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_left gt_stub">Most of the time</th>
<td headers="stub_1_2 Always" class="gt_row gt_right">0.185</td>
<td headers="stub_1_2 Most of the time" class="gt_row gt_right">0.175</td>
<td headers="stub_1_2 About half the time" class="gt_row gt_right">0.093</td>
<td headers="stub_1_2 Some of the time" class="gt_row gt_right">0.113</td>
<td headers="stub_1_2 Never" class="gt_row gt_right">0.072</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_left gt_stub">About half the time</th>
<td headers="stub_1_3 Always" class="gt_row gt_right">0.198</td>
<td headers="stub_1_3 Most of the time" class="gt_row gt_right">0.303</td>
<td headers="stub_1_3 About half the time" class="gt_row gt_right">0.410</td>
<td headers="stub_1_3 Some of the time" class="gt_row gt_right">0.235</td>
<td headers="stub_1_3 Never" class="gt_row gt_right">0.173</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_left gt_stub">Some of the time</th>
<td headers="stub_1_4 Always" class="gt_row gt_right">0.286</td>
<td headers="stub_1_4 Most of the time" class="gt_row gt_right">0.438</td>
<td headers="stub_1_4 About half the time" class="gt_row gt_right">0.399</td>
<td headers="stub_1_4 Some of the time" class="gt_row gt_right">0.512</td>
<td headers="stub_1_4 Never" class="gt_row gt_right">0.238</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_left gt_stub">Never</th>
<td headers="stub_1_5 Always" class="gt_row gt_right">0.053</td>
<td headers="stub_1_5 Most of the time" class="gt_row gt_right">0.077</td>
<td headers="stub_1_5 About half the time" class="gt_row gt_right">0.083</td>
<td headers="stub_1_5 Some of the time" class="gt_row gt_right">0.120</td>
<td headers="stub_1_5 Never" class="gt_row gt_right">0.503</td></tr>
  </tbody>
  
  
</table>
</div>
<p>In Table <a href="c06-statistical-testing.html#tab:stattest-chi-ex2-prop1-tab">6.4</a>, each column sums to 1. For example, we can say that it is estimated that of people who always trust in people, 27.7% also always trust in the government based on the top-left cell, but 5.3% never trust in the government. </p>
<p>The second option is to use the <code>group_by()</code> and <code>survey_mean()</code> functions to calculate the proportions from the ANES design object. Remember that with more than one variable listed in the <code>group_by()</code> statement, the proportions are within the first variable listed. As mentioned above, we are looking at the distribution of <code>TrustGovernment</code> for each level of <code>TrustPeople</code>. </p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="c06-statistical-testing.html#cb206-1" tabindex="-1"></a>chi_ex2_obs <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb206-2"><a href="c06-statistical-testing.html#cb206-2" tabindex="-1"></a>  <span class="fu">drop_na</span>(TrustPeople, TrustGovernment) <span class="sc">%&gt;%</span></span>
<span id="cb206-3"><a href="c06-statistical-testing.html#cb206-3" tabindex="-1"></a>  <span class="fu">group_by</span>(TrustPeople, TrustGovernment) <span class="sc">%&gt;%</span></span>
<span id="cb206-4"><a href="c06-statistical-testing.html#cb206-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb206-5"><a href="c06-statistical-testing.html#cb206-5" tabindex="-1"></a>    <span class="at">Observed =</span> <span class="fu">round</span>(<span class="fu">survey_mean</span>(<span class="at">vartype =</span> <span class="st">&quot;ci&quot;</span>), <span class="dv">3</span>),</span>
<span id="cb206-6"><a href="c06-statistical-testing.html#cb206-6" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span></span>
<span id="cb206-7"><a href="c06-statistical-testing.html#cb206-7" tabindex="-1"></a>  )</span>
<span id="cb206-8"><a href="c06-statistical-testing.html#cb206-8" tabindex="-1"></a></span>
<span id="cb206-9"><a href="c06-statistical-testing.html#cb206-9" tabindex="-1"></a>chi_ex2_obs_table <span class="ot">&lt;-</span> chi_ex2_obs <span class="sc">%&gt;%</span></span>
<span id="cb206-10"><a href="c06-statistical-testing.html#cb206-10" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">paste0</span>(</span>
<span id="cb206-11"><a href="c06-statistical-testing.html#cb206-11" tabindex="-1"></a>    Observed, <span class="st">&quot; (&quot;</span>, Observed_low, <span class="st">&quot;, &quot;</span>,</span>
<span id="cb206-12"><a href="c06-statistical-testing.html#cb206-12" tabindex="-1"></a>    Observed_upp, <span class="st">&quot;)&quot;</span></span>
<span id="cb206-13"><a href="c06-statistical-testing.html#cb206-13" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb206-14"><a href="c06-statistical-testing.html#cb206-14" tabindex="-1"></a>  <span class="fu">select</span>(TrustGovernment, TrustPeople, prop) <span class="sc">%&gt;%</span></span>
<span id="cb206-15"><a href="c06-statistical-testing.html#cb206-15" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> TrustPeople, <span class="at">values_from =</span> prop) <span class="sc">%&gt;%</span></span>
<span id="cb206-16"><a href="c06-statistical-testing.html#cb206-16" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">&quot;TrustGovernment&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb206-17"><a href="c06-statistical-testing.html#cb206-17" tabindex="-1"></a>  <span class="fu">tab_stubhead</span>(<span class="at">label =</span> <span class="st">&quot;Trust in Government&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb206-18"><a href="c06-statistical-testing.html#cb206-18" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb206-19"><a href="c06-statistical-testing.html#cb206-19" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">&quot;Trust in People&quot;</span>,</span>
<span id="cb206-20"><a href="c06-statistical-testing.html#cb206-20" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>()</span>
<span id="cb206-21"><a href="c06-statistical-testing.html#cb206-21" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb206-22"><a href="c06-statistical-testing.html#cb206-22" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">page.orientation =</span> <span class="st">&quot;landscape&quot;</span>)</span></code></pre></div>
<p> </p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="c06-statistical-testing.html#cb207-1" tabindex="-1"></a>chi_ex2_obs_table</span></code></pre></div>
<p></p>

<div id="cievnrdfay" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#cievnrdfay table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#cievnrdfay thead, #cievnrdfay tbody, #cievnrdfay tfoot, #cievnrdfay tr, #cievnrdfay td, #cievnrdfay th {
  border-style: none;
}

#cievnrdfay p {
  margin: 0;
  padding: 0;
}

#cievnrdfay .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cievnrdfay .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#cievnrdfay .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cievnrdfay .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cievnrdfay .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cievnrdfay .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cievnrdfay .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cievnrdfay .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cievnrdfay .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cievnrdfay .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cievnrdfay .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cievnrdfay .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cievnrdfay .gt_spanner_row {
  border-bottom-style: hidden;
}

#cievnrdfay .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#cievnrdfay .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cievnrdfay .gt_from_md > :first-child {
  margin-top: 0;
}

#cievnrdfay .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cievnrdfay .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cievnrdfay .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#cievnrdfay .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#cievnrdfay .gt_row_group_first td {
  border-top-width: 2px;
}

#cievnrdfay .gt_row_group_first th {
  border-top-width: 2px;
}

#cievnrdfay .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cievnrdfay .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#cievnrdfay .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#cievnrdfay .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cievnrdfay .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cievnrdfay .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cievnrdfay .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#cievnrdfay .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cievnrdfay .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cievnrdfay .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cievnrdfay .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cievnrdfay .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cievnrdfay .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cievnrdfay .gt_left {
  text-align: left;
}

#cievnrdfay .gt_center {
  text-align: center;
}

#cievnrdfay .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cievnrdfay .gt_font_normal {
  font-weight: normal;
}

#cievnrdfay .gt_font_bold {
  font-weight: bold;
}

#cievnrdfay .gt_font_italic {
  font-style: italic;
}

#cievnrdfay .gt_super {
  font-size: 65%;
}

#cievnrdfay .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#cievnrdfay .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#cievnrdfay .gt_indent_1 {
  text-indent: 5px;
}

#cievnrdfay .gt_indent_2 {
  text-indent: 10px;
}

#cievnrdfay .gt_indent_3 {
  text-indent: 15px;
}

#cievnrdfay .gt_indent_4 {
  text-indent: 20px;
}

#cievnrdfay .gt_indent_5 {
  text-indent: 25px;
}

#cievnrdfay .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#cievnrdfay div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:stattest-chi-ex2-prop2-tab">TABLE 6.5: </span>Proportion of adults in the U.S. by levels of trust in people and government with confidence intervals, ANES 2020</caption>
  <thead>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id="Trust in Government">Trust in Government</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="5" scope="colgroup" id="Trust in People">
        <span class="gt_column_spanner">Trust in People</span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Always">Always</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Most of the time">Most of the time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="About half the time">About half the time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Some of the time">Some of the time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Never">Never</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">Always</th>
<td headers="stub_1_1 Always" class="gt_row gt_right">0.277 (0.11, 0.444)</td>
<td headers="stub_1_1 Most of the time" class="gt_row gt_right">0.008 (0.004, 0.012)</td>
<td headers="stub_1_1 About half the time" class="gt_row gt_right">0.015 (0.006, 0.024)</td>
<td headers="stub_1_1 Some of the time" class="gt_row gt_right">0.02 (0.008, 0.033)</td>
<td headers="stub_1_1 Never" class="gt_row gt_right">0.015 (0, 0.029)</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">Most of the time</th>
<td headers="stub_1_2 Always" class="gt_row gt_right">0.185 (-0.009, 0.38)</td>
<td headers="stub_1_2 Most of the time" class="gt_row gt_right">0.175 (0.157, 0.192)</td>
<td headers="stub_1_2 About half the time" class="gt_row gt_right">0.093 (0.078, 0.109)</td>
<td headers="stub_1_2 Some of the time" class="gt_row gt_right">0.113 (0.085, 0.141)</td>
<td headers="stub_1_2 Never" class="gt_row gt_right">0.072 (0.021, 0.123)</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">About half the time</th>
<td headers="stub_1_3 Always" class="gt_row gt_right">0.198 (0.046, 0.35)</td>
<td headers="stub_1_3 Most of the time" class="gt_row gt_right">0.303 (0.281, 0.324)</td>
<td headers="stub_1_3 About half the time" class="gt_row gt_right">0.41 (0.378, 0.441)</td>
<td headers="stub_1_3 Some of the time" class="gt_row gt_right">0.235 (0.2, 0.271)</td>
<td headers="stub_1_3 Never" class="gt_row gt_right">0.173 (0.099, 0.246)</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">Some of the time</th>
<td headers="stub_1_4 Always" class="gt_row gt_right">0.286 (0.069, 0.503)</td>
<td headers="stub_1_4 Most of the time" class="gt_row gt_right">0.438 (0.415, 0.462)</td>
<td headers="stub_1_4 About half the time" class="gt_row gt_right">0.399 (0.365, 0.433)</td>
<td headers="stub_1_4 Some of the time" class="gt_row gt_right">0.512 (0.481, 0.543)</td>
<td headers="stub_1_4 Never" class="gt_row gt_right">0.238 (0.178, 0.298)</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_center gt_stub">Never</th>
<td headers="stub_1_5 Always" class="gt_row gt_right">0.053 (-0.01, 0.117)</td>
<td headers="stub_1_5 Most of the time" class="gt_row gt_right">0.077 (0.064, 0.089)</td>
<td headers="stub_1_5 About half the time" class="gt_row gt_right">0.083 (0.063, 0.103)</td>
<td headers="stub_1_5 Some of the time" class="gt_row gt_right">0.12 (0.097, 0.142)</td>
<td headers="stub_1_5 Never" class="gt_row gt_right">0.503 (0.422, 0.583)</td></tr>
  </tbody>
  
  
</table>
</div>
<p>Both methods produce the same output as the <code>svychisq()</code> function. However, calculating the proportions directly from the design object allows us to obtain the variance information. In this case, the output in Table <a href="c06-statistical-testing.html#tab:stattest-chi-ex2-prop2-tab">6.5</a> displays the survey estimate followed by the confidence intervals. Based on the output, we can see that of those who never trust people, 50.3% also never trust the government, while the proportions of never trusting the government are much lower for each of the other levels of trusting people. </p>
<p>We may find it easier to look at these proportions graphically. We can use <code>ggplot()</code> and facets to provide an overview to create Figure <a href="c06-statistical-testing.html#fig:stattest-chi-ex2-graph">6.2</a> below:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="c06-statistical-testing.html#cb208-1" tabindex="-1"></a>chi_ex2_obs <span class="sc">%&gt;%</span></span>
<span id="cb208-2"><a href="c06-statistical-testing.html#cb208-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb208-3"><a href="c06-statistical-testing.html#cb208-3" tabindex="-1"></a>    <span class="at">TrustPeople =</span></span>
<span id="cb208-4"><a href="c06-statistical-testing.html#cb208-4" tabindex="-1"></a>      <span class="fu">fct_reorder</span>(</span>
<span id="cb208-5"><a href="c06-statistical-testing.html#cb208-5" tabindex="-1"></a>        <span class="fu">str_c</span>(<span class="st">&quot;Trust in People:</span><span class="sc">\n</span><span class="st">&quot;</span>, TrustPeople),</span>
<span id="cb208-6"><a href="c06-statistical-testing.html#cb208-6" tabindex="-1"></a>        <span class="fu">order</span>(TrustPeople)</span>
<span id="cb208-7"><a href="c06-statistical-testing.html#cb208-7" tabindex="-1"></a>      )</span>
<span id="cb208-8"><a href="c06-statistical-testing.html#cb208-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb208-9"><a href="c06-statistical-testing.html#cb208-9" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb208-10"><a href="c06-statistical-testing.html#cb208-10" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> TrustGovernment, <span class="at">y =</span> Observed, <span class="at">color =</span> TrustGovernment)</span>
<span id="cb208-11"><a href="c06-statistical-testing.html#cb208-11" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb208-12"><a href="c06-statistical-testing.html#cb208-12" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>TrustPeople, <span class="at">ncol =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb208-13"><a href="c06-statistical-testing.html#cb208-13" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb208-14"><a href="c06-statistical-testing.html#cb208-14" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Observed_low, <span class="at">ymax =</span> Observed_upp)) <span class="sc">+</span></span>
<span id="cb208-15"><a href="c06-statistical-testing.html#cb208-15" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Proportion&quot;</span>) <span class="sc">+</span></span>
<span id="cb208-16"><a href="c06-statistical-testing.html#cb208-16" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb208-17"><a href="c06-statistical-testing.html#cb208-17" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb208-18"><a href="c06-statistical-testing.html#cb208-18" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb208-19"><a href="c06-statistical-testing.html#cb208-19" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Trust in Government&quot;</span>,</span>
<span id="cb208-20"><a href="c06-statistical-testing.html#cb208-20" tabindex="-1"></a>    <span class="at">values =</span> book_colors</span>
<span id="cb208-21"><a href="c06-statistical-testing.html#cb208-21" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb208-22"><a href="c06-statistical-testing.html#cb208-22" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb208-23"><a href="c06-statistical-testing.html#cb208-23" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb208-24"><a href="c06-statistical-testing.html#cb208-24" tabindex="-1"></a>    <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb208-25"><a href="c06-statistical-testing.html#cb208-25" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span></span>
<span id="cb208-26"><a href="c06-statistical-testing.html#cb208-26" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb208-27"><a href="c06-statistical-testing.html#cb208-27" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">2</span>))</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:stattest-chi-ex2-graph"></span>
<img src="bookdown_files/figure-html/stattest-chi-ex2-graph-1.png" alt="Proportion of adults in the U.S. by levels of trust in people and government with confidence intervals, ANES 2020. This presents the same information as the previous table in graphical form." width="672"  />
<p class="caption">
FIGURE 6.2: Proportion of adults in the U.S. by levels of trust in people and government with confidence intervals, ANES 2020
</p>
</div>
<p></p>
</div>
<div id="stattest-chi-ex3" class="section level4 unnumbered hasAnchor">
<h4>Example 3: Test of homogeneity<a href="c06-statistical-testing.html#stattest-chi-ex3" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>
Researchers and politicians often look at specific demographics each election cycle to understand how each group is leaning or voting toward candidates. The ANES data are collected post-election, but we can still see if there are differences in how specific demographic groups voted.</p>
<p>If we want to see if there is a difference in how each age group voted for the 2020 candidates, this would be a test of homogeneity, and we can set up the hypothesis as follows:</p>
<p><span class="math display">\[\begin{align*}
H_0: p_{1_{Biden}} &amp;= p_{1_{Trump}} = p_{1_{Other}},\\
    p_{2_{Biden}} &amp;= p_{2_{Trump}} = p_{2_{Other}},\\
    p_{3_{Biden}} &amp;= p_{3_{Trump}} = p_{3_{Other}},\\
    p_{4_{Biden}} &amp;= p_{4_{Trump}} = p_{4_{Other}},\\
    p_{5_{Biden}} &amp;= p_{5_{Trump}} = p_{5_{Other}},\\
    p_{6_{Biden}} &amp;= p_{6_{Trump}} = p_{6_{Other}}
  \end{align*}\]</span>
where <span class="math inline">\(p_{i_{Biden}}\)</span> is the observed proportion of each age group (<span class="math inline">\(i\)</span>) that voted for Joseph Biden, <span class="math inline">\(p_{i_{Trump}}\)</span> is the observed proportion of each age group (<span class="math inline">\(i\)</span>) that voted for Donald Trump, and <span class="math inline">\(p_{i_{Other}}\)</span> is the observed proportion of each age group (<span class="math inline">\(i\)</span>) that voted for another candidate.</p>
<ul>
<li><span class="math inline">\(H_A:\)</span> at least one category of <span class="math inline">\(p_{i_{Biden}}\)</span> does not match <span class="math inline">\(p_{i_{Trump}}\)</span> or <span class="math inline">\(p_{i_{Other}}\)</span></li>
</ul>
<p>To conduct this in R, we use the <code>svychisq()</code> function to compare the two variables: </p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="c06-statistical-testing.html#cb209-1" tabindex="-1"></a>chi_ex3 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb209-2"><a href="c06-statistical-testing.html#cb209-2" tabindex="-1"></a>  <span class="fu">drop_na</span>(VotedPres2020_selection, AgeGroup) <span class="sc">%&gt;%</span></span>
<span id="cb209-3"><a href="c06-statistical-testing.html#cb209-3" tabindex="-1"></a>  <span class="fu">svychisq</span>(</span>
<span id="cb209-4"><a href="c06-statistical-testing.html#cb209-4" tabindex="-1"></a>    <span class="at">formula =</span> <span class="sc">~</span> AgeGroup <span class="sc">+</span> VotedPres2020_selection,</span>
<span id="cb209-5"><a href="c06-statistical-testing.html#cb209-5" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb209-6"><a href="c06-statistical-testing.html#cb209-6" tabindex="-1"></a>    <span class="at">statistic =</span> <span class="st">&quot;Chisq&quot;</span>,</span>
<span id="cb209-7"><a href="c06-statistical-testing.html#cb209-7" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb209-8"><a href="c06-statistical-testing.html#cb209-8" tabindex="-1"></a>  )</span>
<span id="cb209-9"><a href="c06-statistical-testing.html#cb209-9" tabindex="-1"></a></span>
<span id="cb209-10"><a href="c06-statistical-testing.html#cb209-10" tabindex="-1"></a>chi_ex3</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s X^2: Rao &amp; Scott adjustment
## 
## data:  NextMethod()
## X-squared = 171, df = 10, p-value &lt;2e-16</code></pre>
<p></p>
<p>The output from <code>svychisq()</code> indicates a difference in how each age group voted in the 2020 election. To get a better idea of the different distributions, let’s output proportions to see the relationship. As we learned in Example 2 above, we can use <code>chi_ex3$observed</code>, or if we want to get the variance information (which is crucial with survey data), we can use <code>survey_mean()</code>. Remember, when we have two variables in <code>group_by()</code>, we obtain the proportions within each level of the variable listed. In this case, we are looking at the distribution of <code>AgeGroup</code> for each level of <code>VotedPres2020_selection</code>. </p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="c06-statistical-testing.html#cb211-1" tabindex="-1"></a>chi_ex3_obs <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb211-2"><a href="c06-statistical-testing.html#cb211-2" tabindex="-1"></a>  <span class="fu">filter</span>(VotedPres2020 <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb211-3"><a href="c06-statistical-testing.html#cb211-3" tabindex="-1"></a>  <span class="fu">drop_na</span>(VotedPres2020_selection, AgeGroup) <span class="sc">%&gt;%</span></span>
<span id="cb211-4"><a href="c06-statistical-testing.html#cb211-4" tabindex="-1"></a>  <span class="fu">group_by</span>(VotedPres2020_selection, AgeGroup) <span class="sc">%&gt;%</span></span>
<span id="cb211-5"><a href="c06-statistical-testing.html#cb211-5" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Observed =</span> <span class="fu">round</span>(<span class="fu">survey_mean</span>(<span class="at">vartype =</span> <span class="st">&quot;ci&quot;</span>), <span class="dv">3</span>))</span>
<span id="cb211-6"><a href="c06-statistical-testing.html#cb211-6" tabindex="-1"></a></span>
<span id="cb211-7"><a href="c06-statistical-testing.html#cb211-7" tabindex="-1"></a>chi_ex3_obs_table <span class="ot">&lt;-</span> chi_ex3_obs <span class="sc">%&gt;%</span></span>
<span id="cb211-8"><a href="c06-statistical-testing.html#cb211-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">paste0</span>(</span>
<span id="cb211-9"><a href="c06-statistical-testing.html#cb211-9" tabindex="-1"></a>    Observed, <span class="st">&quot; (&quot;</span>, Observed_low, <span class="st">&quot;, &quot;</span>,</span>
<span id="cb211-10"><a href="c06-statistical-testing.html#cb211-10" tabindex="-1"></a>    Observed_upp, <span class="st">&quot;)&quot;</span></span>
<span id="cb211-11"><a href="c06-statistical-testing.html#cb211-11" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb211-12"><a href="c06-statistical-testing.html#cb211-12" tabindex="-1"></a>  <span class="fu">select</span>(AgeGroup, VotedPres2020_selection, prop) <span class="sc">%&gt;%</span></span>
<span id="cb211-13"><a href="c06-statistical-testing.html#cb211-13" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb211-14"><a href="c06-statistical-testing.html#cb211-14" tabindex="-1"></a>    <span class="at">names_from =</span> VotedPres2020_selection,</span>
<span id="cb211-15"><a href="c06-statistical-testing.html#cb211-15" tabindex="-1"></a>    <span class="at">values_from =</span> prop</span>
<span id="cb211-16"><a href="c06-statistical-testing.html#cb211-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb211-17"><a href="c06-statistical-testing.html#cb211-17" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">&quot;AgeGroup&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb211-18"><a href="c06-statistical-testing.html#cb211-18" tabindex="-1"></a>  <span class="fu">tab_stubhead</span>(<span class="at">label =</span> <span class="st">&quot;Age Group&quot;</span>)</span></code></pre></div>
<p> </p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="c06-statistical-testing.html#cb212-1" tabindex="-1"></a>chi_ex3_obs_table</span></code></pre></div>

<div id="dbubdpfhal" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dbubdpfhal table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dbubdpfhal thead, #dbubdpfhal tbody, #dbubdpfhal tfoot, #dbubdpfhal tr, #dbubdpfhal td, #dbubdpfhal th {
  border-style: none;
}

#dbubdpfhal p {
  margin: 0;
  padding: 0;
}

#dbubdpfhal .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dbubdpfhal .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dbubdpfhal .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dbubdpfhal .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dbubdpfhal .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dbubdpfhal .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dbubdpfhal .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dbubdpfhal .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dbubdpfhal .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dbubdpfhal .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dbubdpfhal .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dbubdpfhal .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dbubdpfhal .gt_spanner_row {
  border-bottom-style: hidden;
}

#dbubdpfhal .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dbubdpfhal .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dbubdpfhal .gt_from_md > :first-child {
  margin-top: 0;
}

#dbubdpfhal .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dbubdpfhal .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dbubdpfhal .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dbubdpfhal .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dbubdpfhal .gt_row_group_first td {
  border-top-width: 2px;
}

#dbubdpfhal .gt_row_group_first th {
  border-top-width: 2px;
}

#dbubdpfhal .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dbubdpfhal .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dbubdpfhal .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dbubdpfhal .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dbubdpfhal .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dbubdpfhal .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dbubdpfhal .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dbubdpfhal .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dbubdpfhal .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dbubdpfhal .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dbubdpfhal .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dbubdpfhal .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dbubdpfhal .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dbubdpfhal .gt_left {
  text-align: left;
}

#dbubdpfhal .gt_center {
  text-align: center;
}

#dbubdpfhal .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dbubdpfhal .gt_font_normal {
  font-weight: normal;
}

#dbubdpfhal .gt_font_bold {
  font-weight: bold;
}

#dbubdpfhal .gt_font_italic {
  font-style: italic;
}

#dbubdpfhal .gt_super {
  font-size: 65%;
}

#dbubdpfhal .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dbubdpfhal .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dbubdpfhal .gt_indent_1 {
  text-indent: 5px;
}

#dbubdpfhal .gt_indent_2 {
  text-indent: 10px;
}

#dbubdpfhal .gt_indent_3 {
  text-indent: 15px;
}

#dbubdpfhal .gt_indent_4 {
  text-indent: 20px;
}

#dbubdpfhal .gt_indent_5 {
  text-indent: 25px;
}

#dbubdpfhal .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dbubdpfhal div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:stattest-chi-ex3-tab">TABLE 6.6: </span>Distribution of age group by presidential candidate selection with confidence intervals</caption>
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Age Group">Age Group</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Biden">Biden</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Trump">Trump</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Other">Other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">18-29</th>
<td headers="stub_1_1 Biden" class="gt_row gt_right">0.203 (0.177, 0.229)</td>
<td headers="stub_1_1 Trump" class="gt_row gt_right">0.113 (0.095, 0.132)</td>
<td headers="stub_1_1 Other" class="gt_row gt_right">0.221 (0.144, 0.298)</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">30-39</th>
<td headers="stub_1_2 Biden" class="gt_row gt_right">0.168 (0.152, 0.184)</td>
<td headers="stub_1_2 Trump" class="gt_row gt_right">0.146 (0.125, 0.168)</td>
<td headers="stub_1_2 Other" class="gt_row gt_right">0.302 (0.21, 0.394)</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">40-49</th>
<td headers="stub_1_3 Biden" class="gt_row gt_right">0.163 (0.146, 0.18)</td>
<td headers="stub_1_3 Trump" class="gt_row gt_right">0.157 (0.137, 0.177)</td>
<td headers="stub_1_3 Other" class="gt_row gt_right">0.21 (0.13, 0.29)</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">50-59</th>
<td headers="stub_1_4 Biden" class="gt_row gt_right">0.152 (0.135, 0.17)</td>
<td headers="stub_1_4 Trump" class="gt_row gt_right">0.229 (0.202, 0.256)</td>
<td headers="stub_1_4 Other" class="gt_row gt_right">0.104 (0.04, 0.168)</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_center gt_stub">60-69</th>
<td headers="stub_1_5 Biden" class="gt_row gt_right">0.177 (0.159, 0.196)</td>
<td headers="stub_1_5 Trump" class="gt_row gt_right">0.193 (0.173, 0.213)</td>
<td headers="stub_1_5 Other" class="gt_row gt_right">0.103 (0.025, 0.182)</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_center gt_stub">70 or older</th>
<td headers="stub_1_6 Biden" class="gt_row gt_right">0.136 (0.123, 0.149)</td>
<td headers="stub_1_6 Trump" class="gt_row gt_right">0.161 (0.143, 0.179)</td>
<td headers="stub_1_6 Other" class="gt_row gt_right">0.06 (0.01, 0.109)</td></tr>
  </tbody>
  
  
</table>
</div>
<p>In Table <a href="c06-statistical-testing.html#tab:stattest-chi-ex3-tab">6.6</a> we can see that the age group distribution that voted for Biden and other candidates was younger than those that voted for Trump. For example, of those who voted for Biden, 20.4% were in the 18–29 age group, compared to only 11.4% of those who voted for Trump were in that age group. Conversely, 23.4% of those who voted for Trump were in the 50–59 age group compared to only 15.4% of those who voted for Biden. </p>
<p></p>
</div>
</div>
</div>
<div id="stattest-exercises" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Exercises<a href="c06-statistical-testing.html#stattest-exercises" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The exercises use the design objects <code>anes_des</code> and <code>recs_des</code> as provided in the Prerequisites box at the <a href="c06-statistical-testing.html#c06-statistical-testing">beginning of the chapter</a>. Here are some exercises for practicing conducting t-tests using <code>svyttest()</code>:</p>
<ol style="list-style-type: decimal">
<li><p>Using the RECS data, do more than 50% of U.S. households use A/C (<code>ACUsed</code>)?</p></li>
<li><p>Using the RECS data, does the average temperature at which U.S. households set their thermostats differ between the day and night in the winter (<code>WinterTempDay</code> and <code>WinterTempNight</code>)?</p></li>
<li><p>Using the ANES data, does the average age (<code>Age</code>) of those who voted for Joseph Biden in 2020 (<code>VotedPres2020_selection</code>) differ from those who voted for another candidate?</p></li>
<li><p>If we wanted to determine if the political party affiliation differed for males and females, what test would we use?</p></li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Goodness-of-fit test (<code>svygofchisq()</code>)</li>
<li>Test of independence (<code>svychisq()</code>)</li>
<li>Test of homogeneity (<code>svychisq()</code>)</li>
</ol>
<ol start="5" style="list-style-type: decimal">
<li><p>In the RECS data, is there a relationship between the type of housing unit (<code>HousingUnitType</code>) and the year the house was built (<code>YearMade</code>)?</p></li>
<li><p>In the ANES data, is there a difference in the distribution of gender (<code>Gender</code>) across early voting status in 2020 (<code>EarlyVote2020</code>)?</p></li>
</ol>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-anes-svy" class="csl-entry">
American National Election Studies. 2021. <span>“ANES 2020 Time Series Study: Pre-Election and Post-Election Survey Questionnaires.”</span> <a href="https://electionstudies.org/wp-content/uploads/2021/07/anes_timeseries_2020_questionnaire_20210719.pdf" class="uri">https://electionstudies.org/wp-content/uploads/2021/07/anes_timeseries_2020_questionnaire_20210719.pdf</a>.
</div>
<div id="ref-R-prettyunits" class="csl-entry">
Csardi, Gabor. 2023. <em><span class="nocase">prettyunits</span>: Pretty, Human Readable Formatting of Quantities</em>. <a href="https://github.com/r-lib/prettyunits">https://github.com/r-lib/prettyunits</a>.
</div>
<div id="ref-lumley2010complex" class="csl-entry">
Lumley, Thomas. 2010. <em>Complex Surveys: A Guide to Analysis Using <span>R</span></em>. John Wiley &amp; Sons.
</div>
<div id="ref-R-base" class="csl-entry">
R Core Team. 2024. <em><span>R</span>: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-R-broom" class="csl-entry">
Robinson, David, Alex Hayes, and Simon Couch. 2023. <em><span class="nocase">broom</span>: Convert Statistical Objects into Tidy Tibbles</em>. <a href="https://broom.tidymodels.org/">https://broom.tidymodels.org/</a>.
</div>
<div id="ref-Scott2007" class="csl-entry">
Scott, Alastair. 2007. <span>“Rao-Scott Corrections and Their Impact.”</span> In <em>Section on Survey Research Methods</em>, 3514–18. <a href="http://www.asasrms.org/Proceedings/y2007/Files/JSM2007-000874.pdf" class="uri">http://www.asasrms.org/Proceedings/y2007/Files/JSM2007-000874.pdf</a>.
</div>
<div id="ref-recs-svy" class="csl-entry">
———. 2020. <span>“Residential Energy Consumption Survey (RECS) Form EIA-457A 2020 Household Questionnaire.”</span> <a href="https://www.eia.gov/survey/form/eia_457/archive/2020_RECS-457A.pdf" class="uri">https://www.eia.gov/survey/form/eia_457/archive/2020_RECS-457A.pdf</a>.
</div>
<div id="ref-R-forcats" class="csl-entry">
———. 2023. <em><span class="nocase">forcats</span>: Tools for Working with Categorical Variables (Factors)</em>. <a href="https://forcats.tidyverse.org/">https://forcats.tidyverse.org/</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="12">
<li id="fn12"><p>For more information on statistical testing, we recommend reviewing introduction to statistics textbooks.<a href="c06-statistical-testing.html#fnref12" class="footnote-back">↩︎</a></p></li>
<li id="fn13"><p>This could change in the future if another package is built or {srvyr} is expanded to work with {tidymodels} packages, but no such plans are known at this time.<a href="c06-statistical-testing.html#fnref13" class="footnote-back">↩︎</a></p></li>
<li id="fn14"><p>Question text: “During the summer, what is your home’s typical indoor temperature inside your home at night?” <span class="citation">(<a href="#ref-recs-svy">U.S. Energy Information Administration 2020</a>)</span><a href="c06-statistical-testing.html#fnref14" class="footnote-back">↩︎</a></p></li>
<li id="fn15"><p>This is the temperature that Stephanie prefers at night during the summer, and she wanted to see if she was different from the population.<a href="c06-statistical-testing.html#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p>Question text: “Is any air conditioning equipment used in your home?” <span class="citation">(<a href="#ref-recs-svy">U.S. Energy Information Administration 2020</a>)</span><a href="c06-statistical-testing.html#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p>Question text: “During the winter, what is your home’s typical indoor temperature inside your home at night?” <span class="citation">(<a href="#ref-recs-svy">U.S. Energy Information Administration 2020</a>)</span><a href="c06-statistical-testing.html#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p>These two statistics can also be used for goodness-of-fit tests if the <code>svygofchisq()</code> function is not used.<a href="c06-statistical-testing.html#fnref18" class="footnote-back">↩︎</a></p></li>
<li id="fn19"><p>Question text: “What is the highest level of school you have completed or the highest degree you have received?” <span class="citation">(<a href="#ref-anes-svy">American National Election Studies 2021</a>)</span><a href="c06-statistical-testing.html#fnref19" class="footnote-back">↩︎</a></p></li>
<li id="fn20"><p>Data was pulled from data.census.gov using the S1501 Education Attainment 2020: ACS 5-Year Estimates Subject Tables.<a href="c06-statistical-testing.html#fnref20" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="c05-descriptive-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="c07-modeling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github"]
},
"fontsettings": false,
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/tidy-survey-r/tidy-survey-book/blob/main/06-statistical-testing.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
