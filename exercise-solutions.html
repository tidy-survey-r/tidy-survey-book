<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>D Exercise solutions | Exploring Complex Survey Data Analysis Using R</title>
  <meta name="description" content="Bookdown for CRC Press book on Exploring Complex Survey Data Analysis Using R." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="D Exercise solutions | Exploring Complex Survey Data Analysis Using R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/BookCover_Final.jpg" />
  <meta property="og:description" content="Bookdown for CRC Press book on Exploring Complex Survey Data Analysis Using R." />
  <meta name="github-repo" content="tidy-survey-r/tidy-survey-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="D Exercise solutions | Exploring Complex Survey Data Analysis Using R" />
  
  <meta name="twitter:description" content="Bookdown for CRC Press book on Exploring Complex Survey Data Analysis Using R." />
  <meta name="twitter:image" content="/images/BookCover_Final.jpg" />

<meta name="author" content="Stephanie A. Zimmer, Rebecca J. Powell, and Isabella C. VelÃ¡squez" />


<meta name="date" content="2024-08-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="recs-cb.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<link href="libs/htmltools-fill/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/d3/d3.min.js"></script>
<script src="libs/dagre/dagre-d3.min.js"></script>
<link href="libs/mermaid/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid/dist/mermaid.slim.min.js"></script>
<link href="libs/DiagrammeR-styles/styles.css" rel="stylesheet" />
<script src="libs/chromatography/chromatography.js"></script>
<script src="libs/DiagrammeR-binding/DiagrammeR.js"></script>
<script defer data-domain="tidy-survey-r.github.io/tidy-survey-book" src="https://plausible.io/js/script.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Exploring Complex Survey Data Analysis Using R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#dedication"><i class="fa fa-check"></i>Dedication</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#citation"><i class="fa fa-check"></i>Citation</a></li>
</ul></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="c01-intro.html"><a href="c01-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="c01-intro.html"><a href="c01-intro.html#survey-analysis-in-r"><i class="fa fa-check"></i><b>1.1</b> Survey analysis in R</a></li>
<li class="chapter" data-level="1.2" data-path="c01-intro.html"><a href="c01-intro.html#what-to-expect"><i class="fa fa-check"></i><b>1.2</b> What to expect</a></li>
<li class="chapter" data-level="1.3" data-path="c01-intro.html"><a href="c01-intro.html#prerequisites"><i class="fa fa-check"></i><b>1.3</b> Prerequisites</a></li>
<li class="chapter" data-level="1.4" data-path="c01-intro.html"><a href="c01-intro.html#datasets-used-in-this-book"><i class="fa fa-check"></i><b>1.4</b> Datasets used in this book</a></li>
<li class="chapter" data-level="1.5" data-path="c01-intro.html"><a href="c01-intro.html#conventions"><i class="fa fa-check"></i><b>1.5</b> Conventions</a></li>
<li class="chapter" data-level="1.6" data-path="c01-intro.html"><a href="c01-intro.html#getting-help"><i class="fa fa-check"></i><b>1.6</b> Getting help</a></li>
<li class="chapter" data-level="1.7" data-path="c01-intro.html"><a href="c01-intro.html#acknowledgments"><i class="fa fa-check"></i><b>1.7</b> Acknowledgments</a></li>
<li class="chapter" data-level="1.8" data-path="c01-intro.html"><a href="c01-intro.html#colophon"><i class="fa fa-check"></i><b>1.8</b> Colophon</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html"><i class="fa fa-check"></i><b>2</b> Overview of surveys</a>
<ul>
<li class="chapter" data-level="2.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#searching-for-public-use-survey-data"><i class="fa fa-check"></i><b>2.2</b> Searching for public-use survey data</a></li>
<li class="chapter" data-level="2.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#pre-survey-planning"><i class="fa fa-check"></i><b>2.3</b> Pre-survey planning</a></li>
<li class="chapter" data-level="2.4" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design"><i class="fa fa-check"></i><b>2.4</b> Study design</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-sampdesign"><i class="fa fa-check"></i><b>2.4.1</b> Sampling design</a></li>
<li class="chapter" data-level="2.4.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-dcplanning"><i class="fa fa-check"></i><b>2.4.2</b> Data collection planning</a></li>
<li class="chapter" data-level="2.4.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-questionnaire"><i class="fa fa-check"></i><b>2.4.3</b> Questionnaire design</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-datacollection"><i class="fa fa-check"></i><b>2.5</b> Data collection</a></li>
<li class="chapter" data-level="2.6" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post"><i class="fa fa-check"></i><b>2.6</b> Post-survey processing</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-cleaning"><i class="fa fa-check"></i><b>2.6.1</b> Data cleaning and imputation</a></li>
<li class="chapter" data-level="2.6.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-weighting"><i class="fa fa-check"></i><b>2.6.2</b> Weighting</a></li>
<li class="chapter" data-level="2.6.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-disclosure"><i class="fa fa-check"></i><b>2.6.3</b> Disclosure</a></li>
<li class="chapter" data-level="2.6.4" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-documentation"><i class="fa fa-check"></i><b>2.6.4</b> Documentation</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#post-survey-data-analysis-and-reporting"><i class="fa fa-check"></i><b>2.7</b> Post-survey data analysis and reporting</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html"><i class="fa fa-check"></i><b>3</b> Survey data documentation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#types-of-survey-documentation"><i class="fa fa-check"></i><b>3.2</b> Types of survey documentation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#technical-documentation"><i class="fa fa-check"></i><b>3.2.1</b> Technical documentation</a></li>
<li class="chapter" data-level="3.2.2" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#questionnaires"><i class="fa fa-check"></i><b>3.2.2</b> Questionnaires</a></li>
<li class="chapter" data-level="3.2.3" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#codebooks"><i class="fa fa-check"></i><b>3.2.3</b> Codebooks</a></li>
<li class="chapter" data-level="3.2.4" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#errata"><i class="fa fa-check"></i><b>3.2.4</b> Errata</a></li>
<li class="chapter" data-level="3.2.5" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#additional-resources"><i class="fa fa-check"></i><b>3.2.5</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#missing-data-coding"><i class="fa fa-check"></i><b>3.3</b> Missing data coding</a></li>
<li class="chapter" data-level="3.4" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#example-anes-2020-survey-documentation"><i class="fa fa-check"></i><b>3.4</b> Example: ANES 2020 survey documentation</a>
<ul>
<li class="chapter" data-level="" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#methodology"><i class="fa fa-check"></i>Methodology</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Analysis</b></span></li>
<li class="chapter" data-level="4" data-path="c04-getting-started.html"><a href="c04-getting-started.html"><i class="fa fa-check"></i><b>4</b> Getting started</a>
<ul>
<li class="chapter" data-level="4.1" data-path="c04-getting-started.html"><a href="c04-getting-started.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup"><i class="fa fa-check"></i><b>4.2</b> Setup</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup-load-pkgs"><i class="fa fa-check"></i><b>4.2.1</b> Packages</a></li>
<li class="chapter" data-level="4.2.2" data-path="c04-getting-started.html"><a href="c04-getting-started.html#data"><i class="fa fa-check"></i><b>4.2.2</b> Data</a></li>
<li class="chapter" data-level="4.2.3" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup-des-obj"><i class="fa fa-check"></i><b>4.2.3</b> Design objects</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="c04-getting-started.html"><a href="c04-getting-started.html#survey-analysis-process"><i class="fa fa-check"></i><b>4.3</b> Survey analysis process</a></li>
<li class="chapter" data-level="4.4" data-path="c04-getting-started.html"><a href="c04-getting-started.html#similarities-dplyr-srvyr"><i class="fa fa-check"></i><b>4.4</b> Similarities between {dplyr} and {srvyr} functions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html"><i class="fa fa-check"></i><b>5</b> Descriptive analyses</a>
<ul>
<li class="chapter" data-level="" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#prereq5"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="5.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#counts-and-cross-tabulations"><i class="fa fa-check"></i><b>5.2</b> Counts and cross-tabulations</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-count-syntax"><i class="fa fa-check"></i><b>5.2.1</b> Syntax</a></li>
<li class="chapter" data-level="5.2.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples"><i class="fa fa-check"></i><b>5.2.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#totals-and-sums"><i class="fa fa-check"></i><b>5.3</b> Totals and sums </a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax"><i class="fa fa-check"></i><b>5.3.1</b> Syntax</a></li>
<li class="chapter" data-level="5.3.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-1"><i class="fa fa-check"></i><b>5.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-meanprop"><i class="fa fa-check"></i><b>5.4</b> Means and proportions</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-meanprop-syntax"><i class="fa fa-check"></i><b>5.4.1</b> Syntax</a></li>
<li class="chapter" data-level="5.4.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-2"><i class="fa fa-check"></i><b>5.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#quantiles-and-medians"><i class="fa fa-check"></i><b>5.5</b> Quantiles and medians</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-1"><i class="fa fa-check"></i><b>5.5.1</b> Syntax</a></li>
<li class="chapter" data-level="5.5.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-3"><i class="fa fa-check"></i><b>5.5.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#ratios"><i class="fa fa-check"></i><b>5.6</b> Ratios </a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-2"><i class="fa fa-check"></i><b>5.6.1</b> Syntax</a></li>
<li class="chapter" data-level="5.6.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-4"><i class="fa fa-check"></i><b>5.6.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#correlations"><i class="fa fa-check"></i><b>5.7</b> Correlations </a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-3"><i class="fa fa-check"></i><b>5.7.1</b> Syntax</a></li>
<li class="chapter" data-level="5.7.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-5"><i class="fa fa-check"></i><b>5.7.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#standard-deviation-and-variance"><i class="fa fa-check"></i><b>5.8</b> Standard deviation and variance </a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-4"><i class="fa fa-check"></i><b>5.8.1</b> Syntax</a></li>
<li class="chapter" data-level="5.8.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-6"><i class="fa fa-check"></i><b>5.8.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#additional-topics"><i class="fa fa-check"></i><b>5.9</b> Additional topics</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#unweighted-analysis"><i class="fa fa-check"></i><b>5.9.1</b> Unweighted analysis </a></li>
<li class="chapter" data-level="5.9.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#subpopulation-analysis"><i class="fa fa-check"></i><b>5.9.2</b> Subpopulation analysis </a></li>
<li class="chapter" data-level="5.9.3" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-deff"><i class="fa fa-check"></i><b>5.9.3</b> Design effects</a></li>
<li class="chapter" data-level="5.9.4" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#creating-summary-rows"><i class="fa fa-check"></i><b>5.9.4</b> Creating summary rows</a></li>
<li class="chapter" data-level="5.9.5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#calculating-estimates-for-many-outcomes"><i class="fa fa-check"></i><b>5.9.5</b> Calculating estimates for many outcomes</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#exercises"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html"><i class="fa fa-check"></i><b>6</b> Statistical testing</a>
<ul>
<li class="chapter" data-level="" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#prereq6"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="6.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#dot-notation"><i class="fa fa-check"></i><b>6.2</b> Dot notation</a></li>
<li class="chapter" data-level="6.3" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest"><i class="fa fa-check"></i><b>6.3</b> Comparison of proportions and means</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest-syntax"><i class="fa fa-check"></i><b>6.3.1</b> Syntax</a></li>
<li class="chapter" data-level="6.3.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest-examples"><i class="fa fa-check"></i><b>6.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi"><i class="fa fa-check"></i><b>6.4</b> Chi-squared tests</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi-syntax"><i class="fa fa-check"></i><b>6.4.1</b> Syntax</a></li>
<li class="chapter" data-level="6.4.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi-examples"><i class="fa fa-check"></i><b>6.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-exercises"><i class="fa fa-check"></i><b>6.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="c07-modeling.html"><a href="c07-modeling.html"><i class="fa fa-check"></i><b>7</b> Modeling</a>
<ul>
<li class="chapter" data-level="" data-path="c07-modeling.html"><a href="c07-modeling.html#prereq7"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="7.1" data-path="c07-modeling.html"><a href="c07-modeling.html#model-intro"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="c07-modeling.html"><a href="c07-modeling.html#analysis-of-variance"><i class="fa fa-check"></i><b>7.2</b> Analysis of variance</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-6"><i class="fa fa-check"></i><b>7.2.1</b> Syntax</a></li>
<li class="chapter" data-level="7.2.2" data-path="c07-modeling.html"><a href="c07-modeling.html#example-1"><i class="fa fa-check"></i><b>7.2.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="c07-modeling.html"><a href="c07-modeling.html#normal-linear-regression"><i class="fa fa-check"></i><b>7.3</b> Normal linear regression</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-7"><i class="fa fa-check"></i><b>7.3.1</b> Syntax</a></li>
<li class="chapter" data-level="7.3.2" data-path="c07-modeling.html"><a href="c07-modeling.html#examples-7"><i class="fa fa-check"></i><b>7.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="c07-modeling.html"><a href="c07-modeling.html#logistic-regression"><i class="fa fa-check"></i><b>7.4</b> Logistic regression</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-8"><i class="fa fa-check"></i><b>7.4.1</b> Syntax</a></li>
<li class="chapter" data-level="7.4.2" data-path="c07-modeling.html"><a href="c07-modeling.html#examples-8"><i class="fa fa-check"></i><b>7.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="c07-modeling.html"><a href="c07-modeling.html#exercises-1"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Reporting</b></span></li>
<li class="chapter" data-level="8" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html"><i class="fa fa-check"></i><b>8</b> Communication of results</a>
<ul>
<li class="chapter" data-level="" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#prereq8"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="8.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#introduction-6"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#describing-results-through-text"><i class="fa fa-check"></i><b>8.2</b> Describing results through text</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#methodology-1"><i class="fa fa-check"></i><b>8.2.1</b> Methodology</a></li>
<li class="chapter" data-level="8.2.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#analysis"><i class="fa fa-check"></i><b>8.2.2</b> Analysis</a></li>
<li class="chapter" data-level="8.2.3" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#results"><i class="fa fa-check"></i><b>8.2.3</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#visualizing-data"><i class="fa fa-check"></i><b>8.3</b> Visualizing data</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#tables"><i class="fa fa-check"></i><b>8.3.1</b> Tables</a></li>
<li class="chapter" data-level="8.3.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#charts-and-plots"><i class="fa fa-check"></i><b>8.3.2</b> Charts and plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html"><i class="fa fa-check"></i><b>9</b> Reproducible research</a>
<ul>
<li class="chapter" data-level="9.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#introduction-7"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#project-based-workflows"><i class="fa fa-check"></i><b>9.2</b> Project-based workflows</a></li>
<li class="chapter" data-level="9.3" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#functions-and-packages"><i class="fa fa-check"></i><b>9.3</b> Functions and packages</a></li>
<li class="chapter" data-level="9.4" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#version-control-with-git"><i class="fa fa-check"></i><b>9.4</b> Version control with Git</a></li>
<li class="chapter" data-level="9.5" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#package-management-with-renv"><i class="fa fa-check"></i><b>9.5</b> Package management with {renv}</a></li>
<li class="chapter" data-level="9.6" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#r-environments-with-docker"><i class="fa fa-check"></i><b>9.6</b> R environments with Docker</a></li>
<li class="chapter" data-level="9.7" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#workflow-management-with-targets"><i class="fa fa-check"></i><b>9.7</b> Workflow management with {targets}</a></li>
<li class="chapter" data-level="9.8" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#documentation-with-quarto-and-r-markdown"><i class="fa fa-check"></i><b>9.8</b> Documentation with Quarto and R Markdown</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#parameterization"><i class="fa fa-check"></i><b>9.8.1</b> Parameterization</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#other-tips-for-reproducibility"><i class="fa fa-check"></i><b>9.9</b> Other tips for reproducibility</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#random-number-seeds"><i class="fa fa-check"></i><b>9.9.1</b> Random number seeds</a></li>
<li class="chapter" data-level="9.9.2" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#descriptive-names-and-labels"><i class="fa fa-check"></i><b>9.9.2</b> Descriptive names and labels</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#additional-resources-1"><i class="fa fa-check"></i><b>9.10</b> Additional resources</a></li>
</ul></li>
<li class="part"><span><b>IV Real-life data</b></span></li>
<li class="chapter" data-level="10" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html"><i class="fa fa-check"></i><b>10</b> Sample designs and replicate weights</a>
<ul>
<li class="chapter" data-level="" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#prereq3"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="10.1" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#introduction-8"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#common-sampling-designs"><i class="fa fa-check"></i><b>10.2</b> Common sampling designs</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#simple-random-sample-without-replacement"><i class="fa fa-check"></i><b>10.2.1</b> Simple random sample without replacement</a></li>
<li class="chapter" data-level="10.2.2" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#simple-random-sample-with-replacement"><i class="fa fa-check"></i><b>10.2.2</b> Simple random sample with replacement</a></li>
<li class="chapter" data-level="10.2.3" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#stratified-sampling"><i class="fa fa-check"></i><b>10.2.3</b> Stratified sampling </a></li>
<li class="chapter" data-level="10.2.4" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#samp-cluster"><i class="fa fa-check"></i><b>10.2.4</b> Clustered sampling</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#samp-combo"><i class="fa fa-check"></i><b>10.3</b> Combining sampling methods</a>
<ul>
<li class="chapter" data-level="" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#example-6"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#replicate-weights"><i class="fa fa-check"></i><b>10.4</b> Replicate weights</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#balanced-repeated-replication-method"><i class="fa fa-check"></i><b>10.4.1</b> Balanced Repeated Replication method</a></li>
<li class="chapter" data-level="10.4.2" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#fays-brr-method"><i class="fa fa-check"></i><b>10.4.2</b> Fayâs BRR method</a></li>
<li class="chapter" data-level="10.4.3" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#samp-jackknife"><i class="fa fa-check"></i><b>10.4.3</b> Jackknife method</a></li>
<li class="chapter" data-level="10.4.4" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#bootstrap-method"><i class="fa fa-check"></i><b>10.4.4</b> Bootstrap method</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#exercises-2"><i class="fa fa-check"></i><b>10.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="c11-missing-data.html"><a href="c11-missing-data.html"><i class="fa fa-check"></i><b>11</b> Missing data</a>
<ul>
<li class="chapter" data-level="" data-path="c11-missing-data.html"><a href="c11-missing-data.html#prereq11"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="11.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#introduction-9"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#missing-data-mechanisms"><i class="fa fa-check"></i><b>11.2</b> Missing data mechanisms</a></li>
<li class="chapter" data-level="11.3" data-path="c11-missing-data.html"><a href="c11-missing-data.html#assessing-missing-data"><i class="fa fa-check"></i><b>11.3</b> Assessing missing data</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#summarize-data"><i class="fa fa-check"></i><b>11.3.1</b> Summarize data</a></li>
<li class="chapter" data-level="11.3.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#visualization-of-missing-data"><i class="fa fa-check"></i><b>11.3.2</b> Visualization of missing data</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="c11-missing-data.html"><a href="c11-missing-data.html#analysis-with-missing-data"><i class="fa fa-check"></i><b>11.4</b> Analysis with missing data</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#recoding-missing-data"><i class="fa fa-check"></i><b>11.4.1</b> Recoding missing data</a></li>
<li class="chapter" data-level="11.4.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#missing-skip-patt"><i class="fa fa-check"></i><b>11.4.2</b> Accounting for skip patterns</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="c12-recommendations.html"><a href="c12-recommendations.html"><i class="fa fa-check"></i><b>12</b> Successful survey analysis recommendations</a>
<ul>
<li class="chapter" data-level="" data-path="c12-recommendations.html"><a href="c12-recommendations.html#prereq12"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="12.1" data-path="c12-recommendations.html"><a href="c12-recommendations.html#introduction-10"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="c12-recommendations.html"><a href="c12-recommendations.html#recs-survey-process"><i class="fa fa-check"></i><b>12.2</b> Follow the survey analysis process</a></li>
<li class="chapter" data-level="12.3" data-path="c12-recommendations.html"><a href="c12-recommendations.html#begin-with-descriptive-analysis"><i class="fa fa-check"></i><b>12.3</b> Begin with descriptive analysis</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="c12-recommendations.html"><a href="c12-recommendations.html#table-review"><i class="fa fa-check"></i><b>12.3.1</b> Table review</a></li>
<li class="chapter" data-level="12.3.2" data-path="c12-recommendations.html"><a href="c12-recommendations.html#graphical-review"><i class="fa fa-check"></i><b>12.3.2</b> Graphical review</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="c12-recommendations.html"><a href="c12-recommendations.html#check-variable-types"><i class="fa fa-check"></i><b>12.4</b> Check variable types</a></li>
<li class="chapter" data-level="12.5" data-path="c12-recommendations.html"><a href="c12-recommendations.html#improve-debugging-skills"><i class="fa fa-check"></i><b>12.5</b> Improve debugging skills</a></li>
<li class="chapter" data-level="12.6" data-path="c12-recommendations.html"><a href="c12-recommendations.html#think-critically-about-conclusions"><i class="fa fa-check"></i><b>12.6</b> Think critically about conclusions</a></li>
</ul></li>
<li class="part"><span><b>V Vignettes</b></span></li>
<li class="chapter" data-level="13" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html"><i class="fa fa-check"></i><b>13</b> National Crime Victimization Survey Vignette</a>
<ul>
<li class="chapter" data-level="" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#prereq9"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="13.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#introduction-11"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#data-structure"><i class="fa fa-check"></i><b>13.2</b> Data structure</a></li>
<li class="chapter" data-level="13.3" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#survey-notation"><i class="fa fa-check"></i><b>13.3</b> Survey notation</a></li>
<li class="chapter" data-level="13.4" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#data-file-preparation"><i class="fa fa-check"></i><b>13.4</b> Data file preparation</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#preparing-files-for-estimation-of-victimization-rates"><i class="fa fa-check"></i><b>13.4.1</b> Preparing files for estimation of victimization rates</a></li>
<li class="chapter" data-level="13.4.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#derived-demographic-variables"><i class="fa fa-check"></i><b>13.4.2</b> Derived demographic variables</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#survey-design-objects"><i class="fa fa-check"></i><b>13.5</b> Survey design objects</a></li>
<li class="chapter" data-level="13.6" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#calculating-estimates"><i class="fa fa-check"></i><b>13.6</b> Calculating estimates</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-tot"><i class="fa fa-check"></i><b>13.6.1</b> Estimation 1: Victimization totals</a></li>
<li class="chapter" data-level="13.6.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-prop"><i class="fa fa-check"></i><b>13.6.2</b> Estimation 2: Victimization proportions</a></li>
<li class="chapter" data-level="13.6.3" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-rate"><i class="fa fa-check"></i><b>13.6.3</b> Estimation 3: Victimization rates</a></li>
<li class="chapter" data-level="13.6.4" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#prev-rate"><i class="fa fa-check"></i><b>13.6.4</b> Estimation 4: Prevalence rates</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#statistical-testing"><i class="fa fa-check"></i><b>13.7</b> Statistical testing</a></li>
<li class="chapter" data-level="13.8" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#exercises-3"><i class="fa fa-check"></i><b>13.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html"><i class="fa fa-check"></i><b>14</b> AmericasBarometer Vignette</a>
<ul>
<li class="chapter" data-level="" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#prereq10"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="14.1" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#introduction-12"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#data-structure-1"><i class="fa fa-check"></i><b>14.2</b> Data structure</a></li>
<li class="chapter" data-level="14.3" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#preparing-files"><i class="fa fa-check"></i><b>14.3</b> Preparing files</a></li>
<li class="chapter" data-level="14.4" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#survey-design-objects-1"><i class="fa fa-check"></i><b>14.4</b> Survey design objects</a></li>
<li class="chapter" data-level="14.5" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#ambarom-estimates"><i class="fa fa-check"></i><b>14.5</b> Calculating estimates</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#example-worried-about-covid-19"><i class="fa fa-check"></i><b>14.5.1</b> Example: Worried about COVID-19</a></li>
<li class="chapter" data-level="14.5.2" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#example-education-affected-by-covid-19"><i class="fa fa-check"></i><b>14.5.2</b> Example: Education affected by COVID-19</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#ambarom-maps"><i class="fa fa-check"></i><b>14.6</b> Mapping survey data</a></li>
<li class="chapter" data-level="14.7" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#exercises-4"><i class="fa fa-check"></i><b>14.7</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html"><i class="fa fa-check"></i><b>A</b> Importing survey data into R</a>
<ul>
<li class="chapter" data-level="A.1" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-delimiter-separated-files-into-r"><i class="fa fa-check"></i><b>A.1</b> Importing delimiter-separated files into R</a></li>
<li class="chapter" data-level="A.2" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-excel-files-into-r"><i class="fa fa-check"></i><b>A.2</b> Importing Excel files into R</a></li>
<li class="chapter" data-level="A.3" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-stata-sas-and-spss-files-into-r"><i class="fa fa-check"></i><b>A.3</b> Importing Stata, SAS, and SPSS files into R</a>
<ul>
<li class="chapter" data-level="A.3.1" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#syntax-9"><i class="fa fa-check"></i><b>A.3.1</b> Syntax</a></li>
<li class="chapter" data-level="A.3.2" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#working-with-labeled-data"><i class="fa fa-check"></i><b>A.3.2</b> Working with labeled data</a></li>
<li class="chapter" data-level="A.3.3" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#labeled-missing-data-values"><i class="fa fa-check"></i><b>A.3.3</b> Labeled missing data values</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-apis-into-r"><i class="fa fa-check"></i><b>A.4</b> Importing data from APIs into R</a></li>
<li class="chapter" data-level="A.5" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-databases-in-r"><i class="fa fa-check"></i><b>A.5</b> Importing data from databases in R</a></li>
<li class="chapter" data-level="A.6" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-other-formats"><i class="fa fa-check"></i><b>A.6</b> Importing data from other formats</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="anes-cb.html"><a href="anes-cb.html"><i class="fa fa-check"></i><b>B</b> ANES derived variable codebook</a>
<ul>
<li class="chapter" data-level="B.1" data-path="anes-cb.html"><a href="anes-cb.html#admin"><i class="fa fa-check"></i><b>B.1</b> ADMIN</a></li>
<li class="chapter" data-level="B.2" data-path="anes-cb.html"><a href="anes-cb.html#weights"><i class="fa fa-check"></i><b>B.2</b> WEIGHTS</a></li>
<li class="chapter" data-level="B.3" data-path="anes-cb.html"><a href="anes-cb.html#pre-election-survey-questionnaire"><i class="fa fa-check"></i><b>B.3</b> PRE-ELECTION SURVEY QUESTIONNAIRE</a></li>
<li class="chapter" data-level="B.4" data-path="anes-cb.html"><a href="anes-cb.html#post-election-survey-questionnaire"><i class="fa fa-check"></i><b>B.4</b> POST-ELECTION SURVEY QUESTIONNAIRE</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="recs-cb.html"><a href="recs-cb.html"><i class="fa fa-check"></i><b>C</b> RECS derived variable codebook</a>
<ul>
<li class="chapter" data-level="C.1" data-path="recs-cb.html"><a href="recs-cb.html#admin-1"><i class="fa fa-check"></i><b>C.1</b> ADMIN</a></li>
<li class="chapter" data-level="C.2" data-path="recs-cb.html"><a href="recs-cb.html#geography"><i class="fa fa-check"></i><b>C.2</b> GEOGRAPHY</a></li>
<li class="chapter" data-level="C.3" data-path="recs-cb.html"><a href="recs-cb.html#weather"><i class="fa fa-check"></i><b>C.3</b> WEATHER</a></li>
<li class="chapter" data-level="C.4" data-path="recs-cb.html"><a href="recs-cb.html#your-home"><i class="fa fa-check"></i><b>C.4</b> YOUR HOME</a></li>
<li class="chapter" data-level="C.5" data-path="recs-cb.html"><a href="recs-cb.html#space-heating"><i class="fa fa-check"></i><b>C.5</b> SPACE HEATING</a></li>
<li class="chapter" data-level="C.6" data-path="recs-cb.html"><a href="recs-cb.html#air-conditioning"><i class="fa fa-check"></i><b>C.6</b> AIR CONDITIONING</a></li>
<li class="chapter" data-level="C.7" data-path="recs-cb.html"><a href="recs-cb.html#thermostat"><i class="fa fa-check"></i><b>C.7</b> THERMOSTAT</a></li>
<li class="chapter" data-level="C.8" data-path="recs-cb.html"><a href="recs-cb.html#weights-1"><i class="fa fa-check"></i><b>C.8</b> WEIGHTS</a></li>
<li class="chapter" data-level="C.9" data-path="recs-cb.html"><a href="recs-cb.html#consumption-and-expenditure"><i class="fa fa-check"></i><b>C.9</b> CONSUMPTION AND EXPENDITURE</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="exercise-solutions.html"><a href="exercise-solutions.html"><i class="fa fa-check"></i><b>D</b> Exercise solutions</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#descriptive-analysis"><i class="fa fa-check"></i>5 - Descriptive analysis</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#statistical-testing-1"><i class="fa fa-check"></i>6 - Statistical testing</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#modeling"><i class="fa fa-check"></i>7 - Modeling</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#specifying-sample-designs-and-replicate-weights-in-srvyr"><i class="fa fa-check"></i>10 - Specifying sample designs and replicate weights in {srvyr}</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#national-crime-victimization-survey-vignette"><i class="fa fa-check"></i>13 - National Crime Victimization Survey Vignette</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#americasbarometer-vignette"><i class="fa fa-check"></i>14 - AmericasBarometer Vignette</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploring Complex Survey Data Analysis Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercise-solutions" class="section level1 hasAnchor" number="18">
<h1><span class="header-section-number">D</span> Exercise solutions<a href="exercise-solutions.html#exercise-solutions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The chapter exercises use the survey design objects and packages provided in the Prerequisites box in the beginning of the chapter. Please ensure they are loaded in the environment before running the exercise solutions. Code chunks to load these are also included below.</p>
<div class="sourceCode" id="cb544"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb544-1"><a href="exercise-solutions.html#cb544-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb544-2"><a href="exercise-solutions.html#cb544-2" tabindex="-1"></a><span class="fu">library</span>(survey)</span>
<span id="cb544-3"><a href="exercise-solutions.html#cb544-3" tabindex="-1"></a><span class="fu">library</span>(srvyr)</span>
<span id="cb544-4"><a href="exercise-solutions.html#cb544-4" tabindex="-1"></a><span class="fu">library</span>(srvyrexploR)</span>
<span id="cb544-5"><a href="exercise-solutions.html#cb544-5" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb544-6"><a href="exercise-solutions.html#cb544-6" tabindex="-1"></a><span class="fu">library</span>(prettyunits)</span>
<span id="cb544-7"><a href="exercise-solutions.html#cb544-7" tabindex="-1"></a><span class="fu">library</span>(gt)</span></code></pre></div>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb545-1"><a href="exercise-solutions.html#cb545-1" tabindex="-1"></a>targetpop <span class="ot">&lt;-</span> <span class="dv">231592693</span></span>
<span id="cb545-2"><a href="exercise-solutions.html#cb545-2" tabindex="-1"></a></span>
<span id="cb545-3"><a href="exercise-solutions.html#cb545-3" tabindex="-1"></a>anes_adjwgt <span class="ot">&lt;-</span> anes_2020 <span class="sc">%&gt;%</span></span>
<span id="cb545-4"><a href="exercise-solutions.html#cb545-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Weight =</span> Weight <span class="sc">/</span> <span class="fu">sum</span>(Weight) <span class="sc">*</span> targetpop)</span>
<span id="cb545-5"><a href="exercise-solutions.html#cb545-5" tabindex="-1"></a></span>
<span id="cb545-6"><a href="exercise-solutions.html#cb545-6" tabindex="-1"></a>anes_des <span class="ot">&lt;-</span> anes_adjwgt <span class="sc">%&gt;%</span></span>
<span id="cb545-7"><a href="exercise-solutions.html#cb545-7" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb545-8"><a href="exercise-solutions.html#cb545-8" tabindex="-1"></a>    <span class="at">weights =</span> Weight,</span>
<span id="cb545-9"><a href="exercise-solutions.html#cb545-9" tabindex="-1"></a>    <span class="at">strata =</span> Stratum,</span>
<span id="cb545-10"><a href="exercise-solutions.html#cb545-10" tabindex="-1"></a>    <span class="at">ids =</span> VarUnit,</span>
<span id="cb545-11"><a href="exercise-solutions.html#cb545-11" tabindex="-1"></a>    <span class="at">nest =</span> <span class="cn">TRUE</span></span>
<span id="cb545-12"><a href="exercise-solutions.html#cb545-12" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb546-1"><a href="exercise-solutions.html#cb546-1" tabindex="-1"></a>recs_des <span class="ot">&lt;-</span> recs_2020 <span class="sc">%&gt;%</span></span>
<span id="cb546-2"><a href="exercise-solutions.html#cb546-2" tabindex="-1"></a>  <span class="fu">as_survey_rep</span>(</span>
<span id="cb546-3"><a href="exercise-solutions.html#cb546-3" tabindex="-1"></a>    <span class="at">weights =</span> NWEIGHT,</span>
<span id="cb546-4"><a href="exercise-solutions.html#cb546-4" tabindex="-1"></a>    <span class="at">repweights =</span> NWEIGHT1<span class="sc">:</span>NWEIGHT60,</span>
<span id="cb546-5"><a href="exercise-solutions.html#cb546-5" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&quot;JK1&quot;</span>,</span>
<span id="cb546-6"><a href="exercise-solutions.html#cb546-6" tabindex="-1"></a>    <span class="at">scale =</span> <span class="dv">59</span><span class="sc">/</span><span class="dv">60</span>,</span>
<span id="cb546-7"><a href="exercise-solutions.html#cb546-7" tabindex="-1"></a>    <span class="at">mse =</span> <span class="cn">TRUE</span></span>
<span id="cb546-8"><a href="exercise-solutions.html#cb546-8" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="exercise-solutions.html#cb547-1" tabindex="-1"></a>inc_series <span class="ot">&lt;-</span> ncvs_2021_incident <span class="sc">%&gt;%</span></span>
<span id="cb547-2"><a href="exercise-solutions.html#cb547-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb547-3"><a href="exercise-solutions.html#cb547-3" tabindex="-1"></a>    <span class="at">series =</span> <span class="fu">case_when</span>(V4017 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb547-4"><a href="exercise-solutions.html#cb547-4" tabindex="-1"></a>                       V4018 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb547-5"><a href="exercise-solutions.html#cb547-5" tabindex="-1"></a>                       V4019 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb547-6"><a href="exercise-solutions.html#cb547-6" tabindex="-1"></a>                       <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb547-7"><a href="exercise-solutions.html#cb547-7" tabindex="-1"></a>    ),</span>
<span id="cb547-8"><a href="exercise-solutions.html#cb547-8" tabindex="-1"></a>    <span class="at">n10v4016 =</span> <span class="fu">case_when</span>(V4016 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">997</span>, <span class="dv">998</span>) <span class="sc">~</span> <span class="cn">NA_real_</span>,</span>
<span id="cb547-9"><a href="exercise-solutions.html#cb547-9" tabindex="-1"></a>                         V4016 <span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="dv">10</span>,</span>
<span id="cb547-10"><a href="exercise-solutions.html#cb547-10" tabindex="-1"></a>                         <span class="cn">TRUE</span> <span class="sc">~</span> V4016),</span>
<span id="cb547-11"><a href="exercise-solutions.html#cb547-11" tabindex="-1"></a>    <span class="at">serieswgt =</span> <span class="fu">case_when</span>(series <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(n10v4016) <span class="sc">~</span> <span class="dv">6</span>,</span>
<span id="cb547-12"><a href="exercise-solutions.html#cb547-12" tabindex="-1"></a>                          series <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> n10v4016,</span>
<span id="cb547-13"><a href="exercise-solutions.html#cb547-13" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">1</span>),</span>
<span id="cb547-14"><a href="exercise-solutions.html#cb547-14" tabindex="-1"></a>    <span class="at">NEWWGT =</span> WGTVICCY <span class="sc">*</span> serieswgt</span>
<span id="cb547-15"><a href="exercise-solutions.html#cb547-15" tabindex="-1"></a>  )</span>
<span id="cb547-16"><a href="exercise-solutions.html#cb547-16" tabindex="-1"></a></span>
<span id="cb547-17"><a href="exercise-solutions.html#cb547-17" tabindex="-1"></a>inc_ind <span class="ot">&lt;-</span> inc_series <span class="sc">%&gt;%</span></span>
<span id="cb547-18"><a href="exercise-solutions.html#cb547-18" tabindex="-1"></a>  <span class="fu">filter</span>(V4022 <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb547-19"><a href="exercise-solutions.html#cb547-19" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb547-20"><a href="exercise-solutions.html#cb547-20" tabindex="-1"></a>    <span class="at">WeapCat =</span> <span class="fu">case_when</span>(</span>
<span id="cb547-21"><a href="exercise-solutions.html#cb547-21" tabindex="-1"></a>      <span class="fu">is.na</span>(V4049) <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb547-22"><a href="exercise-solutions.html#cb547-22" tabindex="-1"></a>      V4049 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;NoWeap&quot;</span>,</span>
<span id="cb547-23"><a href="exercise-solutions.html#cb547-23" tabindex="-1"></a>      V4049 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;UnkWeapUse&quot;</span>,</span>
<span id="cb547-24"><a href="exercise-solutions.html#cb547-24" tabindex="-1"></a>      V4050 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;Other&quot;</span>,</span>
<span id="cb547-25"><a href="exercise-solutions.html#cb547-25" tabindex="-1"></a>      V4051 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> V4052 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> V4050 <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">&quot;Firearm&quot;</span>,</span>
<span id="cb547-26"><a href="exercise-solutions.html#cb547-26" tabindex="-1"></a>      V4053 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> V4054 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Knife&quot;</span>,</span>
<span id="cb547-27"><a href="exercise-solutions.html#cb547-27" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Other&quot;</span></span>
<span id="cb547-28"><a href="exercise-solutions.html#cb547-28" tabindex="-1"></a>    ),</span>
<span id="cb547-29"><a href="exercise-solutions.html#cb547-29" tabindex="-1"></a>    <span class="at">V4529_num =</span> <span class="fu">parse_number</span>(<span class="fu">as.character</span>(V4529)),</span>
<span id="cb547-30"><a href="exercise-solutions.html#cb547-30" tabindex="-1"></a>    <span class="at">ReportPolice =</span> V4399 <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb547-31"><a href="exercise-solutions.html#cb547-31" tabindex="-1"></a>    <span class="at">Property =</span> V4529_num <span class="sc">&gt;=</span> <span class="dv">31</span>,</span>
<span id="cb547-32"><a href="exercise-solutions.html#cb547-32" tabindex="-1"></a>    <span class="at">Violent =</span> V4529_num <span class="sc">&lt;=</span> <span class="dv">20</span>,</span>
<span id="cb547-33"><a href="exercise-solutions.html#cb547-33" tabindex="-1"></a>    <span class="at">Property_ReportPolice =</span> Property <span class="sc">&amp;</span> ReportPolice,</span>
<span id="cb547-34"><a href="exercise-solutions.html#cb547-34" tabindex="-1"></a>    <span class="at">Violent_ReportPolice =</span> Violent <span class="sc">&amp;</span> ReportPolice,</span>
<span id="cb547-35"><a href="exercise-solutions.html#cb547-35" tabindex="-1"></a>    <span class="at">AAST =</span> V4529_num <span class="sc">%in%</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">13</span>,</span>
<span id="cb547-36"><a href="exercise-solutions.html#cb547-36" tabindex="-1"></a>    <span class="at">AAST_NoWeap =</span> AAST <span class="sc">&amp;</span> WeapCat <span class="sc">==</span> <span class="st">&quot;NoWeap&quot;</span>,</span>
<span id="cb547-37"><a href="exercise-solutions.html#cb547-37" tabindex="-1"></a>    <span class="at">AAST_Firearm =</span> AAST <span class="sc">&amp;</span> WeapCat <span class="sc">==</span> <span class="st">&quot;Firearm&quot;</span>,</span>
<span id="cb547-38"><a href="exercise-solutions.html#cb547-38" tabindex="-1"></a>    <span class="at">AAST_Knife =</span> AAST <span class="sc">&amp;</span> WeapCat <span class="sc">==</span> <span class="st">&quot;Knife&quot;</span>,</span>
<span id="cb547-39"><a href="exercise-solutions.html#cb547-39" tabindex="-1"></a>    <span class="at">AAST_Other =</span> AAST <span class="sc">&amp;</span> WeapCat <span class="sc">==</span> <span class="st">&quot;Other&quot;</span></span>
<span id="cb547-40"><a href="exercise-solutions.html#cb547-40" tabindex="-1"></a>  )</span>
<span id="cb547-41"><a href="exercise-solutions.html#cb547-41" tabindex="-1"></a>inc_hh_sums <span class="ot">&lt;-</span></span>
<span id="cb547-42"><a href="exercise-solutions.html#cb547-42" tabindex="-1"></a>  inc_ind <span class="sc">%&gt;%</span></span>
<span id="cb547-43"><a href="exercise-solutions.html#cb547-43" tabindex="-1"></a>  <span class="fu">filter</span>(V4529_num <span class="sc">&gt;</span> <span class="dv">23</span>) <span class="sc">%&gt;%</span> <span class="co"># restrict to household crimes</span></span>
<span id="cb547-44"><a href="exercise-solutions.html#cb547-44" tabindex="-1"></a>  <span class="fu">group_by</span>(YEARQ, IDHH) <span class="sc">%&gt;%</span></span>
<span id="cb547-45"><a href="exercise-solutions.html#cb547-45" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">WGTVICCY =</span> WGTVICCY[<span class="dv">1</span>],</span>
<span id="cb547-46"><a href="exercise-solutions.html#cb547-46" tabindex="-1"></a>            <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;Property&quot;</span>), </span>
<span id="cb547-47"><a href="exercise-solutions.html#cb547-47" tabindex="-1"></a>                   <span class="sc">~</span> <span class="fu">sum</span>(. <span class="sc">*</span> serieswgt),</span>
<span id="cb547-48"><a href="exercise-solutions.html#cb547-48" tabindex="-1"></a>                   <span class="at">.names =</span> <span class="st">&quot;{.col}&quot;</span>),</span>
<span id="cb547-49"><a href="exercise-solutions.html#cb547-49" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb547-50"><a href="exercise-solutions.html#cb547-50" tabindex="-1"></a></span>
<span id="cb547-51"><a href="exercise-solutions.html#cb547-51" tabindex="-1"></a>inc_pers_sums <span class="ot">&lt;-</span></span>
<span id="cb547-52"><a href="exercise-solutions.html#cb547-52" tabindex="-1"></a>  inc_ind <span class="sc">%&gt;%</span></span>
<span id="cb547-53"><a href="exercise-solutions.html#cb547-53" tabindex="-1"></a>  <span class="fu">filter</span>(V4529_num <span class="sc">&lt;=</span> <span class="dv">23</span>) <span class="sc">%&gt;%</span> <span class="co"># restrict to person crimes</span></span>
<span id="cb547-54"><a href="exercise-solutions.html#cb547-54" tabindex="-1"></a>  <span class="fu">group_by</span>(YEARQ, IDHH, IDPER) <span class="sc">%&gt;%</span></span>
<span id="cb547-55"><a href="exercise-solutions.html#cb547-55" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">WGTVICCY =</span> WGTVICCY[<span class="dv">1</span>],</span>
<span id="cb547-56"><a href="exercise-solutions.html#cb547-56" tabindex="-1"></a>            <span class="fu">across</span>(<span class="fu">c</span>(<span class="fu">starts_with</span>(<span class="st">&quot;Violent&quot;</span>), <span class="fu">starts_with</span>(<span class="st">&quot;AAST&quot;</span>)),</span>
<span id="cb547-57"><a href="exercise-solutions.html#cb547-57" tabindex="-1"></a>                   <span class="sc">~</span> <span class="fu">sum</span>(. <span class="sc">*</span> serieswgt), </span>
<span id="cb547-58"><a href="exercise-solutions.html#cb547-58" tabindex="-1"></a>                   <span class="at">.names =</span> <span class="st">&quot;{.col}&quot;</span>),</span>
<span id="cb547-59"><a href="exercise-solutions.html#cb547-59" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb547-60"><a href="exercise-solutions.html#cb547-60" tabindex="-1"></a></span>
<span id="cb547-61"><a href="exercise-solutions.html#cb547-61" tabindex="-1"></a>hh_z_list <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">ncol</span>(inc_hh_sums) <span class="sc">-</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> <span class="fu">as.list</span>() <span class="sc">%&gt;%</span></span>
<span id="cb547-62"><a href="exercise-solutions.html#cb547-62" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">names</span>(inc_hh_sums)[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)])</span>
<span id="cb547-63"><a href="exercise-solutions.html#cb547-63" tabindex="-1"></a>pers_z_list <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">ncol</span>(inc_pers_sums) <span class="sc">-</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span> <span class="fu">as.list</span>() <span class="sc">%&gt;%</span></span>
<span id="cb547-64"><a href="exercise-solutions.html#cb547-64" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">names</span>(inc_pers_sums)[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)])</span>
<span id="cb547-65"><a href="exercise-solutions.html#cb547-65" tabindex="-1"></a></span>
<span id="cb547-66"><a href="exercise-solutions.html#cb547-66" tabindex="-1"></a>hh_vsum <span class="ot">&lt;-</span> ncvs_2021_household <span class="sc">%&gt;%</span></span>
<span id="cb547-67"><a href="exercise-solutions.html#cb547-67" tabindex="-1"></a>  <span class="fu">full_join</span>(inc_hh_sums, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEARQ&quot;</span>, <span class="st">&quot;IDHH&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb547-68"><a href="exercise-solutions.html#cb547-68" tabindex="-1"></a>  <span class="fu">replace_na</span>(hh_z_list) <span class="sc">%&gt;%</span></span>
<span id="cb547-69"><a href="exercise-solutions.html#cb547-69" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ADJINC_WT =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(WGTVICCY), <span class="dv">0</span>, WGTVICCY <span class="sc">/</span> WGTHHCY))</span>
<span id="cb547-70"><a href="exercise-solutions.html#cb547-70" tabindex="-1"></a></span>
<span id="cb547-71"><a href="exercise-solutions.html#cb547-71" tabindex="-1"></a>pers_vsum <span class="ot">&lt;-</span> ncvs_2021_person <span class="sc">%&gt;%</span></span>
<span id="cb547-72"><a href="exercise-solutions.html#cb547-72" tabindex="-1"></a>  <span class="fu">full_join</span>(inc_pers_sums, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEARQ&quot;</span>, <span class="st">&quot;IDHH&quot;</span>, <span class="st">&quot;IDPER&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb547-73"><a href="exercise-solutions.html#cb547-73" tabindex="-1"></a>  <span class="fu">replace_na</span>(pers_z_list) <span class="sc">%&gt;%</span></span>
<span id="cb547-74"><a href="exercise-solutions.html#cb547-74" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ADJINC_WT =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(WGTVICCY), <span class="dv">0</span>, WGTVICCY <span class="sc">/</span> WGTPERCY))</span>
<span id="cb547-75"><a href="exercise-solutions.html#cb547-75" tabindex="-1"></a></span>
<span id="cb547-76"><a href="exercise-solutions.html#cb547-76" tabindex="-1"></a>hh_vsum_der <span class="ot">&lt;-</span> hh_vsum <span class="sc">%&gt;%</span></span>
<span id="cb547-77"><a href="exercise-solutions.html#cb547-77" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb547-78"><a href="exercise-solutions.html#cb547-78" tabindex="-1"></a>    <span class="at">Tenure =</span> <span class="fu">factor</span>(<span class="fu">case_when</span>(V2015 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Owned&quot;</span>, </span>
<span id="cb547-79"><a href="exercise-solutions.html#cb547-79" tabindex="-1"></a>                              <span class="sc">!</span><span class="fu">is.na</span>(V2015) <span class="sc">~</span> <span class="st">&quot;Rented&quot;</span>),</span>
<span id="cb547-80"><a href="exercise-solutions.html#cb547-80" tabindex="-1"></a>                    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Owned&quot;</span>, <span class="st">&quot;Rented&quot;</span>)),</span>
<span id="cb547-81"><a href="exercise-solutions.html#cb547-81" tabindex="-1"></a>    <span class="at">Urbanicity =</span> <span class="fu">factor</span>(<span class="fu">case_when</span>(V2143 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Urban&quot;</span>,</span>
<span id="cb547-82"><a href="exercise-solutions.html#cb547-82" tabindex="-1"></a>                                  V2143 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;Suburban&quot;</span>,</span>
<span id="cb547-83"><a href="exercise-solutions.html#cb547-83" tabindex="-1"></a>                                  V2143 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;Rural&quot;</span>),</span>
<span id="cb547-84"><a href="exercise-solutions.html#cb547-84" tabindex="-1"></a>                        <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Urban&quot;</span>, <span class="st">&quot;Suburban&quot;</span>, <span class="st">&quot;Rural&quot;</span>)),</span>
<span id="cb547-85"><a href="exercise-solutions.html#cb547-85" tabindex="-1"></a>    <span class="at">SC214A_num =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(SC214A)),</span>
<span id="cb547-86"><a href="exercise-solutions.html#cb547-86" tabindex="-1"></a>    <span class="at">Income =</span> <span class="fu">case_when</span>(SC214A_num <span class="sc">&lt;=</span> <span class="dv">8</span> <span class="sc">~</span> <span class="st">&quot;Less than $25,000&quot;</span>,</span>
<span id="cb547-87"><a href="exercise-solutions.html#cb547-87" tabindex="-1"></a>                       SC214A_num <span class="sc">&lt;=</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">&quot;$25,000-49,999&quot;</span>,</span>
<span id="cb547-88"><a href="exercise-solutions.html#cb547-88" tabindex="-1"></a>                       SC214A_num <span class="sc">&lt;=</span> <span class="dv">15</span> <span class="sc">~</span> <span class="st">&quot;$50,000-99,999&quot;</span>,</span>
<span id="cb547-89"><a href="exercise-solutions.html#cb547-89" tabindex="-1"></a>                       SC214A_num <span class="sc">&lt;=</span> <span class="dv">17</span> <span class="sc">~</span> <span class="st">&quot;$100,000-199,999&quot;</span>,</span>
<span id="cb547-90"><a href="exercise-solutions.html#cb547-90" tabindex="-1"></a>                       SC214A_num <span class="sc">&lt;=</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">&quot;$200,000 or more&quot;</span>),</span>
<span id="cb547-91"><a href="exercise-solutions.html#cb547-91" tabindex="-1"></a>    <span class="at">Income =</span> <span class="fu">fct_reorder</span>(Income, SC214A_num, <span class="at">.na_rm =</span> <span class="cn">FALSE</span>),</span>
<span id="cb547-92"><a href="exercise-solutions.html#cb547-92" tabindex="-1"></a>    <span class="at">PlaceSize =</span> <span class="fu">case_match</span>(<span class="fu">as.numeric</span>(<span class="fu">as.character</span>(V2126B)),</span>
<span id="cb547-93"><a href="exercise-solutions.html#cb547-93" tabindex="-1"></a>                           <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;Not in a place&quot;</span>,</span>
<span id="cb547-94"><a href="exercise-solutions.html#cb547-94" tabindex="-1"></a>                           <span class="dv">13</span> <span class="sc">~</span> <span class="st">&quot;Under 10,000&quot;</span>,</span>
<span id="cb547-95"><a href="exercise-solutions.html#cb547-95" tabindex="-1"></a>                           <span class="dv">16</span> <span class="sc">~</span> <span class="st">&quot;10,000-49,999&quot;</span>,</span>
<span id="cb547-96"><a href="exercise-solutions.html#cb547-96" tabindex="-1"></a>                           <span class="dv">17</span> <span class="sc">~</span> <span class="st">&quot;50,000-99,999&quot;</span>,</span>
<span id="cb547-97"><a href="exercise-solutions.html#cb547-97" tabindex="-1"></a>                           <span class="dv">18</span> <span class="sc">~</span> <span class="st">&quot;100,000-249,999&quot;</span>,</span>
<span id="cb547-98"><a href="exercise-solutions.html#cb547-98" tabindex="-1"></a>                           <span class="dv">19</span> <span class="sc">~</span> <span class="st">&quot;250,000-499,999&quot;</span>,</span>
<span id="cb547-99"><a href="exercise-solutions.html#cb547-99" tabindex="-1"></a>                           <span class="dv">20</span> <span class="sc">~</span> <span class="st">&quot;500,000-999,999&quot;</span>,</span>
<span id="cb547-100"><a href="exercise-solutions.html#cb547-100" tabindex="-1"></a>                           <span class="fu">c</span>(<span class="dv">21</span>, <span class="dv">22</span>, <span class="dv">23</span>) <span class="sc">~</span> <span class="st">&quot;1,000,000 or more&quot;</span>),</span>
<span id="cb547-101"><a href="exercise-solutions.html#cb547-101" tabindex="-1"></a>    <span class="at">PlaceSize =</span> <span class="fu">fct_reorder</span>(PlaceSize, <span class="fu">as.numeric</span>(V2126B)),</span>
<span id="cb547-102"><a href="exercise-solutions.html#cb547-102" tabindex="-1"></a>    <span class="at">Region =</span> <span class="fu">case_match</span>(<span class="fu">as.numeric</span>(V2127B),</span>
<span id="cb547-103"><a href="exercise-solutions.html#cb547-103" tabindex="-1"></a>                        <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Northeast&quot;</span>,</span>
<span id="cb547-104"><a href="exercise-solutions.html#cb547-104" tabindex="-1"></a>                        <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;Midwest&quot;</span>,</span>
<span id="cb547-105"><a href="exercise-solutions.html#cb547-105" tabindex="-1"></a>                        <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;South&quot;</span>,</span>
<span id="cb547-106"><a href="exercise-solutions.html#cb547-106" tabindex="-1"></a>                        <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;West&quot;</span>),</span>
<span id="cb547-107"><a href="exercise-solutions.html#cb547-107" tabindex="-1"></a>    <span class="at">Region =</span> <span class="fu">fct_reorder</span>(Region, <span class="fu">as.numeric</span>(V2127B))</span>
<span id="cb547-108"><a href="exercise-solutions.html#cb547-108" tabindex="-1"></a>  )</span>
<span id="cb547-109"><a href="exercise-solutions.html#cb547-109" tabindex="-1"></a>NHOPI <span class="ot">&lt;-</span> <span class="st">&quot;Native Hawaiian or Other Pacific Islander&quot;</span></span>
<span id="cb547-110"><a href="exercise-solutions.html#cb547-110" tabindex="-1"></a></span>
<span id="cb547-111"><a href="exercise-solutions.html#cb547-111" tabindex="-1"></a>pers_vsum_der <span class="ot">&lt;-</span> pers_vsum <span class="sc">%&gt;%</span></span>
<span id="cb547-112"><a href="exercise-solutions.html#cb547-112" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb547-113"><a href="exercise-solutions.html#cb547-113" tabindex="-1"></a>    <span class="at">Sex =</span> <span class="fu">factor</span>(<span class="fu">case_when</span>(V3018 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Male&quot;</span>,</span>
<span id="cb547-114"><a href="exercise-solutions.html#cb547-114" tabindex="-1"></a>                           V3018 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;Female&quot;</span>)),</span>
<span id="cb547-115"><a href="exercise-solutions.html#cb547-115" tabindex="-1"></a>    <span class="at">RaceHispOrigin =</span> <span class="fu">factor</span>(<span class="fu">case_when</span>(V3024 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Hispanic&quot;</span>,</span>
<span id="cb547-116"><a href="exercise-solutions.html#cb547-116" tabindex="-1"></a>                                      V3023A <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;White&quot;</span>,</span>
<span id="cb547-117"><a href="exercise-solutions.html#cb547-117" tabindex="-1"></a>                                      V3023A <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;Black&quot;</span>,</span>
<span id="cb547-118"><a href="exercise-solutions.html#cb547-118" tabindex="-1"></a>                                      V3023A <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;Asian&quot;</span>,</span>
<span id="cb547-119"><a href="exercise-solutions.html#cb547-119" tabindex="-1"></a>                                      V3023A <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> NHOPI,</span>
<span id="cb547-120"><a href="exercise-solutions.html#cb547-120" tabindex="-1"></a>                                      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Other&quot;</span>),</span>
<span id="cb547-121"><a href="exercise-solutions.html#cb547-121" tabindex="-1"></a>                            <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;White&quot;</span>, <span class="st">&quot;Black&quot;</span>, <span class="st">&quot;Hispanic&quot;</span>, </span>
<span id="cb547-122"><a href="exercise-solutions.html#cb547-122" tabindex="-1"></a>                                       <span class="st">&quot;Asian&quot;</span>, NHOPI, <span class="st">&quot;Other&quot;</span>)),</span>
<span id="cb547-123"><a href="exercise-solutions.html#cb547-123" tabindex="-1"></a>    <span class="at">V3014_num =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(V3014)),</span>
<span id="cb547-124"><a href="exercise-solutions.html#cb547-124" tabindex="-1"></a>    <span class="at">AgeGroup =</span> <span class="fu">case_when</span>(V3014_num <span class="sc">&lt;=</span> <span class="dv">17</span> <span class="sc">~</span> <span class="st">&quot;12-17&quot;</span>,</span>
<span id="cb547-125"><a href="exercise-solutions.html#cb547-125" tabindex="-1"></a>                         V3014_num <span class="sc">&lt;=</span> <span class="dv">24</span> <span class="sc">~</span> <span class="st">&quot;18-24&quot;</span>,</span>
<span id="cb547-126"><a href="exercise-solutions.html#cb547-126" tabindex="-1"></a>                         V3014_num <span class="sc">&lt;=</span> <span class="dv">34</span> <span class="sc">~</span> <span class="st">&quot;25-34&quot;</span>,</span>
<span id="cb547-127"><a href="exercise-solutions.html#cb547-127" tabindex="-1"></a>                         V3014_num <span class="sc">&lt;=</span> <span class="dv">49</span> <span class="sc">~</span> <span class="st">&quot;35-49&quot;</span>,</span>
<span id="cb547-128"><a href="exercise-solutions.html#cb547-128" tabindex="-1"></a>                         V3014_num <span class="sc">&lt;=</span> <span class="dv">64</span> <span class="sc">~</span> <span class="st">&quot;50-64&quot;</span>,</span>
<span id="cb547-129"><a href="exercise-solutions.html#cb547-129" tabindex="-1"></a>                         V3014_num <span class="sc">&lt;=</span> <span class="dv">90</span> <span class="sc">~</span> <span class="st">&quot;65 or older&quot;</span>),</span>
<span id="cb547-130"><a href="exercise-solutions.html#cb547-130" tabindex="-1"></a>    <span class="at">AgeGroup =</span> <span class="fu">fct_reorder</span>(AgeGroup, V3014_num),</span>
<span id="cb547-131"><a href="exercise-solutions.html#cb547-131" tabindex="-1"></a>    <span class="at">MaritalStatus =</span> <span class="fu">factor</span>(<span class="fu">case_when</span>(V3015 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Married&quot;</span>,</span>
<span id="cb547-132"><a href="exercise-solutions.html#cb547-132" tabindex="-1"></a>                                     V3015 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;Widowed&quot;</span>,</span>
<span id="cb547-133"><a href="exercise-solutions.html#cb547-133" tabindex="-1"></a>                                     V3015 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;Divorced&quot;</span>,</span>
<span id="cb547-134"><a href="exercise-solutions.html#cb547-134" tabindex="-1"></a>                                     V3015 <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;Separated&quot;</span>,</span>
<span id="cb547-135"><a href="exercise-solutions.html#cb547-135" tabindex="-1"></a>                                     V3015 <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;Never married&quot;</span>),</span>
<span id="cb547-136"><a href="exercise-solutions.html#cb547-136" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Never married&quot;</span>, <span class="st">&quot;Married&quot;</span>, </span>
<span id="cb547-137"><a href="exercise-solutions.html#cb547-137" tabindex="-1"></a>                                      <span class="st">&quot;Widowed&quot;</span>,<span class="st">&quot;Divorced&quot;</span>, </span>
<span id="cb547-138"><a href="exercise-solutions.html#cb547-138" tabindex="-1"></a>                                      <span class="st">&quot;Separated&quot;</span>))</span>
<span id="cb547-139"><a href="exercise-solutions.html#cb547-139" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb547-140"><a href="exercise-solutions.html#cb547-140" tabindex="-1"></a>  <span class="fu">left_join</span>(hh_vsum_der <span class="sc">%&gt;%</span> <span class="fu">select</span>(YEARQ, IDHH, </span>
<span id="cb547-141"><a href="exercise-solutions.html#cb547-141" tabindex="-1"></a>                                   V2117, V2118, Tenure<span class="sc">:</span>Region),</span>
<span id="cb547-142"><a href="exercise-solutions.html#cb547-142" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEARQ&quot;</span>, <span class="st">&quot;IDHH&quot;</span>))</span>
<span id="cb547-143"><a href="exercise-solutions.html#cb547-143" tabindex="-1"></a>hh_vsum_slim <span class="ot">&lt;-</span> hh_vsum_der <span class="sc">%&gt;%</span></span>
<span id="cb547-144"><a href="exercise-solutions.html#cb547-144" tabindex="-1"></a>  <span class="fu">select</span>(YEARQ<span class="sc">:</span>V2118,</span>
<span id="cb547-145"><a href="exercise-solutions.html#cb547-145" tabindex="-1"></a>         WGTVICCY<span class="sc">:</span>ADJINC_WT,</span>
<span id="cb547-146"><a href="exercise-solutions.html#cb547-146" tabindex="-1"></a>         Tenure,</span>
<span id="cb547-147"><a href="exercise-solutions.html#cb547-147" tabindex="-1"></a>         Urbanicity,</span>
<span id="cb547-148"><a href="exercise-solutions.html#cb547-148" tabindex="-1"></a>         Income,</span>
<span id="cb547-149"><a href="exercise-solutions.html#cb547-149" tabindex="-1"></a>         PlaceSize,</span>
<span id="cb547-150"><a href="exercise-solutions.html#cb547-150" tabindex="-1"></a>         Region)</span>
<span id="cb547-151"><a href="exercise-solutions.html#cb547-151" tabindex="-1"></a></span>
<span id="cb547-152"><a href="exercise-solutions.html#cb547-152" tabindex="-1"></a>pers_vsum_slim <span class="ot">&lt;-</span> pers_vsum_der <span class="sc">%&gt;%</span></span>
<span id="cb547-153"><a href="exercise-solutions.html#cb547-153" tabindex="-1"></a>  <span class="fu">select</span>(YEARQ<span class="sc">:</span>WGTPERCY, WGTVICCY<span class="sc">:</span>ADJINC_WT, Sex<span class="sc">:</span>Region)</span>
<span id="cb547-154"><a href="exercise-solutions.html#cb547-154" tabindex="-1"></a></span>
<span id="cb547-155"><a href="exercise-solutions.html#cb547-155" tabindex="-1"></a>dummy_records <span class="ot">&lt;-</span> hh_vsum_slim <span class="sc">%&gt;%</span></span>
<span id="cb547-156"><a href="exercise-solutions.html#cb547-156" tabindex="-1"></a>  <span class="fu">distinct</span>(V2117, V2118) <span class="sc">%&gt;%</span></span>
<span id="cb547-157"><a href="exercise-solutions.html#cb547-157" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Dummy =</span> <span class="dv">1</span>,</span>
<span id="cb547-158"><a href="exercise-solutions.html#cb547-158" tabindex="-1"></a>         <span class="at">WGTVICCY =</span> <span class="dv">1</span>,</span>
<span id="cb547-159"><a href="exercise-solutions.html#cb547-159" tabindex="-1"></a>         <span class="at">NEWWGT =</span> <span class="dv">1</span>)</span>
<span id="cb547-160"><a href="exercise-solutions.html#cb547-160" tabindex="-1"></a></span>
<span id="cb547-161"><a href="exercise-solutions.html#cb547-161" tabindex="-1"></a>inc_analysis <span class="ot">&lt;-</span> inc_ind <span class="sc">%&gt;%</span></span>
<span id="cb547-162"><a href="exercise-solutions.html#cb547-162" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Dummy =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb547-163"><a href="exercise-solutions.html#cb547-163" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="fu">select</span>(pers_vsum_slim, YEARQ, IDHH, IDPER, Sex<span class="sc">:</span>Region),</span>
<span id="cb547-164"><a href="exercise-solutions.html#cb547-164" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;YEARQ&quot;</span>, <span class="st">&quot;IDHH&quot;</span>, <span class="st">&quot;IDPER&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb547-165"><a href="exercise-solutions.html#cb547-165" tabindex="-1"></a>  <span class="fu">bind_rows</span>(dummy_records) <span class="sc">%&gt;%</span></span>
<span id="cb547-166"><a href="exercise-solutions.html#cb547-166" tabindex="-1"></a>  <span class="fu">select</span>(YEARQ<span class="sc">:</span>IDPER,</span>
<span id="cb547-167"><a href="exercise-solutions.html#cb547-167" tabindex="-1"></a>         WGTVICCY,</span>
<span id="cb547-168"><a href="exercise-solutions.html#cb547-168" tabindex="-1"></a>         NEWWGT,</span>
<span id="cb547-169"><a href="exercise-solutions.html#cb547-169" tabindex="-1"></a>         V4529,</span>
<span id="cb547-170"><a href="exercise-solutions.html#cb547-170" tabindex="-1"></a>         WeapCat,</span>
<span id="cb547-171"><a href="exercise-solutions.html#cb547-171" tabindex="-1"></a>         ReportPolice,</span>
<span id="cb547-172"><a href="exercise-solutions.html#cb547-172" tabindex="-1"></a>         Property<span class="sc">:</span>Region)</span>
<span id="cb547-173"><a href="exercise-solutions.html#cb547-173" tabindex="-1"></a></span>
<span id="cb547-174"><a href="exercise-solutions.html#cb547-174" tabindex="-1"></a>inc_des <span class="ot">&lt;-</span> inc_analysis <span class="sc">%&gt;%</span></span>
<span id="cb547-175"><a href="exercise-solutions.html#cb547-175" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb547-176"><a href="exercise-solutions.html#cb547-176" tabindex="-1"></a>    <span class="at">weight =</span> NEWWGT,</span>
<span id="cb547-177"><a href="exercise-solutions.html#cb547-177" tabindex="-1"></a>    <span class="at">strata =</span> V2117,</span>
<span id="cb547-178"><a href="exercise-solutions.html#cb547-178" tabindex="-1"></a>    <span class="at">ids =</span> V2118,</span>
<span id="cb547-179"><a href="exercise-solutions.html#cb547-179" tabindex="-1"></a>    <span class="at">nest =</span> <span class="cn">TRUE</span></span>
<span id="cb547-180"><a href="exercise-solutions.html#cb547-180" tabindex="-1"></a>  )</span>
<span id="cb547-181"><a href="exercise-solutions.html#cb547-181" tabindex="-1"></a></span>
<span id="cb547-182"><a href="exercise-solutions.html#cb547-182" tabindex="-1"></a>hh_des <span class="ot">&lt;-</span> hh_vsum_slim <span class="sc">%&gt;%</span></span>
<span id="cb547-183"><a href="exercise-solutions.html#cb547-183" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb547-184"><a href="exercise-solutions.html#cb547-184" tabindex="-1"></a>    <span class="at">weight =</span> WGTHHCY,</span>
<span id="cb547-185"><a href="exercise-solutions.html#cb547-185" tabindex="-1"></a>    <span class="at">strata =</span> V2117,</span>
<span id="cb547-186"><a href="exercise-solutions.html#cb547-186" tabindex="-1"></a>    <span class="at">ids =</span> V2118,</span>
<span id="cb547-187"><a href="exercise-solutions.html#cb547-187" tabindex="-1"></a>    <span class="at">nest =</span> <span class="cn">TRUE</span></span>
<span id="cb547-188"><a href="exercise-solutions.html#cb547-188" tabindex="-1"></a>  )</span>
<span id="cb547-189"><a href="exercise-solutions.html#cb547-189" tabindex="-1"></a></span>
<span id="cb547-190"><a href="exercise-solutions.html#cb547-190" tabindex="-1"></a>pers_des <span class="ot">&lt;-</span> pers_vsum_slim <span class="sc">%&gt;%</span></span>
<span id="cb547-191"><a href="exercise-solutions.html#cb547-191" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb547-192"><a href="exercise-solutions.html#cb547-192" tabindex="-1"></a>    <span class="at">weight =</span> WGTPERCY,</span>
<span id="cb547-193"><a href="exercise-solutions.html#cb547-193" tabindex="-1"></a>    <span class="at">strata =</span> V2117,</span>
<span id="cb547-194"><a href="exercise-solutions.html#cb547-194" tabindex="-1"></a>    <span class="at">ids =</span> V2118,</span>
<span id="cb547-195"><a href="exercise-solutions.html#cb547-195" tabindex="-1"></a>    <span class="at">nest =</span> <span class="cn">TRUE</span></span>
<span id="cb547-196"><a href="exercise-solutions.html#cb547-196" tabindex="-1"></a>  )</span></code></pre></div>
<p>The chapter exercises use the survey design objects and packages provided in the Prerequisites box in the beginning of the chapter. Please ensure they are loaded in the environment before running the exercise solutions.</p>
<div id="descriptive-analysis" class="section level2 unnumbered hasAnchor">
<h2>5 - Descriptive analysis<a href="exercise-solutions.html#descriptive-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>How many females have a graduate degree? Hint: The variables <code>Gender</code> and <code>Education</code> will be useful.</li>
</ol>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb548-1"><a href="exercise-solutions.html#cb548-1" tabindex="-1"></a><span class="co"># Option 1:</span></span>
<span id="cb548-2"><a href="exercise-solutions.html#cb548-2" tabindex="-1"></a>femgd_option1 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb548-3"><a href="exercise-solutions.html#cb548-3" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>, Education <span class="sc">==</span> <span class="st">&quot;Graduate&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb548-4"><a href="exercise-solutions.html#cb548-4" tabindex="-1"></a>  <span class="fu">survey_count</span>(<span class="at">name =</span> <span class="st">&quot;n&quot;</span>)</span>
<span id="cb548-5"><a href="exercise-solutions.html#cb548-5" tabindex="-1"></a></span>
<span id="cb548-6"><a href="exercise-solutions.html#cb548-6" tabindex="-1"></a>femgd_option1</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##           n    n_se
##       &lt;dbl&gt;   &lt;dbl&gt;
## 1 15072196. 837872.</code></pre>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="exercise-solutions.html#cb550-1" tabindex="-1"></a><span class="co"># Option 2:</span></span>
<span id="cb550-2"><a href="exercise-solutions.html#cb550-2" tabindex="-1"></a>femgd_option2 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb550-3"><a href="exercise-solutions.html#cb550-3" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>, Education <span class="sc">==</span> <span class="st">&quot;Graduate&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb550-4"><a href="exercise-solutions.html#cb550-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">N =</span> <span class="fu">survey_total</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb550-5"><a href="exercise-solutions.html#cb550-5" tabindex="-1"></a></span>
<span id="cb550-6"><a href="exercise-solutions.html#cb550-6" tabindex="-1"></a>femgd_option2</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##           N    N_se
##       &lt;dbl&gt;   &lt;dbl&gt;
## 1 15072196. 837872.</code></pre>
<p>Answer: 15,072,196</p>
<ol start="2" style="list-style-type: decimal">
<li>What percentage of people identify as âStrong Democratâ? Hint: The variable <code>PartyID</code> indicates someoneâs party affiliation.</li>
</ol>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="exercise-solutions.html#cb552-1" tabindex="-1"></a>psd <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb552-2"><a href="exercise-solutions.html#cb552-2" tabindex="-1"></a>  <span class="fu">group_by</span>(PartyID) <span class="sc">%&gt;%</span></span>
<span id="cb552-3"><a href="exercise-solutions.html#cb552-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb552-4"><a href="exercise-solutions.html#cb552-4" tabindex="-1"></a>  <span class="fu">filter</span>(PartyID <span class="sc">==</span> <span class="st">&quot;Strong democrat&quot;</span>)</span>
<span id="cb552-5"><a href="exercise-solutions.html#cb552-5" tabindex="-1"></a></span>
<span id="cb552-6"><a href="exercise-solutions.html#cb552-6" tabindex="-1"></a>psd</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 3
##   PartyID             p    p_se
##   &lt;fct&gt;           &lt;dbl&gt;   &lt;dbl&gt;
## 1 Strong democrat 0.219 0.00646</code></pre>
<p>Answer: 21.9%</p>
<ol start="3" style="list-style-type: decimal">
<li>What percentage of people who voted in the 2020 election identify as âStrong Republicanâ? Hint: The variable <code>VotedPres2020</code> indicates whether someone voted in 2020.</li>
</ol>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb554-1"><a href="exercise-solutions.html#cb554-1" tabindex="-1"></a>psr <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb554-2"><a href="exercise-solutions.html#cb554-2" tabindex="-1"></a>  <span class="fu">filter</span>(VotedPres2020 <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb554-3"><a href="exercise-solutions.html#cb554-3" tabindex="-1"></a>  <span class="fu">group_by</span>(PartyID) <span class="sc">%&gt;%</span></span>
<span id="cb554-4"><a href="exercise-solutions.html#cb554-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb554-5"><a href="exercise-solutions.html#cb554-5" tabindex="-1"></a>  <span class="fu">filter</span>(PartyID <span class="sc">==</span> <span class="st">&quot;Strong republican&quot;</span>)</span>
<span id="cb554-6"><a href="exercise-solutions.html#cb554-6" tabindex="-1"></a></span>
<span id="cb554-7"><a href="exercise-solutions.html#cb554-7" tabindex="-1"></a>psr</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 3
##   PartyID               p    p_se
##   &lt;fct&gt;             &lt;dbl&gt;   &lt;dbl&gt;
## 1 Strong republican 0.228 0.00824</code></pre>
<p>Answer: 22.8%</p>
<ol start="4" style="list-style-type: decimal">
<li>What percentage of people voted in both the 2016 election and the 2020 election? Include the logit confidence interval. Hint: The variable <code>VotedPres2016</code> indicates whether someone voted in 2016.</li>
</ol>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="exercise-solutions.html#cb556-1" tabindex="-1"></a>pvb <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb556-2"><a href="exercise-solutions.html#cb556-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(VotedPres2016), <span class="sc">!</span><span class="fu">is.na</span>(VotedPres2020)) <span class="sc">%&gt;%</span></span>
<span id="cb556-3"><a href="exercise-solutions.html#cb556-3" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">interact</span>(VotedPres2016, VotedPres2020)) <span class="sc">%&gt;%</span></span>
<span id="cb556-4"><a href="exercise-solutions.html#cb556-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_prop</span>(<span class="at">var =</span> <span class="st">&quot;ci&quot;</span>, <span class="at">method =</span> <span class="st">&quot;logit&quot;</span>), ) <span class="sc">%&gt;%</span></span>
<span id="cb556-5"><a href="exercise-solutions.html#cb556-5" tabindex="-1"></a>  <span class="fu">filter</span>(VotedPres2016 <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>, VotedPres2020 <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>)</span>
<span id="cb556-6"><a href="exercise-solutions.html#cb556-6" tabindex="-1"></a></span>
<span id="cb556-7"><a href="exercise-solutions.html#cb556-7" tabindex="-1"></a>pvb</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 5
##   VotedPres2016 VotedPres2020     p p_low p_upp
##   &lt;fct&gt;         &lt;fct&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Yes           Yes           0.794 0.777 0.810</code></pre>
<p>Answer: 79.4 with confidence interval: (77.7, 81)</p>
<ol start="5" style="list-style-type: decimal">
<li>What is the design effect for the proportion of people who voted early? Hint: The variable <code>EarlyVote2020</code> indicates whether someone voted early in 2020.</li>
</ol>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb558-1"><a href="exercise-solutions.html#cb558-1" tabindex="-1"></a>pdeff <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb558-2"><a href="exercise-solutions.html#cb558-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(EarlyVote2020)) <span class="sc">%&gt;%</span></span>
<span id="cb558-3"><a href="exercise-solutions.html#cb558-3" tabindex="-1"></a>  <span class="fu">group_by</span>(EarlyVote2020) <span class="sc">%&gt;%</span></span>
<span id="cb558-4"><a href="exercise-solutions.html#cb558-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>(<span class="at">deff =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb558-5"><a href="exercise-solutions.html#cb558-5" tabindex="-1"></a>  <span class="fu">filter</span>(EarlyVote2020 <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>)</span>
<span id="cb558-6"><a href="exercise-solutions.html#cb558-6" tabindex="-1"></a></span>
<span id="cb558-7"><a href="exercise-solutions.html#cb558-7" tabindex="-1"></a>pdeff</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 4
##   EarlyVote2020     p   p_se p_deff
##   &lt;fct&gt;         &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 Yes           0.726 0.0247   1.50</code></pre>
<p>Answer: 1.5</p>
<ol start="6" style="list-style-type: decimal">
<li>What is the median temperature people set their thermostats to at night during the winter? Hint: The variable <code>WinterTempNight</code> indicates the temperature that people set their thermostat to in the winter at night.</li>
</ol>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb560-1"><a href="exercise-solutions.html#cb560-1" tabindex="-1"></a>med_wintertempnight <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb560-2"><a href="exercise-solutions.html#cb560-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">wtn_med =</span> <span class="fu">survey_median</span>(</span>
<span id="cb560-3"><a href="exercise-solutions.html#cb560-3" tabindex="-1"></a>    <span class="at">x =</span> WinterTempNight,</span>
<span id="cb560-4"><a href="exercise-solutions.html#cb560-4" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb560-5"><a href="exercise-solutions.html#cb560-5" tabindex="-1"></a>  ))</span>
<span id="cb560-6"><a href="exercise-solutions.html#cb560-6" tabindex="-1"></a></span>
<span id="cb560-7"><a href="exercise-solutions.html#cb560-7" tabindex="-1"></a>med_wintertempnight</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##   wtn_med wtn_med_se
##     &lt;dbl&gt;      &lt;dbl&gt;
## 1      68      0.250</code></pre>
<p>Answer: 68</p>
<ol start="7" style="list-style-type: decimal">
<li>People sometimes set their temperature differently over different seasons and during the day. What median temperatures do people set their thermostat to in the summer and winter, both during the day and at night? Include confidence intervals. Hint: Use the variables <code>WinterTempDay</code>, <code>WinterTempNight</code>, <code>SummerTempDay</code>, and <code>SummerTempNight</code>.</li>
</ol>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb562-1"><a href="exercise-solutions.html#cb562-1" tabindex="-1"></a><span class="co"># Option 1</span></span>
<span id="cb562-2"><a href="exercise-solutions.html#cb562-2" tabindex="-1"></a></span>
<span id="cb562-3"><a href="exercise-solutions.html#cb562-3" tabindex="-1"></a>med_temps <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb562-4"><a href="exercise-solutions.html#cb562-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb562-5"><a href="exercise-solutions.html#cb562-5" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(WinterTempDay, WinterTempNight, SummerTempDay, SummerTempNight), <span class="sc">~</span> <span class="fu">survey_median</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb562-6"><a href="exercise-solutions.html#cb562-6" tabindex="-1"></a>  )</span>
<span id="cb562-7"><a href="exercise-solutions.html#cb562-7" tabindex="-1"></a></span>
<span id="cb562-8"><a href="exercise-solutions.html#cb562-8" tabindex="-1"></a>med_temps</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 8
##   WinterTempDay WinterTempDay_se WinterTempNight WinterTempNight_se
##           &lt;dbl&gt;            &lt;dbl&gt;           &lt;dbl&gt;              &lt;dbl&gt;
## 1            70            0.250              68              0.250
## # â¹ 4 more variables: SummerTempDay &lt;dbl&gt;, SummerTempDay_se &lt;dbl&gt;,
## #   SummerTempNight &lt;dbl&gt;, SummerTempNight_se &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb564-1"><a href="exercise-solutions.html#cb564-1" tabindex="-1"></a><span class="co"># Alternatively, could use `survey_quantile()` as shown below for WinterTempNight:</span></span>
<span id="cb564-2"><a href="exercise-solutions.html#cb564-2" tabindex="-1"></a></span>
<span id="cb564-3"><a href="exercise-solutions.html#cb564-3" tabindex="-1"></a>quant_temps <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb564-4"><a href="exercise-solutions.html#cb564-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb564-5"><a href="exercise-solutions.html#cb564-5" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(WinterTempDay, WinterTempNight, SummerTempDay, SummerTempNight), <span class="sc">~</span> <span class="fu">survey_quantile</span>(.x, <span class="at">quantiles =</span> <span class="fl">0.5</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb564-6"><a href="exercise-solutions.html#cb564-6" tabindex="-1"></a>  )</span>
<span id="cb564-7"><a href="exercise-solutions.html#cb564-7" tabindex="-1"></a></span>
<span id="cb564-8"><a href="exercise-solutions.html#cb564-8" tabindex="-1"></a>quant_temps</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 8
##   WinterTempDay_q50 WinterTempDay_q50_se WinterTempNight_q50
##               &lt;dbl&gt;                &lt;dbl&gt;               &lt;dbl&gt;
## 1                70                0.250                  68
## # â¹ 5 more variables: WinterTempNight_q50_se &lt;dbl&gt;,
## #   SummerTempDay_q50 &lt;dbl&gt;, SummerTempDay_q50_se &lt;dbl&gt;,
## #   SummerTempNight_q50 &lt;dbl&gt;, SummerTempNight_q50_se &lt;dbl&gt;</code></pre>
<p>Answer:
- Winter during the day: 70
- Winter during the night: 68
- Summer during the day: 72
- Summer during the night: 72</p>
<ol start="8" style="list-style-type: decimal">
<li>What is the correlation between the temperature that people set their temperature at during the night and during the day in the summer?</li>
</ol>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb566-1"><a href="exercise-solutions.html#cb566-1" tabindex="-1"></a>corr_summer_temp <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb566-2"><a href="exercise-solutions.html#cb566-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">summer_corr =</span> <span class="fu">survey_corr</span>(SummerTempNight, SummerTempDay,</span>
<span id="cb566-3"><a href="exercise-solutions.html#cb566-3" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb566-4"><a href="exercise-solutions.html#cb566-4" tabindex="-1"></a>  ))</span>
<span id="cb566-5"><a href="exercise-solutions.html#cb566-5" tabindex="-1"></a></span>
<span id="cb566-6"><a href="exercise-solutions.html#cb566-6" tabindex="-1"></a>corr_summer_temp</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##   summer_corr summer_corr_se
##         &lt;dbl&gt;          &lt;dbl&gt;
## 1       0.806        0.00806</code></pre>
<p>Answer: 0.806</p>
<ol start="9" style="list-style-type: decimal">
<li>What is the 1st, 2nd, and 3rd quartile of the amount of money spent on energy by Building America (BA) climate zone? Hint: <code>TOTALDOL</code> indicates the total amount spent on all fuel, and <code>ClimateRegion_BA</code> indicates the BA climate zones.</li>
</ol>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb568-1"><a href="exercise-solutions.html#cb568-1" tabindex="-1"></a>quant_baenergyexp <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb568-2"><a href="exercise-solutions.html#cb568-2" tabindex="-1"></a>  <span class="fu">group_by</span>(ClimateRegion_BA) <span class="sc">%&gt;%</span></span>
<span id="cb568-3"><a href="exercise-solutions.html#cb568-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">dol_quant =</span> <span class="fu">survey_quantile</span>(</span>
<span id="cb568-4"><a href="exercise-solutions.html#cb568-4" tabindex="-1"></a>    TOTALDOL,</span>
<span id="cb568-5"><a href="exercise-solutions.html#cb568-5" tabindex="-1"></a>    <span class="at">quantiles =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>),</span>
<span id="cb568-6"><a href="exercise-solutions.html#cb568-6" tabindex="-1"></a>    <span class="at">vartype =</span> <span class="st">&quot;se&quot;</span>,</span>
<span id="cb568-7"><a href="exercise-solutions.html#cb568-7" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb568-8"><a href="exercise-solutions.html#cb568-8" tabindex="-1"></a>  ))</span>
<span id="cb568-9"><a href="exercise-solutions.html#cb568-9" tabindex="-1"></a></span>
<span id="cb568-10"><a href="exercise-solutions.html#cb568-10" tabindex="-1"></a>quant_baenergyexp</span></code></pre></div>
<pre><code>## # A tibble: 8 Ã 7
##   ClimateRegion_BA dol_quant_q25 dol_quant_q50 dol_quant_q75
##   &lt;fct&gt;                    &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;
## 1 Mixed-Dry                1091.         1541.         2139.
## 2 Mixed-Humid              1317.         1840.         2462.
## 3 Hot-Humid                1094.         1622.         2233.
## 4 Hot-Dry                   926.         1513.         2223.
## 5 Very-Cold                1195.         1986.         2955.
## 6 Cold                     1213.         1756.         2422.
## 7 Marine                    938.         1380.         1987.
## 8 Subarctic                2404.         3535.         5219.
## # â¹ 3 more variables: dol_quant_q25_se &lt;dbl&gt;, dol_quant_q50_se &lt;dbl&gt;,
## #   dol_quant_q75_se &lt;dbl&gt;</code></pre>
<p>Answer:</p>
<div id="rwvnyhqfyu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rwvnyhqfyu table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rwvnyhqfyu thead, #rwvnyhqfyu tbody, #rwvnyhqfyu tfoot, #rwvnyhqfyu tr, #rwvnyhqfyu td, #rwvnyhqfyu th {
  border-style: none;
}

#rwvnyhqfyu p {
  margin: 0;
  padding: 0;
}

#rwvnyhqfyu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rwvnyhqfyu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rwvnyhqfyu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rwvnyhqfyu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rwvnyhqfyu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rwvnyhqfyu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rwvnyhqfyu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rwvnyhqfyu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rwvnyhqfyu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rwvnyhqfyu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rwvnyhqfyu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rwvnyhqfyu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rwvnyhqfyu .gt_spanner_row {
  border-bottom-style: hidden;
}

#rwvnyhqfyu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rwvnyhqfyu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rwvnyhqfyu .gt_from_md > :first-child {
  margin-top: 0;
}

#rwvnyhqfyu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rwvnyhqfyu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rwvnyhqfyu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rwvnyhqfyu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rwvnyhqfyu .gt_row_group_first td {
  border-top-width: 2px;
}

#rwvnyhqfyu .gt_row_group_first th {
  border-top-width: 2px;
}

#rwvnyhqfyu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rwvnyhqfyu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rwvnyhqfyu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rwvnyhqfyu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rwvnyhqfyu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rwvnyhqfyu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rwvnyhqfyu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rwvnyhqfyu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rwvnyhqfyu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rwvnyhqfyu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rwvnyhqfyu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rwvnyhqfyu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rwvnyhqfyu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rwvnyhqfyu .gt_left {
  text-align: left;
}

#rwvnyhqfyu .gt_center {
  text-align: center;
}

#rwvnyhqfyu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rwvnyhqfyu .gt_font_normal {
  font-weight: normal;
}

#rwvnyhqfyu .gt_font_bold {
  font-weight: bold;
}

#rwvnyhqfyu .gt_font_italic {
  font-style: italic;
}

#rwvnyhqfyu .gt_super {
  font-size: 65%;
}

#rwvnyhqfyu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rwvnyhqfyu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rwvnyhqfyu .gt_indent_1 {
  text-indent: 5px;
}

#rwvnyhqfyu .gt_indent_2 {
  text-indent: 10px;
}

#rwvnyhqfyu .gt_indent_3 {
  text-indent: 15px;
}

#rwvnyhqfyu .gt_indent_4 {
  text-indent: 20px;
}

#rwvnyhqfyu .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Quartile summary of energy expenditure by BA Climate Zone</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Q1">Q1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Q2">Q2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Q3">Q3</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">Mixed-Dry</th>
<td headers="stub_1_1 dol_quant_q25" class="gt_row gt_right">$1,091</td>
<td headers="stub_1_1 dol_quant_q50" class="gt_row gt_right">$1,541</td>
<td headers="stub_1_1 dol_quant_q75" class="gt_row gt_right">$2,139</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">Mixed-Humid</th>
<td headers="stub_1_2 dol_quant_q25" class="gt_row gt_right">$1,317</td>
<td headers="stub_1_2 dol_quant_q50" class="gt_row gt_right">$1,840</td>
<td headers="stub_1_2 dol_quant_q75" class="gt_row gt_right">$2,462</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">Hot-Humid</th>
<td headers="stub_1_3 dol_quant_q25" class="gt_row gt_right">$1,094</td>
<td headers="stub_1_3 dol_quant_q50" class="gt_row gt_right">$1,622</td>
<td headers="stub_1_3 dol_quant_q75" class="gt_row gt_right">$2,233</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">Hot-Dry</th>
<td headers="stub_1_4 dol_quant_q25" class="gt_row gt_right">$926</td>
<td headers="stub_1_4 dol_quant_q50" class="gt_row gt_right">$1,513</td>
<td headers="stub_1_4 dol_quant_q75" class="gt_row gt_right">$2,223</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_center gt_stub">Very-Cold</th>
<td headers="stub_1_5 dol_quant_q25" class="gt_row gt_right">$1,195</td>
<td headers="stub_1_5 dol_quant_q50" class="gt_row gt_right">$1,986</td>
<td headers="stub_1_5 dol_quant_q75" class="gt_row gt_right">$2,955</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_center gt_stub">Cold</th>
<td headers="stub_1_6 dol_quant_q25" class="gt_row gt_right">$1,213</td>
<td headers="stub_1_6 dol_quant_q50" class="gt_row gt_right">$1,756</td>
<td headers="stub_1_6 dol_quant_q75" class="gt_row gt_right">$2,422</td></tr>
    <tr><th id="stub_1_7" scope="row" class="gt_row gt_center gt_stub">Marine</th>
<td headers="stub_1_7 dol_quant_q25" class="gt_row gt_right">$938</td>
<td headers="stub_1_7 dol_quant_q50" class="gt_row gt_right">$1,380</td>
<td headers="stub_1_7 dol_quant_q75" class="gt_row gt_right">$1,987</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_center gt_stub">Subarctic</th>
<td headers="stub_1_8 dol_quant_q25" class="gt_row gt_right">$2,404</td>
<td headers="stub_1_8 dol_quant_q50" class="gt_row gt_right">$3,535</td>
<td headers="stub_1_8 dol_quant_q75" class="gt_row gt_right">$5,219</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="statistical-testing-1" class="section level2 unnumbered hasAnchor">
<h2>6 - Statistical testing<a href="exercise-solutions.html#statistical-testing-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Using the RECS data, do more than 50% of U.S. households use A/C (<code>ACUsed</code>)?</li>
</ol>
<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb570-1"><a href="exercise-solutions.html#cb570-1" tabindex="-1"></a>ttest_solution1 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb570-2"><a href="exercise-solutions.html#cb570-2" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb570-3"><a href="exercise-solutions.html#cb570-3" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb570-4"><a href="exercise-solutions.html#cb570-4" tabindex="-1"></a>    <span class="at">formula =</span> ((ACUsed <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">-</span> <span class="fl">0.5</span>) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb570-5"><a href="exercise-solutions.html#cb570-5" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb570-6"><a href="exercise-solutions.html#cb570-6" tabindex="-1"></a>    <span class="at">alternative =</span> <span class="st">&quot;greater&quot;</span></span>
<span id="cb570-7"><a href="exercise-solutions.html#cb570-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb570-8"><a href="exercise-solutions.html#cb570-8" tabindex="-1"></a>  <span class="fu">tidy</span>()</span>
<span id="cb570-9"><a href="exercise-solutions.html#cb570-9" tabindex="-1"></a></span>
<span id="cb570-10"><a href="exercise-solutions.html#cb570-10" tabindex="-1"></a>ttest_solution1</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 8
##   estimate statistic  p.value parameter conf.low conf.high method       
##      &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;        
## 1    0.387      126. 1.73e-72        58    0.380     0.393 Design-basedâ¦
## # â¹ 1 more variable: alternative &lt;chr&gt;</code></pre>
<p>Answer: 88.7% of households use air conditioning which is significantly different from 50% (p&lt;0.0001) so there is strong evidence that more than 50% of households use air-conditioning.</p>
<ol start="2" style="list-style-type: decimal">
<li>Using the RECS data, does the average temperature that U.S. households set their thermostats to differ between the day and night in the winter (<code>WinterTempDay</code> and <code>WinterTempNight</code>)?</li>
</ol>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb572-1"><a href="exercise-solutions.html#cb572-1" tabindex="-1"></a>ttest_solution2 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb572-2"><a href="exercise-solutions.html#cb572-2" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb572-3"><a href="exercise-solutions.html#cb572-3" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb572-4"><a href="exercise-solutions.html#cb572-4" tabindex="-1"></a>    <span class="at">formula =</span> WinterTempDay <span class="sc">-</span> WinterTempNight <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb572-5"><a href="exercise-solutions.html#cb572-5" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb572-6"><a href="exercise-solutions.html#cb572-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb572-7"><a href="exercise-solutions.html#cb572-7" tabindex="-1"></a>  <span class="fu">tidy</span>()</span>
<span id="cb572-8"><a href="exercise-solutions.html#cb572-8" tabindex="-1"></a></span>
<span id="cb572-9"><a href="exercise-solutions.html#cb572-9" tabindex="-1"></a>ttest_solution2</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 8
##   estimate statistic  p.value parameter conf.low conf.high method       
##      &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;        
## 1     1.67      45.9 2.82e-47        58     1.59      1.74 Design-basedâ¦
## # â¹ 1 more variable: alternative &lt;chr&gt;</code></pre>
<p>Answer: The average temperature difference between night and day during the winter for thermostat settings is 1.67 which is significantly different from 0 (p&lt;0.0001) so there is strong evidence that the temperature setting is different between night and daytime during the winter.</p>
<ol start="3" style="list-style-type: decimal">
<li>Using the ANES data, does the average age (<code>Age</code>) of those who voted for Joseph Biden in 2020 (<code>VotedPres2020_selection</code>) differ from those who voted for another candidate?</li>
</ol>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb574-1"><a href="exercise-solutions.html#cb574-1" tabindex="-1"></a>ttest_solution3 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb574-2"><a href="exercise-solutions.html#cb574-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(VotedPres2020_selection)) <span class="sc">%&gt;%</span></span>
<span id="cb574-3"><a href="exercise-solutions.html#cb574-3" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb574-4"><a href="exercise-solutions.html#cb574-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb574-5"><a href="exercise-solutions.html#cb574-5" tabindex="-1"></a>    <span class="at">formula =</span> Age <span class="sc">~</span> VotedPres2020_selection <span class="sc">==</span> <span class="st">&quot;Biden&quot;</span>,</span>
<span id="cb574-6"><a href="exercise-solutions.html#cb574-6" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb574-7"><a href="exercise-solutions.html#cb574-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb574-8"><a href="exercise-solutions.html#cb574-8" tabindex="-1"></a>  <span class="fu">tidy</span>()</span>
<span id="cb574-9"><a href="exercise-solutions.html#cb574-9" tabindex="-1"></a></span>
<span id="cb574-10"><a href="exercise-solutions.html#cb574-10" tabindex="-1"></a>ttest_solution3</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 8
##   estimate statistic     p.value parameter conf.low conf.high method    
##      &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;     
## 1    -3.60     -5.97 0.000000244        50    -4.81     -2.39 Design-baâ¦
## # â¹ 1 more variable: alternative &lt;chr&gt;</code></pre>
<p>On average, those who voted for Joseph Biden in 2020 were -3.6 years younger than voters for other candidates and this is significantly different (p &lt;0.0001).</p>
<ol start="4" style="list-style-type: decimal">
<li>If we wanted to determine if the political party affiliation differed for males and females, what test would we use?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Goodness-of-fit test (<code>svygofchisq()</code>)</li>
<li>Test of independence (<code>svychisq()</code>)</li>
<li>Test of homogeneity (<code>svychisq()</code>)</li>
</ol>
<p>Answer: c.Â Test of homogeneity (<code>svychisq()</code>)</p>
<ol start="5" style="list-style-type: decimal">
<li>In the RECS data, is there a relationship between the type of housing unit (<code>HousingUnitType</code>) and the year the house was built (<code>YearMade</code>)?</li>
</ol>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb576-1"><a href="exercise-solutions.html#cb576-1" tabindex="-1"></a>chisq_solution2 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb576-2"><a href="exercise-solutions.html#cb576-2" tabindex="-1"></a>  <span class="fu">svychisq</span>(</span>
<span id="cb576-3"><a href="exercise-solutions.html#cb576-3" tabindex="-1"></a>    <span class="at">formula =</span> <span class="sc">~</span> HousingUnitType <span class="sc">+</span> YearMade,</span>
<span id="cb576-4"><a href="exercise-solutions.html#cb576-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb576-5"><a href="exercise-solutions.html#cb576-5" tabindex="-1"></a>    <span class="at">statistic =</span> <span class="st">&quot;Wald&quot;</span>,</span>
<span id="cb576-6"><a href="exercise-solutions.html#cb576-6" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb576-7"><a href="exercise-solutions.html#cb576-7" tabindex="-1"></a>  )</span>
<span id="cb576-8"><a href="exercise-solutions.html#cb576-8" tabindex="-1"></a></span>
<span id="cb576-9"><a href="exercise-solutions.html#cb576-9" tabindex="-1"></a>chisq_solution2 <span class="sc">%&gt;%</span> <span class="fu">tidy</span>()</span></code></pre></div>
<pre><code>## Multiple parameters; naming those columns ndf, ddf</code></pre>
<pre><code>## # A tibble: 1 Ã 5
##     ndf   ddf statistic  p.value method                               
##   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;                                
## 1    32    59      67.9 5.54e-36 Design-based Wald test of association</code></pre>
<p>Answer: There is strong evidence (p&lt;0.0001) that there is a relationship between type of housing unit and the year the house was built.</p>
<ol start="6" style="list-style-type: decimal">
<li>In the ANES data, is there a difference in the distribution of gender (<code>Gender</code>) across early voting status in 2020 (<code>EarlyVote2020</code>)?</li>
</ol>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb579-1"><a href="exercise-solutions.html#cb579-1" tabindex="-1"></a>chisq_solution3 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb579-2"><a href="exercise-solutions.html#cb579-2" tabindex="-1"></a>  <span class="fu">svychisq</span>(</span>
<span id="cb579-3"><a href="exercise-solutions.html#cb579-3" tabindex="-1"></a>    <span class="at">formula =</span> <span class="sc">~</span> Gender <span class="sc">+</span> EarlyVote2020,</span>
<span id="cb579-4"><a href="exercise-solutions.html#cb579-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb579-5"><a href="exercise-solutions.html#cb579-5" tabindex="-1"></a>    <span class="at">statistic =</span> <span class="st">&quot;F&quot;</span>,</span>
<span id="cb579-6"><a href="exercise-solutions.html#cb579-6" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb579-7"><a href="exercise-solutions.html#cb579-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb579-8"><a href="exercise-solutions.html#cb579-8" tabindex="-1"></a>  <span class="fu">tidy</span>()</span></code></pre></div>
<pre><code>## Multiple parameters; naming those columns ndf, ddf</code></pre>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb581-1"><a href="exercise-solutions.html#cb581-1" tabindex="-1"></a>chisq_solution3</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 5
##     ndf   ddf statistic p.value method                               
##   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;                                
## 1     1    51      4.53  0.0381 Pearson&#39;s X^2: Rao &amp; Scott adjustment</code></pre>
<p>Answer: There is strong evidence that there is a difference in the gender distribution of gender by early voting status (p=0.0381).</p>
</div>
<div id="modeling" class="section level2 unnumbered hasAnchor">
<h2>7 - Modeling<a href="exercise-solutions.html#modeling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>The type of housing unit may have an impact on energy expenses. Is there any relationship between housing unit type (<code>HousingUnitType</code>) and total energy expenditure (<code>TOTALDOL</code>)? First, find the average energy expenditure by housing unit type as a descriptive analysis and then do the test. The reference level in the comparison should be the housing unit type that is most common.</li>
</ol>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb583-1"><a href="exercise-solutions.html#cb583-1" tabindex="-1"></a>expense_by_hut <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb583-2"><a href="exercise-solutions.html#cb583-2" tabindex="-1"></a>  <span class="fu">group_by</span>(HousingUnitType) <span class="sc">%&gt;%</span></span>
<span id="cb583-3"><a href="exercise-solutions.html#cb583-3" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb583-4"><a href="exercise-solutions.html#cb583-4" tabindex="-1"></a>    <span class="at">Expense =</span> <span class="fu">survey_mean</span>(TOTALDOL, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb583-5"><a href="exercise-solutions.html#cb583-5" tabindex="-1"></a>    <span class="at">HUs =</span> <span class="fu">survey_total</span>()</span>
<span id="cb583-6"><a href="exercise-solutions.html#cb583-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb583-7"><a href="exercise-solutions.html#cb583-7" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(HUs))</span>
<span id="cb583-8"><a href="exercise-solutions.html#cb583-8" tabindex="-1"></a></span>
<span id="cb583-9"><a href="exercise-solutions.html#cb583-9" tabindex="-1"></a>expense_by_hut</span></code></pre></div>
<pre><code>## # A tibble: 5 Ã 5
##   HousingUnitType            Expense Expense_se       HUs       HUs_se
##   &lt;fct&gt;                        &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt;
## 1 Single-family detached       2205.       9.36 77067692. 0.00000277  
## 2 Apartment: 5 or more units   1108.      13.7  22835862. 0.000000226 
## 3 Apartment: 2-4 Units         1407.      24.2   9341795. 0.119       
## 4 Single-family attached       1653.      22.3   7451177. 0.114       
## 5 Mobile home                  1773.      26.2   6832499. 0.0000000927</code></pre>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="exercise-solutions.html#cb585-1" tabindex="-1"></a>exp_unit_out <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb585-2"><a href="exercise-solutions.html#cb585-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HousingUnitType =</span> <span class="fu">fct_infreq</span>(HousingUnitType, NWEIGHT)) <span class="sc">%&gt;%</span></span>
<span id="cb585-3"><a href="exercise-solutions.html#cb585-3" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb585-4"><a href="exercise-solutions.html#cb585-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb585-5"><a href="exercise-solutions.html#cb585-5" tabindex="-1"></a>    <span class="at">formula =</span> TOTALDOL <span class="sc">~</span> HousingUnitType,</span>
<span id="cb585-6"><a href="exercise-solutions.html#cb585-6" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit</span>
<span id="cb585-7"><a href="exercise-solutions.html#cb585-7" tabindex="-1"></a>  )</span>
<span id="cb585-8"><a href="exercise-solutions.html#cb585-8" tabindex="-1"></a></span>
<span id="cb585-9"><a href="exercise-solutions.html#cb585-9" tabindex="-1"></a><span class="fu">tidy</span>(exp_unit_out)</span></code></pre></div>
<pre><code>## # A tibble: 5 Ã 5
##   term                             estimate std.error statistic  p.value
##   &lt;chr&gt;                               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)                         2205.      9.36     236.  2.53e-84
## 2 HousingUnitTypeApartment: 5 or â¦   -1097.     16.5      -66.3 3.52e-54
## 3 HousingUnitTypeApartment: 2-4 Uâ¦    -798.     28.0      -28.5 1.37e-34
## 4 HousingUnitTypeSingle-family atâ¦    -551.     25.0      -22.1 5.28e-29
## 5 HousingUnitTypeMobile home          -431.     27.4      -15.7 5.36e-22</code></pre>
<p>Answer: The reference level should be Single-family detached. All p-values are very small indicating there is a significant relationship between housing unit type and total energy expenditure.</p>
<ol start="2" style="list-style-type: decimal">
<li>Does temperature play a role in electricity expenditure? Cooling degree days are a measure of how hot a place is. CDD65 for a given day indicates the number of degrees Fahrenheit warmer than 65Â°F (18.3Â°C) it is in a location. On a day that averages 65Â°F and below, CDD65=0. While a day that averages 85Â°F (29.4Â°C) would have CDD65=20 because it is 20 degrees Fahrenheit warmer <span class="citation">(<a href="#ref-eia-cdd">U.S. Energy Information Administration 2023d</a>)</span>. For each day in the year, this is summed to give an indicator of how hot the place is throughout the year. Similarly, HDD65 indicates the days colder than 65Â°F. Can energy expenditure be predicted using these temperature indicators along with square footage? Is there a significant relationship? Include main effects and two-way interactions.</li>
</ol>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb587-1"><a href="exercise-solutions.html#cb587-1" tabindex="-1"></a>temps_sqft_exp <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb587-2"><a href="exercise-solutions.html#cb587-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb587-3"><a href="exercise-solutions.html#cb587-3" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb587-4"><a href="exercise-solutions.html#cb587-4" tabindex="-1"></a>    <span class="at">formula =</span> DOLLAREL <span class="sc">~</span> (TOTSQFT_EN <span class="sc">+</span> CDD65 <span class="sc">+</span> HDD65)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb587-5"><a href="exercise-solutions.html#cb587-5" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit</span>
<span id="cb587-6"><a href="exercise-solutions.html#cb587-6" tabindex="-1"></a>  )</span>
<span id="cb587-7"><a href="exercise-solutions.html#cb587-7" tabindex="-1"></a></span>
<span id="cb587-8"><a href="exercise-solutions.html#cb587-8" tabindex="-1"></a><span class="fu">tidy</span>(temps_sqft_exp) <span class="sc">%&gt;%</span></span>
<span id="cb587-9"><a href="exercise-solutions.html#cb587-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value =</span> <span class="fu">pretty_p_value</span>(p.value) <span class="sc">%&gt;%</span> <span class="fu">str_pad</span>(<span class="dv">7</span>))</span></code></pre></div>
<pre><code>## # A tibble: 7 Ã 5
##   term                 estimate   std.error statistic p.value  
##   &lt;chr&gt;                   &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;    
## 1 (Intercept)      741.         70.5           10.5   &quot;&lt;0.0001&quot;
## 2 TOTSQFT_EN         0.272       0.0471         5.77  &quot;&lt;0.0001&quot;
## 3 CDD65              0.0293      0.0227         1.29  &quot; 0.2024&quot;
## 4 HDD65             -0.00111     0.0104        -0.107 &quot; 0.9149&quot;
## 5 TOTSQFT_EN:CDD65   0.0000459   0.0000154      2.97  &quot; 0.0044&quot;
## 6 TOTSQFT_EN:HDD65  -0.00000840  0.00000633    -1.33  &quot; 0.1902&quot;
## 7 CDD65:HDD65        0.00000533  0.00000355     1.50  &quot; 0.1390&quot;</code></pre>
<p>Answer: There is a significant interaction between square footage and cooling degree days in the model and the square footage is a significant predictor of eletricity expenditure.</p>
<ol start="3" style="list-style-type: decimal">
<li>Continuing with our results from Exercise 2, create a plot between the actual and predicted expenditures and a residual plot for the predicted expenditures.</li>
</ol>
<p>Answer:</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb589-1"><a href="exercise-solutions.html#cb589-1" tabindex="-1"></a>temps_sqft_exp_fit <span class="ot">&lt;-</span> temps_sqft_exp <span class="sc">%&gt;%</span></span>
<span id="cb589-2"><a href="exercise-solutions.html#cb589-2" tabindex="-1"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span></span>
<span id="cb589-3"><a href="exercise-solutions.html#cb589-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb589-4"><a href="exercise-solutions.html#cb589-4" tabindex="-1"></a>    <span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)),</span>
<span id="cb589-5"><a href="exercise-solutions.html#cb589-5" tabindex="-1"></a>    <span class="co"># extract the variance of the fitted value</span></span>
<span id="cb589-6"><a href="exercise-solutions.html#cb589-6" tabindex="-1"></a>    <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted)</span>
<span id="cb589-7"><a href="exercise-solutions.html#cb589-7" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb590-1"><a href="exercise-solutions.html#cb590-1" tabindex="-1"></a>temps_sqft_exp_fit <span class="sc">%&gt;%</span></span>
<span id="cb590-2"><a href="exercise-solutions.html#cb590-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> DOLLAREL, <span class="at">y =</span> .fitted)) <span class="sc">+</span></span>
<span id="cb590-3"><a href="exercise-solutions.html#cb590-3" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb590-4"><a href="exercise-solutions.html#cb590-4" tabindex="-1"></a>  <span class="fu">geom_abline</span>(</span>
<span id="cb590-5"><a href="exercise-solutions.html#cb590-5" tabindex="-1"></a>    <span class="at">intercept =</span> <span class="dv">0</span>,</span>
<span id="cb590-6"><a href="exercise-solutions.html#cb590-6" tabindex="-1"></a>    <span class="at">slope =</span> <span class="dv">1</span>,</span>
<span id="cb590-7"><a href="exercise-solutions.html#cb590-7" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb590-8"><a href="exercise-solutions.html#cb590-8" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb590-9"><a href="exercise-solutions.html#cb590-9" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Actual expenditures&quot;</span>) <span class="sc">+</span></span>
<span id="cb590-10"><a href="exercise-solutions.html#cb590-10" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Predicted expenditures&quot;</span>) <span class="sc">+</span></span>
<span id="cb590-11"><a href="exercise-solutions.html#cb590-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-ex-solution4"></span>
<img src="bookdown_files/figure-html/model-ex-solution4-1.png" alt="Actual and predicted electricity expenditures" width="672" />
<p class="caption">
FIGURE D.1: Actual and predicted electricity expenditures
</p>
</div>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb591-1"><a href="exercise-solutions.html#cb591-1" tabindex="-1"></a>temps_sqft_exp_fit <span class="sc">%&gt;%</span></span>
<span id="cb591-2"><a href="exercise-solutions.html#cb591-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> .fitted, <span class="at">y =</span> .resid)) <span class="sc">+</span></span>
<span id="cb591-3"><a href="exercise-solutions.html#cb591-3" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb591-4"><a href="exercise-solutions.html#cb591-4" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb591-5"><a href="exercise-solutions.html#cb591-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Predicted expenditure&quot;</span>) <span class="sc">+</span></span>
<span id="cb591-6"><a href="exercise-solutions.html#cb591-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Residual value of expenditure&quot;</span>) <span class="sc">+</span></span>
<span id="cb591-7"><a href="exercise-solutions.html#cb591-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-ex-solution5"></span>
<img src="bookdown_files/figure-html/model-ex-solution5-1.png" alt="Residual plot of electric cost model with covariates TOTSQFT_EN, CDD65, and HDD65" width="672" />
<p class="caption">
FIGURE D.2: Residual plot of electric cost model with covariates TOTSQFT_EN, CDD65, and HDD65
</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Early voting expanded in 2020 <span class="citation">(<a href="#ref-npr-voting-trend">Sprunt 2020</a>)</span>. Build a logistic model predicting early voting in 2020 (<code>EarlyVote2020</code>) using age (<code>Age</code>), education (<code>Education</code>), and party identification (<code>PartyID</code>.) Include two-way interactions.</li>
</ol>
<p>Answer:</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="exercise-solutions.html#cb592-1" tabindex="-1"></a>earlyvote_mod <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb592-2"><a href="exercise-solutions.html#cb592-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(EarlyVote2020)) <span class="sc">%&gt;%</span></span>
<span id="cb592-3"><a href="exercise-solutions.html#cb592-3" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb592-4"><a href="exercise-solutions.html#cb592-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb592-5"><a href="exercise-solutions.html#cb592-5" tabindex="-1"></a>    <span class="at">formula =</span> EarlyVote2020 <span class="sc">~</span> (Age <span class="sc">+</span> Education <span class="sc">+</span> PartyID)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb592-6"><a href="exercise-solutions.html#cb592-6" tabindex="-1"></a>    <span class="at">family =</span> quasibinomial</span>
<span id="cb592-7"><a href="exercise-solutions.html#cb592-7" tabindex="-1"></a>  )</span>
<span id="cb592-8"><a href="exercise-solutions.html#cb592-8" tabindex="-1"></a></span>
<span id="cb592-9"><a href="exercise-solutions.html#cb592-9" tabindex="-1"></a><span class="fu">tidy</span>(earlyvote_mod) <span class="sc">%&gt;%</span> <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">50</span>)</span></code></pre></div>
<pre><code>## # A tibble: 46 Ã 5
##    term                             estimate std.error statistic p.value
##    &lt;chr&gt;                               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 (Intercept)                       3.28e-1    3.86      0.0848  0.940 
##  2 Age                              -2.20e-2    0.0579   -0.379   0.741 
##  3 EducationHigh school             -2.56e+0    3.89     -0.658   0.578 
##  4 EducationPost HS                 -3.27e+0    3.97     -0.823   0.497 
##  5 EducationBachelor&#39;s              -3.29e+0    3.91     -0.842   0.489 
##  6 EducationGraduate                -1.36e+0    3.91     -0.349   0.761 
##  7 PartyIDNot very strong democrat   2.00e+0    3.30      0.605   0.607 
##  8 PartyIDIndependent-democrat       3.38e+0    2.60      1.30    0.323 
##  9 PartyIDIndependent                5.22e+0    2.25      2.32    0.146 
## 10 PartyIDIndependent-republican    -1.95e+1    2.42     -8.09    0.0149
## 11 PartyIDNot very strong republicâ¦ -1.33e+1    3.24     -4.10    0.0546
## 12 PartyIDStrong republican          3.13e+0    2.18      1.44    0.287 
## 13 Age:EducationHigh school          4.72e-2    0.0592    0.796   0.509 
## 14 Age:EducationPost HS              5.25e-2    0.0588    0.892   0.467 
## 15 Age:EducationBachelor&#39;s           4.76e-2    0.0600    0.793   0.511 
## 16 Age:EducationGraduate             8.65e-3    0.0578    0.150   0.895 
## 17 Age:PartyIDNot very strong demoâ¦ -2.28e-2    0.0497   -0.459   0.691 
## 18 Age:PartyIDIndependent-democrat  -7.03e-2    0.0285   -2.46    0.133 
## 19 Age:PartyIDIndependent           -8.00e-2    0.0302   -2.65    0.118 
## 20 Age:PartyIDIndependent-republicâ¦  6.72e-2    0.0378    1.78    0.217 
## 21 Age:PartyIDNot very strong repuâ¦ -3.07e-2    0.0420   -0.732   0.540 
## 22 Age:PartyIDStrong republican     -3.84e-2    0.0180   -2.14    0.166 
## 23 EducationHigh school:PartyIDNotâ¦ -1.24e+0    2.22     -0.557   0.633 
## 24 EducationPost HS:PartyIDNot verâ¦ -8.95e-1    2.16     -0.413   0.719 
## 25 EducationBachelor&#39;s:PartyIDNot â¦ -1.21e+0    2.29     -0.528   0.650 
## 26 EducationGraduate:PartyIDNot veâ¦ -1.90e+0    2.25     -0.844   0.487 
## 27 EducationHigh school:PartyIDIndâ¦  7.84e-1    2.50      0.314   0.783 
## 28 EducationPost HS:PartyIDIndepenâ¦  4.04e-1    2.31      0.175   0.877 
## 29 EducationBachelor&#39;s:PartyIDIndeâ¦  5.00e-1    2.60      0.193   0.865 
## 30 EducationGraduate:PartyIDIndepeâ¦ -1.48e+1    2.47     -5.99    0.0268
## 31 EducationHigh school:PartyIDIndâ¦ -6.32e-1    1.72     -0.368   0.748 
## 32 EducationPost HS:PartyIDIndepenâ¦ -9.27e-2    1.63     -0.0568  0.960 
## 33 EducationBachelor&#39;s:PartyIDIndeâ¦ -2.62e-1    2.13     -0.123   0.913 
## 34 EducationGraduate:PartyIDIndepeâ¦ -1.42e+1    1.75     -8.12    0.0148
## 35 EducationHigh school:PartyIDIndâ¦  1.55e+1    2.56      6.05    0.0262
## 36 EducationPost HS:PartyIDIndepenâ¦  1.48e+1    2.77      5.34    0.0333
## 37 EducationBachelor&#39;s:PartyIDIndeâ¦  1.77e+1    2.32      7.64    0.0167
## 38 EducationGraduate:PartyIDIndepeâ¦  1.65e+1    2.33      7.10    0.0193
## 39 EducationHigh school:PartyIDNotâ¦  1.59e+1    2.02      7.88    0.0157
## 40 EducationPost HS:PartyIDNot verâ¦  1.62e+1    1.69      9.54    0.0108
## 41 EducationBachelor&#39;s:PartyIDNot â¦  1.58e+1    1.93      8.18    0.0146
## 42 EducationGraduate:PartyIDNot veâ¦  1.54e+1    1.72      8.95    0.0123
## 43 EducationHigh school:PartyIDStrâ¦ -2.06e+0    1.88     -1.10    0.387 
## 44 EducationPost HS:PartyIDStrong â¦  9.17e-2    2.01      0.0456  0.968 
## 45 EducationBachelor&#39;s:PartyIDStroâ¦  6.87e-2    2.06      0.0333  0.976 
## 46 EducationGraduate:PartyIDStrongâ¦ -8.53e-1    1.81     -0.471   0.684</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Continuing from Exercise 4, predict the probability of early voting for two people. Both are 28 years old and have a graduate degree; however, one person is a strong Democrat, and the other is a strong Republican.</li>
</ol>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="exercise-solutions.html#cb594-1" tabindex="-1"></a>add_vote_dat <span class="ot">&lt;-</span> anes_2020 <span class="sc">%&gt;%</span></span>
<span id="cb594-2"><a href="exercise-solutions.html#cb594-2" tabindex="-1"></a>  <span class="fu">select</span>(EarlyVote2020, Age, Education, PartyID) <span class="sc">%&gt;%</span></span>
<span id="cb594-3"><a href="exercise-solutions.html#cb594-3" tabindex="-1"></a>  <span class="fu">rbind</span>(<span class="fu">tibble</span>(</span>
<span id="cb594-4"><a href="exercise-solutions.html#cb594-4" tabindex="-1"></a>    <span class="at">EarlyVote2020 =</span> <span class="cn">NA</span>,</span>
<span id="cb594-5"><a href="exercise-solutions.html#cb594-5" tabindex="-1"></a>    <span class="at">Age =</span> <span class="dv">28</span>,</span>
<span id="cb594-6"><a href="exercise-solutions.html#cb594-6" tabindex="-1"></a>    <span class="at">Education =</span> <span class="st">&quot;Graduate&quot;</span>,</span>
<span id="cb594-7"><a href="exercise-solutions.html#cb594-7" tabindex="-1"></a>    <span class="at">PartyID =</span> <span class="fu">c</span>(<span class="st">&quot;Strong democrat&quot;</span>, <span class="st">&quot;Strong republican&quot;</span>)</span>
<span id="cb594-8"><a href="exercise-solutions.html#cb594-8" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb594-9"><a href="exercise-solutions.html#cb594-9" tabindex="-1"></a>  <span class="fu">tail</span>(<span class="dv">2</span>)</span>
<span id="cb594-10"><a href="exercise-solutions.html#cb594-10" tabindex="-1"></a></span>
<span id="cb594-11"><a href="exercise-solutions.html#cb594-11" tabindex="-1"></a>log_ex_2_out <span class="ot">&lt;-</span> earlyvote_mod <span class="sc">%&gt;%</span></span>
<span id="cb594-12"><a href="exercise-solutions.html#cb594-12" tabindex="-1"></a>  <span class="fu">augment</span>(<span class="at">newdata =</span> add_vote_dat, <span class="at">type.predict =</span> <span class="st">&quot;response&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb594-13"><a href="exercise-solutions.html#cb594-13" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb594-14"><a href="exercise-solutions.html#cb594-14" tabindex="-1"></a>    <span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)),</span>
<span id="cb594-15"><a href="exercise-solutions.html#cb594-15" tabindex="-1"></a>    <span class="co"># extract the variance of the fitted value</span></span>
<span id="cb594-16"><a href="exercise-solutions.html#cb594-16" tabindex="-1"></a>    <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted)</span>
<span id="cb594-17"><a href="exercise-solutions.html#cb594-17" tabindex="-1"></a>  )</span>
<span id="cb594-18"><a href="exercise-solutions.html#cb594-18" tabindex="-1"></a></span>
<span id="cb594-19"><a href="exercise-solutions.html#cb594-19" tabindex="-1"></a>log_ex_2_out</span></code></pre></div>
<pre><code>## # A tibble: 2 Ã 6
##   EarlyVote2020   Age Education PartyID           .fitted .se.fit
##   &lt;fct&gt;         &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt;               &lt;dbl&gt;   &lt;dbl&gt;
## 1 &lt;NA&gt;             28 Graduate  Strong democrat     0.197   0.150
## 2 &lt;NA&gt;             28 Graduate  Strong republican   0.450   0.244</code></pre>
<p>Answer: We predict that the 28 year old with a graduate degree who identifies as a strong democrat will vote early 19.7% of the time while a person who is otherwise similar but is a strong replican will vote early 45% of the time</p>
</div>
<div id="specifying-sample-designs-and-replicate-weights-in-srvyr" class="section level2 unnumbered hasAnchor">
<h2>10 - Specifying sample designs and replicate weights in {srvyr}<a href="exercise-solutions.html#specifying-sample-designs-and-replicate-weights-in-srvyr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>The National Health Interview Survey (NHIS) is an annual household survey conducted by the National Center for Health Statistics (NCHS). The NHIS includes a wide variety of health topics for adults including health status and conditions, functioning and disability, health care access and health service utilization, health-related behaviors, health promotion, mental health, barriers to receiving care, and community engagement. Like many national in-person surveys, the sampling design is a stratified clustered design with details included in the Survey Description <span class="citation">(<a href="#ref-nhis-svy-des">National Center for Health Statistics 2023</a>)</span>. The Survey Description provides information on setting up syntax in SUDAAN, Stata, SPSS, SAS, and R ({survey} package implementation). We have imported the data and the variable containing the data as: <code>nhis_adult_data</code>. How would we specify the design using either <code>as_survey_design()</code> or <code>as_survey_rep()</code>?</li>
</ol>
<p>Answer:</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="exercise-solutions.html#cb596-1" tabindex="-1"></a>nhis_adult_des <span class="ot">&lt;-</span> nhis_adult_data <span class="sc">%&gt;%</span></span>
<span id="cb596-2"><a href="exercise-solutions.html#cb596-2" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb596-3"><a href="exercise-solutions.html#cb596-3" tabindex="-1"></a>    <span class="at">ids =</span> PPSU,</span>
<span id="cb596-4"><a href="exercise-solutions.html#cb596-4" tabindex="-1"></a>    <span class="at">strata =</span> PSTRAT,</span>
<span id="cb596-5"><a href="exercise-solutions.html#cb596-5" tabindex="-1"></a>    <span class="at">nest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb596-6"><a href="exercise-solutions.html#cb596-6" tabindex="-1"></a>    <span class="at">weights =</span> WTFA_A</span>
<span id="cb596-7"><a href="exercise-solutions.html#cb596-7" tabindex="-1"></a>  )</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>The General Social Survey (GSS) is a survey that has been administered since 1972 on social, behavioral, and attitudinal topics. The 2016-2020 GSS Panel codebook provides examples of setting up syntax in SAS and Stata but not R <span class="citation">(<a href="#ref-gss-codebook">Davern et al. 2021</a>)</span>. We have imported the data and the variable containing the data as: <code>gss_data</code>. How would we specify the design in R using either <code>as_survey_design()</code> or <code>as_survey_rep()</code>?</li>
</ol>
<p>Answer:</p>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="exercise-solutions.html#cb597-1" tabindex="-1"></a>gss_des <span class="ot">&lt;-</span> gss_data <span class="sc">%&gt;%</span></span>
<span id="cb597-2"><a href="exercise-solutions.html#cb597-2" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb597-3"><a href="exercise-solutions.html#cb597-3" tabindex="-1"></a>    <span class="at">ids =</span> VPSU_2,</span>
<span id="cb597-4"><a href="exercise-solutions.html#cb597-4" tabindex="-1"></a>    <span class="at">strata =</span> VSTRAT_2,</span>
<span id="cb597-5"><a href="exercise-solutions.html#cb597-5" tabindex="-1"></a>    <span class="at">weights =</span> WTSSNR_2</span>
<span id="cb597-6"><a href="exercise-solutions.html#cb597-6" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="national-crime-victimization-survey-vignette" class="section level2 unnumbered hasAnchor">
<h2>13 - National Crime Victimization Survey Vignette<a href="exercise-solutions.html#national-crime-victimization-survey-vignette" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>What proportion of completed motor vehicle thefts are <strong>not</strong> reported to the police? Hint: Use the codebook to look at the definition of Type of Crime (V4529.)</li>
</ol>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="exercise-solutions.html#cb598-1" tabindex="-1"></a>ans1 <span class="ot">&lt;-</span> inc_des <span class="sc">%&gt;%</span></span>
<span id="cb598-2"><a href="exercise-solutions.html#cb598-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(V4529, <span class="st">&quot;40|41&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb598-3"><a href="exercise-solutions.html#cb598-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Pct =</span> <span class="fu">survey_mean</span>(<span class="sc">!</span>ReportPolice, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>)</span></code></pre></div>
<p>Answer: It is estimated that 23.1% of motor vehicle thefts are not reported to the police.</p>
<ol start="2" style="list-style-type: decimal">
<li>How many violent crimes occur in each region?</li>
</ol>
<p>Answer:</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="exercise-solutions.html#cb599-1" tabindex="-1"></a>inc_des <span class="sc">%&gt;%</span></span>
<span id="cb599-2"><a href="exercise-solutions.html#cb599-2" tabindex="-1"></a>  <span class="fu">filter</span>(Violent) <span class="sc">%&gt;%</span></span>
<span id="cb599-3"><a href="exercise-solutions.html#cb599-3" tabindex="-1"></a>  <span class="fu">survey_count</span>(Region) <span class="sc">%&gt;%</span></span>
<span id="cb599-4"><a href="exercise-solutions.html#cb599-4" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n_se) <span class="sc">%&gt;%</span></span>
<span id="cb599-5"><a href="exercise-solutions.html#cb599-5" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">&quot;Region&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb599-6"><a href="exercise-solutions.html#cb599-6" tabindex="-1"></a>  <span class="fu">fmt_integer</span>() <span class="sc">%&gt;%</span></span>
<span id="cb599-7"><a href="exercise-solutions.html#cb599-7" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb599-8"><a href="exercise-solutions.html#cb599-8" tabindex="-1"></a>    <span class="at">n =</span> <span class="st">&quot;Violent victimizations&quot;</span>,</span>
<span id="cb599-9"><a href="exercise-solutions.html#cb599-9" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb599-10"><a href="exercise-solutions.html#cb599-10" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="st">&quot;Estimated number of violent crimes by region&quot;</span>)</span></code></pre></div>
<div id="kqivcbyivm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#kqivcbyivm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#kqivcbyivm thead, #kqivcbyivm tbody, #kqivcbyivm tfoot, #kqivcbyivm tr, #kqivcbyivm td, #kqivcbyivm th {
  border-style: none;
}

#kqivcbyivm p {
  margin: 0;
  padding: 0;
}

#kqivcbyivm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kqivcbyivm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#kqivcbyivm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kqivcbyivm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kqivcbyivm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kqivcbyivm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kqivcbyivm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kqivcbyivm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kqivcbyivm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kqivcbyivm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kqivcbyivm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kqivcbyivm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kqivcbyivm .gt_spanner_row {
  border-bottom-style: hidden;
}

#kqivcbyivm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#kqivcbyivm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kqivcbyivm .gt_from_md > :first-child {
  margin-top: 0;
}

#kqivcbyivm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kqivcbyivm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kqivcbyivm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kqivcbyivm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kqivcbyivm .gt_row_group_first td {
  border-top-width: 2px;
}

#kqivcbyivm .gt_row_group_first th {
  border-top-width: 2px;
}

#kqivcbyivm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kqivcbyivm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kqivcbyivm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kqivcbyivm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kqivcbyivm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kqivcbyivm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kqivcbyivm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#kqivcbyivm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kqivcbyivm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kqivcbyivm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kqivcbyivm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kqivcbyivm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kqivcbyivm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kqivcbyivm .gt_left {
  text-align: left;
}

#kqivcbyivm .gt_center {
  text-align: center;
}

#kqivcbyivm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kqivcbyivm .gt_font_normal {
  font-weight: normal;
}

#kqivcbyivm .gt_font_bold {
  font-weight: bold;
}

#kqivcbyivm .gt_font_italic {
  font-style: italic;
}

#kqivcbyivm .gt_super {
  font-size: 65%;
}

#kqivcbyivm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#kqivcbyivm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kqivcbyivm .gt_indent_1 {
  text-indent: 5px;
}

#kqivcbyivm .gt_indent_2 {
  text-indent: 10px;
}

#kqivcbyivm .gt_indent_3 {
  text-indent: 15px;
}

#kqivcbyivm .gt_indent_4 {
  text-indent: 20px;
}

#kqivcbyivm .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Estimated number of violent crimes by region</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Violent victimizations">Violent victimizations</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">Northeast</th>
<td headers="stub_1_1 n" class="gt_row gt_right">698,406</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">Midwest</th>
<td headers="stub_1_2 n" class="gt_row gt_right">1,144,407</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">South</th>
<td headers="stub_1_3 n" class="gt_row gt_right">1,394,214</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">West</th>
<td headers="stub_1_4 n" class="gt_row gt_right">1,361,278</td></tr>
  </tbody>
  
  
</table>
</div>
<ol start="3" style="list-style-type: decimal">
<li>What is the property victimization rate among each income level?</li>
</ol>
<p>Answer:</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="exercise-solutions.html#cb600-1" tabindex="-1"></a>hh_des <span class="sc">%&gt;%</span></span>
<span id="cb600-2"><a href="exercise-solutions.html#cb600-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Income)) <span class="sc">%&gt;%</span></span>
<span id="cb600-3"><a href="exercise-solutions.html#cb600-3" tabindex="-1"></a>  <span class="fu">group_by</span>(Income) <span class="sc">%&gt;%</span></span>
<span id="cb600-4"><a href="exercise-solutions.html#cb600-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Property_Rate =</span> <span class="fu">survey_mean</span>(Property <span class="sc">*</span> ADJINC_WT <span class="sc">*</span> <span class="dv">1000</span>,</span>
<span id="cb600-5"><a href="exercise-solutions.html#cb600-5" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb600-6"><a href="exercise-solutions.html#cb600-6" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb600-7"><a href="exercise-solutions.html#cb600-7" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">&quot;Income&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb600-8"><a href="exercise-solutions.html#cb600-8" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb600-9"><a href="exercise-solutions.html#cb600-9" tabindex="-1"></a>    <span class="at">Property_Rate =</span> <span class="st">&quot;Rate&quot;</span>,</span>
<span id="cb600-10"><a href="exercise-solutions.html#cb600-10" tabindex="-1"></a>    <span class="at">Property_Rate_se =</span> <span class="st">&quot;Standard Error&quot;</span></span>
<span id="cb600-11"><a href="exercise-solutions.html#cb600-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb600-12"><a href="exercise-solutions.html#cb600-12" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">decimals =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb600-13"><a href="exercise-solutions.html#cb600-13" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="st">&quot;Estimated property victimization rate by income level&quot;</span>)</span></code></pre></div>
<div id="mdvpqxzjwg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mdvpqxzjwg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mdvpqxzjwg thead, #mdvpqxzjwg tbody, #mdvpqxzjwg tfoot, #mdvpqxzjwg tr, #mdvpqxzjwg td, #mdvpqxzjwg th {
  border-style: none;
}

#mdvpqxzjwg p {
  margin: 0;
  padding: 0;
}

#mdvpqxzjwg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mdvpqxzjwg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mdvpqxzjwg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mdvpqxzjwg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mdvpqxzjwg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mdvpqxzjwg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mdvpqxzjwg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mdvpqxzjwg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mdvpqxzjwg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mdvpqxzjwg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mdvpqxzjwg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mdvpqxzjwg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mdvpqxzjwg .gt_spanner_row {
  border-bottom-style: hidden;
}

#mdvpqxzjwg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mdvpqxzjwg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mdvpqxzjwg .gt_from_md > :first-child {
  margin-top: 0;
}

#mdvpqxzjwg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mdvpqxzjwg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mdvpqxzjwg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mdvpqxzjwg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mdvpqxzjwg .gt_row_group_first td {
  border-top-width: 2px;
}

#mdvpqxzjwg .gt_row_group_first th {
  border-top-width: 2px;
}

#mdvpqxzjwg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mdvpqxzjwg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mdvpqxzjwg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mdvpqxzjwg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mdvpqxzjwg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mdvpqxzjwg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mdvpqxzjwg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mdvpqxzjwg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mdvpqxzjwg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mdvpqxzjwg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mdvpqxzjwg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mdvpqxzjwg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mdvpqxzjwg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mdvpqxzjwg .gt_left {
  text-align: left;
}

#mdvpqxzjwg .gt_center {
  text-align: center;
}

#mdvpqxzjwg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mdvpqxzjwg .gt_font_normal {
  font-weight: normal;
}

#mdvpqxzjwg .gt_font_bold {
  font-weight: bold;
}

#mdvpqxzjwg .gt_font_italic {
  font-style: italic;
}

#mdvpqxzjwg .gt_super {
  font-size: 65%;
}

#mdvpqxzjwg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mdvpqxzjwg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mdvpqxzjwg .gt_indent_1 {
  text-indent: 5px;
}

#mdvpqxzjwg .gt_indent_2 {
  text-indent: 10px;
}

#mdvpqxzjwg .gt_indent_3 {
  text-indent: 15px;
}

#mdvpqxzjwg .gt_indent_4 {
  text-indent: 20px;
}

#mdvpqxzjwg .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Estimated property victimization rate by income level</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Rate">Rate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Standard Error">Standard Error</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">Less than $25,000</th>
<td headers="stub_1_1 Property_Rate" class="gt_row gt_right">110.6</td>
<td headers="stub_1_1 Property_Rate_se" class="gt_row gt_right">5.0</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">$25,000-49,999</th>
<td headers="stub_1_2 Property_Rate" class="gt_row gt_right">89.5</td>
<td headers="stub_1_2 Property_Rate_se" class="gt_row gt_right">3.4</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">$50,000-99,999</th>
<td headers="stub_1_3 Property_Rate" class="gt_row gt_right">87.8</td>
<td headers="stub_1_3 Property_Rate_se" class="gt_row gt_right">3.3</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">$100,000-199,999</th>
<td headers="stub_1_4 Property_Rate" class="gt_row gt_right">76.5</td>
<td headers="stub_1_4 Property_Rate_se" class="gt_row gt_right">3.5</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_center gt_stub">$200,000 or more</th>
<td headers="stub_1_5 Property_Rate" class="gt_row gt_right">91.8</td>
<td headers="stub_1_5 Property_Rate_se" class="gt_row gt_right">5.7</td></tr>
  </tbody>
  
  
</table>
</div>
<ol start="4" style="list-style-type: decimal">
<li>What is the difference between the violent victimization rate between males and females? Is it statistically different?</li>
</ol>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="exercise-solutions.html#cb601-1" tabindex="-1"></a>vr_gender <span class="ot">&lt;-</span> pers_des <span class="sc">%&gt;%</span></span>
<span id="cb601-2"><a href="exercise-solutions.html#cb601-2" tabindex="-1"></a>  <span class="fu">group_by</span>(Sex) <span class="sc">%&gt;%</span></span>
<span id="cb601-3"><a href="exercise-solutions.html#cb601-3" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb601-4"><a href="exercise-solutions.html#cb601-4" tabindex="-1"></a>    <span class="at">Violent_rate =</span> <span class="fu">survey_mean</span>(Violent <span class="sc">*</span> ADJINC_WT <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb601-5"><a href="exercise-solutions.html#cb601-5" tabindex="-1"></a>  )</span>
<span id="cb601-6"><a href="exercise-solutions.html#cb601-6" tabindex="-1"></a></span>
<span id="cb601-7"><a href="exercise-solutions.html#cb601-7" tabindex="-1"></a>vr_gender_test <span class="ot">&lt;-</span> pers_des <span class="sc">%&gt;%</span></span>
<span id="cb601-8"><a href="exercise-solutions.html#cb601-8" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb601-9"><a href="exercise-solutions.html#cb601-9" tabindex="-1"></a>    <span class="at">Violent_Adj =</span> Violent <span class="sc">*</span> ADJINC_WT <span class="sc">*</span> <span class="dv">1000</span></span>
<span id="cb601-10"><a href="exercise-solutions.html#cb601-10" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb601-11"><a href="exercise-solutions.html#cb601-11" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb601-12"><a href="exercise-solutions.html#cb601-12" tabindex="-1"></a>    <span class="at">formula =</span> Violent_Adj <span class="sc">~</span> Sex,</span>
<span id="cb601-13"><a href="exercise-solutions.html#cb601-13" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb601-14"><a href="exercise-solutions.html#cb601-14" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb601-15"><a href="exercise-solutions.html#cb601-15" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb601-16"><a href="exercise-solutions.html#cb601-16" tabindex="-1"></a>  broom<span class="sc">::</span><span class="fu">tidy</span>()</span></code></pre></div>
<pre><code>## Warning in summary.glm(g): observations with zero weight not used for
## calculating dispersion</code></pre>
<pre><code>## Warning in summary.glm(glm.object): observations with zero weight not
## used for calculating dispersion</code></pre>
<p>Answer: The difference between male and female victimization rate is estimated as 1.9 victimizations/1,000 people and is not significantly different (p-value=0.1560)</p>
</div>
<div id="americasbarometer-vignette" class="section level2 unnumbered hasAnchor">
<h2>14 - AmericasBarometer Vignette<a href="exercise-solutions.html#americasbarometer-vignette" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Calculate the percentage of households with broadband internet and those with any internet at home, including from a phone or tablet in Latin America and the Caribbean. Hint: if there are countries with 0% internet usage, try filtering by something first.
Answer:</li>
</ol>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="exercise-solutions.html#cb604-1" tabindex="-1"></a>int_ests <span class="ot">&lt;-</span></span>
<span id="cb604-2"><a href="exercise-solutions.html#cb604-2" tabindex="-1"></a>  ambarom_des <span class="sc">%&gt;%</span></span>
<span id="cb604-3"><a href="exercise-solutions.html#cb604-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Internet) <span class="sc">|</span> <span class="sc">!</span><span class="fu">is.na</span>(BroadbandInternet)) <span class="sc">%&gt;%</span></span>
<span id="cb604-4"><a href="exercise-solutions.html#cb604-4" tabindex="-1"></a>  <span class="fu">group_by</span>(Country) <span class="sc">%&gt;%</span></span>
<span id="cb604-5"><a href="exercise-solutions.html#cb604-5" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb604-6"><a href="exercise-solutions.html#cb604-6" tabindex="-1"></a>    <span class="at">p_broadband =</span> <span class="fu">survey_mean</span>(BroadbandInternet, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb604-7"><a href="exercise-solutions.html#cb604-7" tabindex="-1"></a>    <span class="at">p_internet =</span> <span class="fu">survey_mean</span>(Internet, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb604-8"><a href="exercise-solutions.html#cb604-8" tabindex="-1"></a>  )</span>
<span id="cb604-9"><a href="exercise-solutions.html#cb604-9" tabindex="-1"></a></span>
<span id="cb604-10"><a href="exercise-solutions.html#cb604-10" tabindex="-1"></a>int_ests <span class="sc">%&gt;%</span></span>
<span id="cb604-11"><a href="exercise-solutions.html#cb604-11" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">&quot;Country&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb604-12"><a href="exercise-solutions.html#cb604-12" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">decimals =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb604-13"><a href="exercise-solutions.html#cb604-13" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb604-14"><a href="exercise-solutions.html#cb604-14" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">&quot;Broadband at home&quot;</span>,</span>
<span id="cb604-15"><a href="exercise-solutions.html#cb604-15" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(p_broadband, p_broadband_se)</span>
<span id="cb604-16"><a href="exercise-solutions.html#cb604-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb604-17"><a href="exercise-solutions.html#cb604-17" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb604-18"><a href="exercise-solutions.html#cb604-18" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">&quot;Internet at home&quot;</span>,</span>
<span id="cb604-19"><a href="exercise-solutions.html#cb604-19" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(p_internet, p_internet_se)</span>
<span id="cb604-20"><a href="exercise-solutions.html#cb604-20" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb604-21"><a href="exercise-solutions.html#cb604-21" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb604-22"><a href="exercise-solutions.html#cb604-22" tabindex="-1"></a>    <span class="at">p_broadband =</span> <span class="st">&quot;Percent&quot;</span>,</span>
<span id="cb604-23"><a href="exercise-solutions.html#cb604-23" tabindex="-1"></a>    <span class="at">p_internet =</span> <span class="st">&quot;Percent&quot;</span>,</span>
<span id="cb604-24"><a href="exercise-solutions.html#cb604-24" tabindex="-1"></a>    <span class="at">p_broadband_se =</span> <span class="st">&quot;S.E.&quot;</span>,</span>
<span id="cb604-25"><a href="exercise-solutions.html#cb604-25" tabindex="-1"></a>    <span class="at">p_internet_se =</span> <span class="st">&quot;S.E.&quot;</span>,</span>
<span id="cb604-26"><a href="exercise-solutions.html#cb604-26" tabindex="-1"></a>  )</span></code></pre></div>
<div id="fqvyyzfmai" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#fqvyyzfmai table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fqvyyzfmai thead, #fqvyyzfmai tbody, #fqvyyzfmai tfoot, #fqvyyzfmai tr, #fqvyyzfmai td, #fqvyyzfmai th {
  border-style: none;
}

#fqvyyzfmai p {
  margin: 0;
  padding: 0;
}

#fqvyyzfmai .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fqvyyzfmai .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fqvyyzfmai .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fqvyyzfmai .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fqvyyzfmai .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fqvyyzfmai .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fqvyyzfmai .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fqvyyzfmai .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fqvyyzfmai .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fqvyyzfmai .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fqvyyzfmai .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fqvyyzfmai .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fqvyyzfmai .gt_spanner_row {
  border-bottom-style: hidden;
}

#fqvyyzfmai .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fqvyyzfmai .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fqvyyzfmai .gt_from_md > :first-child {
  margin-top: 0;
}

#fqvyyzfmai .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fqvyyzfmai .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fqvyyzfmai .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fqvyyzfmai .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fqvyyzfmai .gt_row_group_first td {
  border-top-width: 2px;
}

#fqvyyzfmai .gt_row_group_first th {
  border-top-width: 2px;
}

#fqvyyzfmai .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fqvyyzfmai .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fqvyyzfmai .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fqvyyzfmai .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fqvyyzfmai .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fqvyyzfmai .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fqvyyzfmai .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fqvyyzfmai .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fqvyyzfmai .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fqvyyzfmai .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fqvyyzfmai .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fqvyyzfmai .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fqvyyzfmai .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fqvyyzfmai .gt_left {
  text-align: left;
}

#fqvyyzfmai .gt_center {
  text-align: center;
}

#fqvyyzfmai .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fqvyyzfmai .gt_font_normal {
  font-weight: normal;
}

#fqvyyzfmai .gt_font_bold {
  font-weight: bold;
}

#fqvyyzfmai .gt_font_italic {
  font-style: italic;
}

#fqvyyzfmai .gt_super {
  font-size: 65%;
}

#fqvyyzfmai .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fqvyyzfmai .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fqvyyzfmai .gt_indent_1 {
  text-indent: 5px;
}

#fqvyyzfmai .gt_indent_2 {
  text-indent: 10px;
}

#fqvyyzfmai .gt_indent_3 {
  text-indent: 15px;
}

#fqvyyzfmai .gt_indent_4 {
  text-indent: 20px;
}

#fqvyyzfmai .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id=""></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="Broadband at home">
        <span class="gt_column_spanner">Broadband at home</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="Internet at home">
        <span class="gt_column_spanner">Internet at home</span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Percent">Percent</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="S.E.">S.E.</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Percent">Percent</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="S.E.">S.E.</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">Argentina</th>
<td headers="stub_1_1 p_broadband" class="gt_row gt_right">62.3</td>
<td headers="stub_1_1 p_broadband_se" class="gt_row gt_right">1.1</td>
<td headers="stub_1_1 p_internet" class="gt_row gt_right">86.2</td>
<td headers="stub_1_1 p_internet_se" class="gt_row gt_right">0.9</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">Bolivia</th>
<td headers="stub_1_2 p_broadband" class="gt_row gt_right">41.4</td>
<td headers="stub_1_2 p_broadband_se" class="gt_row gt_right">1.0</td>
<td headers="stub_1_2 p_internet" class="gt_row gt_right">77.2</td>
<td headers="stub_1_2 p_internet_se" class="gt_row gt_right">1.0</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">Brazil</th>
<td headers="stub_1_3 p_broadband" class="gt_row gt_right">68.3</td>
<td headers="stub_1_3 p_broadband_se" class="gt_row gt_right">1.2</td>
<td headers="stub_1_3 p_internet" class="gt_row gt_right">88.9</td>
<td headers="stub_1_3 p_internet_se" class="gt_row gt_right">0.9</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">Chile</th>
<td headers="stub_1_4 p_broadband" class="gt_row gt_right">63.1</td>
<td headers="stub_1_4 p_broadband_se" class="gt_row gt_right">1.1</td>
<td headers="stub_1_4 p_internet" class="gt_row gt_right">93.5</td>
<td headers="stub_1_4 p_internet_se" class="gt_row gt_right">0.5</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_center gt_stub">Colombia</th>
<td headers="stub_1_5 p_broadband" class="gt_row gt_right">45.7</td>
<td headers="stub_1_5 p_broadband_se" class="gt_row gt_right">1.2</td>
<td headers="stub_1_5 p_internet" class="gt_row gt_right">68.7</td>
<td headers="stub_1_5 p_internet_se" class="gt_row gt_right">1.1</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_center gt_stub">Costa Rica</th>
<td headers="stub_1_6 p_broadband" class="gt_row gt_right">49.6</td>
<td headers="stub_1_6 p_broadband_se" class="gt_row gt_right">1.1</td>
<td headers="stub_1_6 p_internet" class="gt_row gt_right">84.4</td>
<td headers="stub_1_6 p_internet_se" class="gt_row gt_right">0.8</td></tr>
    <tr><th id="stub_1_7" scope="row" class="gt_row gt_center gt_stub">Dominican Republic</th>
<td headers="stub_1_7 p_broadband" class="gt_row gt_right">37.1</td>
<td headers="stub_1_7 p_broadband_se" class="gt_row gt_right">1.0</td>
<td headers="stub_1_7 p_internet" class="gt_row gt_right">73.7</td>
<td headers="stub_1_7 p_internet_se" class="gt_row gt_right">1.0</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_center gt_stub">Ecuador</th>
<td headers="stub_1_8 p_broadband" class="gt_row gt_right">59.7</td>
<td headers="stub_1_8 p_broadband_se" class="gt_row gt_right">1.1</td>
<td headers="stub_1_8 p_internet" class="gt_row gt_right">79.9</td>
<td headers="stub_1_8 p_internet_se" class="gt_row gt_right">0.9</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_center gt_stub">El Salvador</th>
<td headers="stub_1_9 p_broadband" class="gt_row gt_right">30.2</td>
<td headers="stub_1_9 p_broadband_se" class="gt_row gt_right">0.9</td>
<td headers="stub_1_9 p_internet" class="gt_row gt_right">63.9</td>
<td headers="stub_1_9 p_internet_se" class="gt_row gt_right">1.0</td></tr>
    <tr><th id="stub_1_10" scope="row" class="gt_row gt_center gt_stub">Guatemala</th>
<td headers="stub_1_10 p_broadband" class="gt_row gt_right">33.4</td>
<td headers="stub_1_10 p_broadband_se" class="gt_row gt_right">1.0</td>
<td headers="stub_1_10 p_internet" class="gt_row gt_right">61.5</td>
<td headers="stub_1_10 p_internet_se" class="gt_row gt_right">1.1</td></tr>
    <tr><th id="stub_1_11" scope="row" class="gt_row gt_center gt_stub">Guyana</th>
<td headers="stub_1_11 p_broadband" class="gt_row gt_right">63.7</td>
<td headers="stub_1_11 p_broadband_se" class="gt_row gt_right">1.1</td>
<td headers="stub_1_11 p_internet" class="gt_row gt_right">86.8</td>
<td headers="stub_1_11 p_internet_se" class="gt_row gt_right">0.8</td></tr>
    <tr><th id="stub_1_12" scope="row" class="gt_row gt_center gt_stub">Haiti</th>
<td headers="stub_1_12 p_broadband" class="gt_row gt_right">11.8</td>
<td headers="stub_1_12 p_broadband_se" class="gt_row gt_right">0.8</td>
<td headers="stub_1_12 p_internet" class="gt_row gt_right">58.5</td>
<td headers="stub_1_12 p_internet_se" class="gt_row gt_right">1.2</td></tr>
    <tr><th id="stub_1_13" scope="row" class="gt_row gt_center gt_stub">Honduras</th>
<td headers="stub_1_13 p_broadband" class="gt_row gt_right">28.2</td>
<td headers="stub_1_13 p_broadband_se" class="gt_row gt_right">1.0</td>
<td headers="stub_1_13 p_internet" class="gt_row gt_right">60.7</td>
<td headers="stub_1_13 p_internet_se" class="gt_row gt_right">1.1</td></tr>
    <tr><th id="stub_1_14" scope="row" class="gt_row gt_center gt_stub">Jamaica</th>
<td headers="stub_1_14 p_broadband" class="gt_row gt_right">64.2</td>
<td headers="stub_1_14 p_broadband_se" class="gt_row gt_right">1.0</td>
<td headers="stub_1_14 p_internet" class="gt_row gt_right">91.5</td>
<td headers="stub_1_14 p_internet_se" class="gt_row gt_right">0.6</td></tr>
    <tr><th id="stub_1_15" scope="row" class="gt_row gt_center gt_stub">Mexico</th>
<td headers="stub_1_15 p_broadband" class="gt_row gt_right">44.9</td>
<td headers="stub_1_15 p_broadband_se" class="gt_row gt_right">1.1</td>
<td headers="stub_1_15 p_internet" class="gt_row gt_right">70.9</td>
<td headers="stub_1_15 p_internet_se" class="gt_row gt_right">1.0</td></tr>
    <tr><th id="stub_1_16" scope="row" class="gt_row gt_center gt_stub">Nicaragua</th>
<td headers="stub_1_16 p_broadband" class="gt_row gt_right">39.1</td>
<td headers="stub_1_16 p_broadband_se" class="gt_row gt_right">1.1</td>
<td headers="stub_1_16 p_internet" class="gt_row gt_right">76.3</td>
<td headers="stub_1_16 p_internet_se" class="gt_row gt_right">1.1</td></tr>
    <tr><th id="stub_1_17" scope="row" class="gt_row gt_center gt_stub">Panama</th>
<td headers="stub_1_17 p_broadband" class="gt_row gt_right">43.4</td>
<td headers="stub_1_17 p_broadband_se" class="gt_row gt_right">1.0</td>
<td headers="stub_1_17 p_internet" class="gt_row gt_right">73.1</td>
<td headers="stub_1_17 p_internet_se" class="gt_row gt_right">1.0</td></tr>
    <tr><th id="stub_1_18" scope="row" class="gt_row gt_center gt_stub">Paraguay</th>
<td headers="stub_1_18 p_broadband" class="gt_row gt_right">33.3</td>
<td headers="stub_1_18 p_broadband_se" class="gt_row gt_right">1.0</td>
<td headers="stub_1_18 p_internet" class="gt_row gt_right">72.9</td>
<td headers="stub_1_18 p_internet_se" class="gt_row gt_right">1.0</td></tr>
    <tr><th id="stub_1_19" scope="row" class="gt_row gt_center gt_stub">Peru</th>
<td headers="stub_1_19 p_broadband" class="gt_row gt_right">42.4</td>
<td headers="stub_1_19 p_broadband_se" class="gt_row gt_right">1.1</td>
<td headers="stub_1_19 p_internet" class="gt_row gt_right">71.1</td>
<td headers="stub_1_19 p_internet_se" class="gt_row gt_right">1.1</td></tr>
    <tr><th id="stub_1_20" scope="row" class="gt_row gt_center gt_stub">Uruguay</th>
<td headers="stub_1_20 p_broadband" class="gt_row gt_right">62.7</td>
<td headers="stub_1_20 p_broadband_se" class="gt_row gt_right">1.1</td>
<td headers="stub_1_20 p_internet" class="gt_row gt_right">90.6</td>
<td headers="stub_1_20 p_internet_se" class="gt_row gt_right">0.7</td></tr>
  </tbody>
  
  
</table>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Create a faceted map showing both broadband internet and any internet usage.</li>
</ol>
<p>Answer:</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="exercise-solutions.html#cb605-1" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb605-2"><a href="exercise-solutions.html#cb605-2" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb605-3"><a href="exercise-solutions.html#cb605-3" tabindex="-1"></a><span class="fu">library</span>(ggpattern)</span>
<span id="cb605-4"><a href="exercise-solutions.html#cb605-4" tabindex="-1"></a>internet_sf <span class="ot">&lt;-</span> country_shape_upd <span class="sc">%&gt;%</span></span>
<span id="cb605-5"><a href="exercise-solutions.html#cb605-5" tabindex="-1"></a>  <span class="fu">full_join</span>(<span class="fu">select</span>(int_ests, <span class="at">p =</span> p_internet, <span class="at">geounit =</span> Country), <span class="at">by =</span> <span class="st">&quot;geounit&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb605-6"><a href="exercise-solutions.html#cb605-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Type =</span> <span class="st">&quot;Internet&quot;</span>)</span>
<span id="cb605-7"><a href="exercise-solutions.html#cb605-7" tabindex="-1"></a>broadband_sf <span class="ot">&lt;-</span> country_shape_upd <span class="sc">%&gt;%</span></span>
<span id="cb605-8"><a href="exercise-solutions.html#cb605-8" tabindex="-1"></a>  <span class="fu">full_join</span>(<span class="fu">select</span>(int_ests, <span class="at">p =</span> p_broadband, <span class="at">geounit =</span> Country), <span class="at">by =</span> <span class="st">&quot;geounit&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb605-9"><a href="exercise-solutions.html#cb605-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Type =</span> <span class="st">&quot;Broadband&quot;</span>)</span>
<span id="cb605-10"><a href="exercise-solutions.html#cb605-10" tabindex="-1"></a>b_int_sf <span class="ot">&lt;-</span> internet_sf <span class="sc">%&gt;%</span></span>
<span id="cb605-11"><a href="exercise-solutions.html#cb605-11" tabindex="-1"></a>  <span class="fu">bind_rows</span>(broadband_sf) <span class="sc">%&gt;%</span></span>
<span id="cb605-12"><a href="exercise-solutions.html#cb605-12" tabindex="-1"></a>  <span class="fu">filter</span>(region_wb <span class="sc">==</span> <span class="st">&quot;Latin America &amp; Caribbean&quot;</span>)</span>
<span id="cb605-13"><a href="exercise-solutions.html#cb605-13" tabindex="-1"></a></span>
<span id="cb605-14"><a href="exercise-solutions.html#cb605-14" tabindex="-1"></a>b_int_sf <span class="sc">%&gt;%</span></span>
<span id="cb605-15"><a href="exercise-solutions.html#cb605-15" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> p),</span>
<span id="cb605-16"><a href="exercise-solutions.html#cb605-16" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;darkgray&quot;</span></span>
<span id="cb605-17"><a href="exercise-solutions.html#cb605-17" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb605-18"><a href="exercise-solutions.html#cb605-18" tabindex="-1"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb605-19"><a href="exercise-solutions.html#cb605-19" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Type) <span class="sc">+</span></span>
<span id="cb605-20"><a href="exercise-solutions.html#cb605-20" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb605-21"><a href="exercise-solutions.html#cb605-21" tabindex="-1"></a>    <span class="at">guide =</span> <span class="st">&quot;colorbar&quot;</span>,</span>
<span id="cb605-22"><a href="exercise-solutions.html#cb605-22" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Percent&quot;</span>,</span>
<span id="cb605-23"><a href="exercise-solutions.html#cb605-23" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span>comma,</span>
<span id="cb605-24"><a href="exercise-solutions.html#cb605-24" tabindex="-1"></a>    <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">&quot;#BFD7EA&quot;</span>, <span class="st">&quot;#087E8B&quot;</span>, <span class="st">&quot;#0B3954&quot;</span>),</span>
<span id="cb605-25"><a href="exercise-solutions.html#cb605-25" tabindex="-1"></a>    <span class="at">na.value =</span> <span class="cn">NA</span></span>
<span id="cb605-26"><a href="exercise-solutions.html#cb605-26" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb605-27"><a href="exercise-solutions.html#cb605-27" tabindex="-1"></a>  <span class="fu">geom_sf_pattern</span>(</span>
<span id="cb605-28"><a href="exercise-solutions.html#cb605-28" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">filter</span>(b_int_sf, <span class="fu">is.na</span>(p)),</span>
<span id="cb605-29"><a href="exercise-solutions.html#cb605-29" tabindex="-1"></a>    <span class="at">pattern =</span> <span class="st">&quot;crosshatch&quot;</span>,</span>
<span id="cb605-30"><a href="exercise-solutions.html#cb605-30" tabindex="-1"></a>    <span class="at">pattern_fill =</span> <span class="st">&quot;lightgray&quot;</span>,</span>
<span id="cb605-31"><a href="exercise-solutions.html#cb605-31" tabindex="-1"></a>    <span class="at">pattern_color =</span> <span class="st">&quot;lightgray&quot;</span>,</span>
<span id="cb605-32"><a href="exercise-solutions.html#cb605-32" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span>,</span>
<span id="cb605-33"><a href="exercise-solutions.html#cb605-33" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;darkgray&quot;</span></span>
<span id="cb605-34"><a href="exercise-solutions.html#cb605-34" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb605-35"><a href="exercise-solutions.html#cb605-35" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:ambarom-ex-solution2"></span>
<img src="bookdown_files/figure-html/ambarom-ex-solution2-1.png" alt="Percent of broadband internet and any internet usage, Central and South America" width="672" />
<p class="caption">
FIGURE D.3: Percent of broadband internet and any internet usage, Central and South America
</p>
</div>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-gss-codebook" class="csl-entry">
Davern, Michael, Rene Bautista, Jeremy Freese, Stephen L. Morgan, and Tom W. Smith. 2021. <span>â<span>General Social Survey 2016-2020 Panel Codebook</span>.â</span> Edited by Chicago NORC. <a href="https://gss.norc.org/Documents/codebook/2016-2020%20GSS%20Panel%20Codebook%20-%20R1a.pdf" class="uri">https://gss.norc.org/Documents/codebook/2016-2020%20GSS%20Panel%20Codebook%20-%20R1a.pdf</a>.
</div>
<div id="ref-nhis-svy-des" class="csl-entry">
National Center for Health Statistics. 2023. <span>â<span class="nocase">National Health Interview Survey, 2022 survey description</span>.â</span> <a href="https://ftp.cdc.gov/pub/Health_Statistics/NCHS/Dataset_Documentation/NHIS/2022/srvydesc-508.pdf" class="uri">https://ftp.cdc.gov/pub/Health_Statistics/NCHS/Dataset_Documentation/NHIS/2022/srvydesc-508.pdf</a>.
</div>
<div id="ref-npr-voting-trend" class="csl-entry">
Sprunt, Barbara. 2020. <span>â93 Million and Counting: Americans Are Shattering Early Voting Records.â</span> <em>National Public Radio</em>.
</div>
<div id="ref-eia-cdd" class="csl-entry">
âââ. 2023d. <span>âUnits and Calculators Explained: Degree Days.â</span> <a href="https://www.eia.gov/energyexplained/units-and-calculators/degree-days.php" class="uri">https://www.eia.gov/energyexplained/units-and-calculators/degree-days.php</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="recs-cb.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/tidy-survey-r/tidy-survey-book/blob/main/93-AppendixD.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
