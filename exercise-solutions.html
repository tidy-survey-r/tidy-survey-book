<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>D Exercise solutions | Exploring Complex Survey Data Analysis in R</title>
  <meta name="description" content="Bookdown for upcoming book on survey analysis the tidy way." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="D Exercise solutions | Exploring Complex Survey Data Analysis in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Bookdown for upcoming book on survey analysis the tidy way." />
  <meta name="github-repo" content="tidy-survey-r/tidy-survey-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="D Exercise solutions | Exploring Complex Survey Data Analysis in R" />
  
  <meta name="twitter:description" content="Bookdown for upcoming book on survey analysis the tidy way." />
  

<meta name="author" content="Stephanie Zimmer, Rebecca J. Powell, and Isabella VelÃ¡squez" />


<meta name="date" content="2024-03-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="recs-cb.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/d3/d3.min.js"></script>
<script src="libs/dagre/dagre-d3.min.js"></script>
<link href="libs/mermaid/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid/dist/mermaid.slim.min.js"></script>
<link href="libs/DiagrammeR-styles/styles.css" rel="stylesheet" />
<script src="libs/chromatography/chromatography.js"></script>
<script src="libs/DiagrammeR-binding/DiagrammeR.js"></script>
<script defer data-domain="tidy-survey-r.github.io/tidy-survey-book" src="https://plausible.io/js/script.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Exploring Complex Survey Data Analysis in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Intro</b></span></li>
<li class="chapter" data-level="1" data-path="c01-intro.html"><a href="c01-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="c01-intro.html"><a href="c01-intro.html#survey-analysis-in-r"><i class="fa fa-check"></i><b>1.1</b> Survey analysis in R</a></li>
<li class="chapter" data-level="1.2" data-path="c01-intro.html"><a href="c01-intro.html#what-to-expect"><i class="fa fa-check"></i><b>1.2</b> What to expect</a></li>
<li class="chapter" data-level="1.3" data-path="c01-intro.html"><a href="c01-intro.html#prerequisites"><i class="fa fa-check"></i><b>1.3</b> Prerequisites</a></li>
<li class="chapter" data-level="1.4" data-path="c01-intro.html"><a href="c01-intro.html#datasets-used-in-this-book"><i class="fa fa-check"></i><b>1.4</b> Datasets used in this book</a></li>
<li class="chapter" data-level="1.5" data-path="c01-intro.html"><a href="c01-intro.html#conventions"><i class="fa fa-check"></i><b>1.5</b> Conventions</a></li>
<li class="chapter" data-level="1.6" data-path="c01-intro.html"><a href="c01-intro.html#getting-help"><i class="fa fa-check"></i><b>1.6</b> Getting help</a></li>
<li class="chapter" data-level="1.7" data-path="c01-intro.html"><a href="c01-intro.html#acknowledgements"><i class="fa fa-check"></i><b>1.7</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.8" data-path="c01-intro.html"><a href="c01-intro.html#colophon"><i class="fa fa-check"></i><b>1.8</b> Colophon</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html"><i class="fa fa-check"></i><b>2</b> Overview of Surveys</a>
<ul>
<li class="chapter" data-level="2.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#searching-for-public-use-survey-data"><i class="fa fa-check"></i><b>2.2</b> Searching for public-use survey data</a></li>
<li class="chapter" data-level="2.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#pre-survey-planning"><i class="fa fa-check"></i><b>2.3</b> Pre-survey planning</a></li>
<li class="chapter" data-level="2.4" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design"><i class="fa fa-check"></i><b>2.4</b> Study design</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-sampdesign"><i class="fa fa-check"></i><b>2.4.1</b> Sampling design</a></li>
<li class="chapter" data-level="2.4.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-dcplanning"><i class="fa fa-check"></i><b>2.4.2</b> Data collection planning</a></li>
<li class="chapter" data-level="2.4.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-questionnaire"><i class="fa fa-check"></i><b>2.4.3</b> Questionnaire design</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-datacollection"><i class="fa fa-check"></i><b>2.5</b> Data collection</a></li>
<li class="chapter" data-level="2.6" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post"><i class="fa fa-check"></i><b>2.6</b> Post-survey processing</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-cleaning"><i class="fa fa-check"></i><b>2.6.1</b> Data cleaning and imputation</a></li>
<li class="chapter" data-level="2.6.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-weighting"><i class="fa fa-check"></i><b>2.6.2</b> Weighting</a></li>
<li class="chapter" data-level="2.6.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-disclosure"><i class="fa fa-check"></i><b>2.6.3</b> Disclosure</a></li>
<li class="chapter" data-level="2.6.4" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-documentation"><i class="fa fa-check"></i><b>2.6.4</b> Documentation</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#post-survey-data-analysis-and-reporting"><i class="fa fa-check"></i><b>2.7</b> Post-survey data analysis and reporting</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html"><i class="fa fa-check"></i><b>3</b> Survey data documentation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#types-of-survey-documentation"><i class="fa fa-check"></i><b>3.2</b> Types of survey documentation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#technical-documentation"><i class="fa fa-check"></i><b>3.2.1</b> Technical documentation</a></li>
<li class="chapter" data-level="3.2.2" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#questionnaires"><i class="fa fa-check"></i><b>3.2.2</b> Questionnaires</a></li>
<li class="chapter" data-level="3.2.3" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#codebooks"><i class="fa fa-check"></i><b>3.2.3</b> Codebooks</a></li>
<li class="chapter" data-level="3.2.4" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#errata"><i class="fa fa-check"></i><b>3.2.4</b> Errata</a></li>
<li class="chapter" data-level="3.2.5" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#additional-resources"><i class="fa fa-check"></i><b>3.2.5</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#missing-data-coding"><i class="fa fa-check"></i><b>3.3</b> Missing data coding</a></li>
<li class="chapter" data-level="3.4" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#example-american-national-election-studies-anes-2020-survey-documentation"><i class="fa fa-check"></i><b>3.4</b> Example: American National Election Studies (ANES) 2020 survey documentation</a>
<ul>
<li class="chapter" data-level="" data-path="c03-survey-data-documentation.html"><a href="c03-survey-data-documentation.html#methodology"><i class="fa fa-check"></i>Methodology</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Analysis</b></span></li>
<li class="chapter" data-level="4" data-path="c04-getting-started.html"><a href="c04-getting-started.html"><i class="fa fa-check"></i><b>4</b> Getting started</a>
<ul>
<li class="chapter" data-level="4.1" data-path="c04-getting-started.html"><a href="c04-getting-started.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup"><i class="fa fa-check"></i><b>4.2</b> Setup</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="c04-getting-started.html"><a href="c04-getting-started.html#packages"><i class="fa fa-check"></i><b>4.2.1</b> Packages</a></li>
<li class="chapter" data-level="4.2.2" data-path="c04-getting-started.html"><a href="c04-getting-started.html#data"><i class="fa fa-check"></i><b>4.2.2</b> Data</a></li>
<li class="chapter" data-level="4.2.3" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup-des-obj"><i class="fa fa-check"></i><b>4.2.3</b> Design objects</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="c04-getting-started.html"><a href="c04-getting-started.html#survey-analysis-process"><i class="fa fa-check"></i><b>4.3</b> Survey analysis process</a></li>
<li class="chapter" data-level="4.4" data-path="c04-getting-started.html"><a href="c04-getting-started.html#similarities-dplyr-srvyr"><i class="fa fa-check"></i><b>4.4</b> Similarities between {dplyr} and {srvyr} functions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html"><i class="fa fa-check"></i><b>5</b> Descriptive analyses</a>
<ul>
<li class="chapter" data-level="" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#prereq5"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="5.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#counts-and-cross-tabulations"><i class="fa fa-check"></i><b>5.2</b> Counts and cross-tabulations</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-count-syntax"><i class="fa fa-check"></i><b>5.2.1</b> Syntax</a></li>
<li class="chapter" data-level="5.2.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples"><i class="fa fa-check"></i><b>5.2.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#totals-and-sums"><i class="fa fa-check"></i><b>5.3</b> Totals and sums</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax"><i class="fa fa-check"></i><b>5.3.1</b> Syntax</a></li>
<li class="chapter" data-level="5.3.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-1"><i class="fa fa-check"></i><b>5.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-meanprop"><i class="fa fa-check"></i><b>5.4</b> Means and proportions</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-meanprop-syntax"><i class="fa fa-check"></i><b>5.4.1</b> Syntax</a></li>
<li class="chapter" data-level="5.4.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-2"><i class="fa fa-check"></i><b>5.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#quantiles-and-medians"><i class="fa fa-check"></i><b>5.5</b> Quantiles and medians</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-1"><i class="fa fa-check"></i><b>5.5.1</b> Syntax</a></li>
<li class="chapter" data-level="5.5.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-3"><i class="fa fa-check"></i><b>5.5.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#ratios"><i class="fa fa-check"></i><b>5.6</b> Ratios</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-2"><i class="fa fa-check"></i><b>5.6.1</b> Syntax</a></li>
<li class="chapter" data-level="5.6.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-4"><i class="fa fa-check"></i><b>5.6.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#correlations"><i class="fa fa-check"></i><b>5.7</b> Correlations</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-3"><i class="fa fa-check"></i><b>5.7.1</b> Syntax</a></li>
<li class="chapter" data-level="5.7.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-5"><i class="fa fa-check"></i><b>5.7.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#standard-deviation-and-variance"><i class="fa fa-check"></i><b>5.8</b> Standard deviation and variance</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-4"><i class="fa fa-check"></i><b>5.8.1</b> Syntax</a></li>
<li class="chapter" data-level="5.8.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-6"><i class="fa fa-check"></i><b>5.8.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#additional-topics"><i class="fa fa-check"></i><b>5.9</b> Additional topics</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#unweighted-analysis"><i class="fa fa-check"></i><b>5.9.1</b> Unweighted analysis</a></li>
<li class="chapter" data-level="5.9.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#subpopulation-analysis"><i class="fa fa-check"></i><b>5.9.2</b> Subpopulation analysis</a></li>
<li class="chapter" data-level="5.9.3" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-deff"><i class="fa fa-check"></i><b>5.9.3</b> Design effects</a></li>
<li class="chapter" data-level="5.9.4" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#creating-summary-rows"><i class="fa fa-check"></i><b>5.9.4</b> Creating summary rows</a></li>
<li class="chapter" data-level="5.9.5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#calculating-estimates-for-many-outcomes"><i class="fa fa-check"></i><b>5.9.5</b> Calculating estimates for many outcomes</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#exercises"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html"><i class="fa fa-check"></i><b>6</b> Statistical testing</a>
<ul>
<li class="chapter" data-level="" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#prereq6"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="6.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#dot-notation"><i class="fa fa-check"></i><b>6.2</b> Dot notation</a></li>
<li class="chapter" data-level="6.3" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest"><i class="fa fa-check"></i><b>6.3</b> Comparison of proportions and means</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest-syntax"><i class="fa fa-check"></i><b>6.3.1</b> Syntax</a></li>
<li class="chapter" data-level="6.3.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest-examples"><i class="fa fa-check"></i><b>6.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi"><i class="fa fa-check"></i><b>6.4</b> Chi-square tests</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi-syntax"><i class="fa fa-check"></i><b>6.4.1</b> Syntax</a></li>
<li class="chapter" data-level="6.4.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi-examples"><i class="fa fa-check"></i><b>6.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-exercises"><i class="fa fa-check"></i><b>6.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="c07-modeling.html"><a href="c07-modeling.html"><i class="fa fa-check"></i><b>7</b> Modeling</a>
<ul>
<li class="chapter" data-level="" data-path="c07-modeling.html"><a href="c07-modeling.html#prereq7"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="7.1" data-path="c07-modeling.html"><a href="c07-modeling.html#model-intro"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="c07-modeling.html"><a href="c07-modeling.html#analysis-of-variance-anova"><i class="fa fa-check"></i><b>7.2</b> Analysis of variance (ANOVA)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-6"><i class="fa fa-check"></i><b>7.2.1</b> Syntax</a></li>
<li class="chapter" data-level="7.2.2" data-path="c07-modeling.html"><a href="c07-modeling.html#example-1"><i class="fa fa-check"></i><b>7.2.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="c07-modeling.html"><a href="c07-modeling.html#normal-linear-regression"><i class="fa fa-check"></i><b>7.3</b> Normal linear regression</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-7"><i class="fa fa-check"></i><b>7.3.1</b> Syntax</a></li>
<li class="chapter" data-level="7.3.2" data-path="c07-modeling.html"><a href="c07-modeling.html#examples-7"><i class="fa fa-check"></i><b>7.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="c07-modeling.html"><a href="c07-modeling.html#logistic-regression"><i class="fa fa-check"></i><b>7.4</b> Logistic regression</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-8"><i class="fa fa-check"></i><b>7.4.1</b> Syntax</a></li>
<li class="chapter" data-level="7.4.2" data-path="c07-modeling.html"><a href="c07-modeling.html#examples-8"><i class="fa fa-check"></i><b>7.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="c07-modeling.html"><a href="c07-modeling.html#exercises-1"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Reporting</b></span></li>
<li class="chapter" data-level="8" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html"><i class="fa fa-check"></i><b>8</b> Communication of results</a>
<ul>
<li class="chapter" data-level="" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#prereq8"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="8.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#introduction-6"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#describing-results-through-text"><i class="fa fa-check"></i><b>8.2</b> Describing results through text</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#methodology-1"><i class="fa fa-check"></i><b>8.2.1</b> Methodology</a></li>
<li class="chapter" data-level="8.2.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#analysis"><i class="fa fa-check"></i><b>8.2.2</b> Analysis</a></li>
<li class="chapter" data-level="8.2.3" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#results"><i class="fa fa-check"></i><b>8.2.3</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#visualizing-data"><i class="fa fa-check"></i><b>8.3</b> Visualizing data</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#tables"><i class="fa fa-check"></i><b>8.3.1</b> Tables</a></li>
<li class="chapter" data-level="8.3.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#charts-and-plots"><i class="fa fa-check"></i><b>8.3.2</b> Charts and plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html"><i class="fa fa-check"></i><b>9</b> Reproducible research</a>
<ul>
<li class="chapter" data-level="9.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#introduction-7"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#project-based-workflows"><i class="fa fa-check"></i><b>9.2</b> Project-based workflows</a></li>
<li class="chapter" data-level="9.3" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#functions-and-packages"><i class="fa fa-check"></i><b>9.3</b> Functions and packages</a></li>
<li class="chapter" data-level="9.4" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#version-control-with-git"><i class="fa fa-check"></i><b>9.4</b> Version control with Git</a></li>
<li class="chapter" data-level="9.5" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#package-management-with-renv"><i class="fa fa-check"></i><b>9.5</b> Package management with {renv}</a></li>
<li class="chapter" data-level="9.6" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#r-environments-with-docker"><i class="fa fa-check"></i><b>9.6</b> R environments with Docker</a></li>
<li class="chapter" data-level="9.7" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#workflow-management-with-targets"><i class="fa fa-check"></i><b>9.7</b> Workflow management with {targets}</a></li>
<li class="chapter" data-level="9.8" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#documentation-with-quarto-and-r-markdown"><i class="fa fa-check"></i><b>9.8</b> Documentation with Quarto and R Markdown</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#parameterization"><i class="fa fa-check"></i><b>9.8.1</b> Parameterization</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#other-tips-for-reproducibility"><i class="fa fa-check"></i><b>9.9</b> Other tips for reproducibility</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#random-number-seeds"><i class="fa fa-check"></i><b>9.9.1</b> Random number seeds</a></li>
<li class="chapter" data-level="9.9.2" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#descriptive-names-and-labels"><i class="fa fa-check"></i><b>9.9.2</b> Descriptive names and labels</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#summary"><i class="fa fa-check"></i><b>9.10</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>IV Real life data</b></span></li>
<li class="chapter" data-level="10" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html"><i class="fa fa-check"></i><b>10</b> Sample designs and replicate weights</a>
<ul>
<li class="chapter" data-level="" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#prereq3"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="10.1" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#introduction-8"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#common-sampling-designs"><i class="fa fa-check"></i><b>10.2</b> Common sampling designs</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#simple-random-sample-without-replacement"><i class="fa fa-check"></i><b>10.2.1</b> Simple random sample without replacement</a></li>
<li class="chapter" data-level="10.2.2" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#simple-random-sample-with-replacement"><i class="fa fa-check"></i><b>10.2.2</b> Simple random sample with replacement</a></li>
<li class="chapter" data-level="10.2.3" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#stratified-sampling"><i class="fa fa-check"></i><b>10.2.3</b> Stratified sampling</a></li>
<li class="chapter" data-level="10.2.4" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#samp-cluster"><i class="fa fa-check"></i><b>10.2.4</b> Clustered sampling</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#samp-combo"><i class="fa fa-check"></i><b>10.3</b> Combining sampling methods</a>
<ul>
<li class="chapter" data-level="" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#example-6"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#replicate-weights"><i class="fa fa-check"></i><b>10.4</b> Replicate weights</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#balanced-repeated-replication-brr-method"><i class="fa fa-check"></i><b>10.4.1</b> Balanced Repeated Replication (BRR) method</a></li>
<li class="chapter" data-level="10.4.2" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#fays-brr-method"><i class="fa fa-check"></i><b>10.4.2</b> Fayâs BRR method</a></li>
<li class="chapter" data-level="10.4.3" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#jackknife-method"><i class="fa fa-check"></i><b>10.4.3</b> Jackknife method</a></li>
<li class="chapter" data-level="10.4.4" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#bootstrap-method"><i class="fa fa-check"></i><b>10.4.4</b> Bootstrap method</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="c10-sample-designs-replicate-weights.html"><a href="c10-sample-designs-replicate-weights.html#exercises-2"><i class="fa fa-check"></i><b>10.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="c11-missing-data.html"><a href="c11-missing-data.html"><i class="fa fa-check"></i><b>11</b> Missing data</a>
<ul>
<li class="chapter" data-level="" data-path="c11-missing-data.html"><a href="c11-missing-data.html#prereq11"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="11.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#introduction-9"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#missing-data-mechanisms"><i class="fa fa-check"></i><b>11.2</b> Missing data mechanisms</a></li>
<li class="chapter" data-level="11.3" data-path="c11-missing-data.html"><a href="c11-missing-data.html#assessing-missing-data"><i class="fa fa-check"></i><b>11.3</b> Assessing missing data</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#summarize-data"><i class="fa fa-check"></i><b>11.3.1</b> Summarize data</a></li>
<li class="chapter" data-level="11.3.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#visualization-of-missing-data"><i class="fa fa-check"></i><b>11.3.2</b> Visualization of missing data</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="c11-missing-data.html"><a href="c11-missing-data.html#analysis-with-missing-data"><i class="fa fa-check"></i><b>11.4</b> Analysis with missing data</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#recoding-missing-data"><i class="fa fa-check"></i><b>11.4.1</b> Recoding missing data</a></li>
<li class="chapter" data-level="11.4.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#accounting-for-skip-patterns"><i class="fa fa-check"></i><b>11.4.2</b> Accounting for skip patterns</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="c12-recommendations.html"><a href="c12-recommendations.html"><i class="fa fa-check"></i><b>12</b> Successful survey analysis recommendations</a>
<ul>
<li class="chapter" data-level="" data-path="c12-recommendations.html"><a href="c12-recommendations.html#prereq12"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="12.1" data-path="c12-recommendations.html"><a href="c12-recommendations.html#introduction-10"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="c12-recommendations.html"><a href="c12-recommendations.html#recs-survey-process"><i class="fa fa-check"></i><b>12.2</b> Follow survey analysis process</a></li>
<li class="chapter" data-level="12.3" data-path="c12-recommendations.html"><a href="c12-recommendations.html#begin-with-descriptive-analysis"><i class="fa fa-check"></i><b>12.3</b> Begin with descriptive analysis</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="c12-recommendations.html"><a href="c12-recommendations.html#table-review"><i class="fa fa-check"></i><b>12.3.1</b> Table review</a></li>
<li class="chapter" data-level="12.3.2" data-path="c12-recommendations.html"><a href="c12-recommendations.html#graphical-review"><i class="fa fa-check"></i><b>12.3.2</b> Graphical review</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="c12-recommendations.html"><a href="c12-recommendations.html#check-variable-types"><i class="fa fa-check"></i><b>12.4</b> Check variable types</a></li>
<li class="chapter" data-level="12.5" data-path="c12-recommendations.html"><a href="c12-recommendations.html#improve-debugging-skills"><i class="fa fa-check"></i><b>12.5</b> Improve debugging skills</a></li>
<li class="chapter" data-level="12.6" data-path="c12-recommendations.html"><a href="c12-recommendations.html#think-critically-about-conclusions"><i class="fa fa-check"></i><b>12.6</b> Think critically about conclusions</a></li>
</ul></li>
<li class="part"><span><b>V Vignettes</b></span></li>
<li class="chapter" data-level="13" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html"><i class="fa fa-check"></i><b>13</b> National Crime Victimization Survey Vignette</a>
<ul>
<li class="chapter" data-level="" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#prereq9"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="13.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#introduction-11"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#data-structure"><i class="fa fa-check"></i><b>13.2</b> Data structure</a></li>
<li class="chapter" data-level="13.3" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#survey-notation"><i class="fa fa-check"></i><b>13.3</b> Survey notation</a></li>
<li class="chapter" data-level="13.4" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#data-file-preparation"><i class="fa fa-check"></i><b>13.4</b> Data file preparation</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#preparing-files-for-estimation-of-victimization-rates"><i class="fa fa-check"></i><b>13.4.1</b> Preparing files for estimation of victimization rates</a></li>
<li class="chapter" data-level="13.4.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#derived-demographic-variables"><i class="fa fa-check"></i><b>13.4.2</b> Derived demographic variables</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#survey-design-objects"><i class="fa fa-check"></i><b>13.5</b> Survey design objects</a></li>
<li class="chapter" data-level="13.6" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#calculating-estimates"><i class="fa fa-check"></i><b>13.6</b> Calculating estimates</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-tot"><i class="fa fa-check"></i><b>13.6.1</b> Estimation 1: Victimization totals</a></li>
<li class="chapter" data-level="13.6.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-prop"><i class="fa fa-check"></i><b>13.6.2</b> Estimation 2: Victimization proportions</a></li>
<li class="chapter" data-level="13.6.3" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-rate"><i class="fa fa-check"></i><b>13.6.3</b> Estimation 3: Victimization rates</a></li>
<li class="chapter" data-level="13.6.4" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#prev-rate"><i class="fa fa-check"></i><b>13.6.4</b> Estimation 4: Prevalence rates</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#statistical-testing"><i class="fa fa-check"></i><b>13.7</b> Statistical testing</a></li>
<li class="chapter" data-level="13.8" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#exercises-3"><i class="fa fa-check"></i><b>13.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html"><i class="fa fa-check"></i><b>14</b> AmericasBarometer Vignette</a>
<ul>
<li class="chapter" data-level="" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#prereq10"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="14.1" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#introduction-12"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#data-structure-1"><i class="fa fa-check"></i><b>14.2</b> Data structure</a></li>
<li class="chapter" data-level="14.3" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#preparing-files"><i class="fa fa-check"></i><b>14.3</b> Preparing files</a></li>
<li class="chapter" data-level="14.4" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#survey-design-objects-1"><i class="fa fa-check"></i><b>14.4</b> Survey design objects</a></li>
<li class="chapter" data-level="14.5" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#ambarom-estimates"><i class="fa fa-check"></i><b>14.5</b> Calculating estimates</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#example-worried-about-covid"><i class="fa fa-check"></i><b>14.5.1</b> Example: Worried about COVID</a></li>
<li class="chapter" data-level="14.5.2" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#example-education-affected-by-covid"><i class="fa fa-check"></i><b>14.5.2</b> Example: Education affected by COVID</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#ambarom-maps"><i class="fa fa-check"></i><b>14.6</b> Mapping survey data</a></li>
<li class="chapter" data-level="14.7" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#exercises-4"><i class="fa fa-check"></i><b>14.7</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html"><i class="fa fa-check"></i><b>A</b> Importing survey data into R</a>
<ul>
<li class="chapter" data-level="A.1" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-delimiter-separated-files-into-r"><i class="fa fa-check"></i><b>A.1</b> Importing delimiter-separated files into R</a></li>
<li class="chapter" data-level="A.2" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#loading-excel-files-into-r"><i class="fa fa-check"></i><b>A.2</b> Loading Excel files into R</a></li>
<li class="chapter" data-level="A.3" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-stata-sas-and-spss-files-into-r"><i class="fa fa-check"></i><b>A.3</b> Importing Stata, SAS, and SPSS files into R</a>
<ul>
<li class="chapter" data-level="A.3.1" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#syntax-9"><i class="fa fa-check"></i><b>A.3.1</b> Syntax</a></li>
<li class="chapter" data-level="A.3.2" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#working-with-labeled-data"><i class="fa fa-check"></i><b>A.3.2</b> Working with labeled data</a></li>
<li class="chapter" data-level="A.3.3" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#labeled-missing-data-values"><i class="fa fa-check"></i><b>A.3.3</b> Labeled missing data values</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-apis-into-r"><i class="fa fa-check"></i><b>A.4</b> Importing data from APIs into R</a></li>
<li class="chapter" data-level="A.5" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#accessing-databases-in-r"><i class="fa fa-check"></i><b>A.5</b> Accessing databases in R</a></li>
<li class="chapter" data-level="A.6" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-other-formats"><i class="fa fa-check"></i><b>A.6</b> Importing data from other formats</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="anes-cb.html"><a href="anes-cb.html"><i class="fa fa-check"></i><b>B</b> ANES derived variable codebook</a>
<ul>
<li class="chapter" data-level="B.1" data-path="anes-cb.html"><a href="anes-cb.html#admin"><i class="fa fa-check"></i><b>B.1</b> ADMIN</a></li>
<li class="chapter" data-level="B.2" data-path="anes-cb.html"><a href="anes-cb.html#weights"><i class="fa fa-check"></i><b>B.2</b> WEIGHTS</a></li>
<li class="chapter" data-level="B.3" data-path="anes-cb.html"><a href="anes-cb.html#pre-election-survey-questionnaire"><i class="fa fa-check"></i><b>B.3</b> PRE-ELECTION SURVEY QUESTIONNAIRE</a></li>
<li class="chapter" data-level="B.4" data-path="anes-cb.html"><a href="anes-cb.html#post-election-survey-questionnaire"><i class="fa fa-check"></i><b>B.4</b> POST-ELECTION SURVEY QUESTIONNAIRE</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="recs-cb.html"><a href="recs-cb.html"><i class="fa fa-check"></i><b>C</b> RECS derived variable codebook</a>
<ul>
<li class="chapter" data-level="C.1" data-path="recs-cb.html"><a href="recs-cb.html#admin-1"><i class="fa fa-check"></i><b>C.1</b> ADMIN</a></li>
<li class="chapter" data-level="C.2" data-path="recs-cb.html"><a href="recs-cb.html#geography"><i class="fa fa-check"></i><b>C.2</b> GEOGRAPHY</a></li>
<li class="chapter" data-level="C.3" data-path="recs-cb.html"><a href="recs-cb.html#weather"><i class="fa fa-check"></i><b>C.3</b> WEATHER</a></li>
<li class="chapter" data-level="C.4" data-path="recs-cb.html"><a href="recs-cb.html#your-home"><i class="fa fa-check"></i><b>C.4</b> YOUR HOME</a></li>
<li class="chapter" data-level="C.5" data-path="recs-cb.html"><a href="recs-cb.html#space-heating"><i class="fa fa-check"></i><b>C.5</b> SPACE HEATING</a></li>
<li class="chapter" data-level="C.6" data-path="recs-cb.html"><a href="recs-cb.html#air-conditioning"><i class="fa fa-check"></i><b>C.6</b> AIR CONDITIONING</a></li>
<li class="chapter" data-level="C.7" data-path="recs-cb.html"><a href="recs-cb.html#thermostat"><i class="fa fa-check"></i><b>C.7</b> THERMOSTAT</a></li>
<li class="chapter" data-level="C.8" data-path="recs-cb.html"><a href="recs-cb.html#weights-1"><i class="fa fa-check"></i><b>C.8</b> WEIGHTS</a></li>
<li class="chapter" data-level="C.9" data-path="recs-cb.html"><a href="recs-cb.html#consumption-and-expenditure"><i class="fa fa-check"></i><b>C.9</b> CONSUMPTION AND EXPENDITURE</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="exercise-solutions.html"><a href="exercise-solutions.html"><i class="fa fa-check"></i><b>D</b> Exercise solutions</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#descriptive-analysis"><i class="fa fa-check"></i>5 - Descriptive analysis</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#statistical-testing-1"><i class="fa fa-check"></i>6 - Statistical testing</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#modeling"><i class="fa fa-check"></i>7 - Modeling</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#specifying-sample-designs-and-replicate-weights-in-srvyr"><i class="fa fa-check"></i>10 - Specifying sample designs and replicate weights in {srvyr}</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#national-crime-victimization-survey-vignette"><i class="fa fa-check"></i>13 - National Crime Victimization Survey Vignette</a></li>
<li class="chapter" data-level="" data-path="exercise-solutions.html"><a href="exercise-solutions.html#americasbarometer-vignette"><i class="fa fa-check"></i>14 - AmericasBarometer Vignette</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploring Complex Survey Data Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercise-solutions" class="section level1 hasAnchor" number="18">
<h1><span class="header-section-number">D</span> Exercise solutions<a href="exercise-solutions.html#exercise-solutions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The chapter exercises use the survey design objects and packages provided in the Prerequisites box in the beginning of the chapter. Please ensure they are loaded in your environment before running the exercise solutions.</p>
<div id="descriptive-analysis" class="section level2 unnumbered hasAnchor">
<h2>5 - Descriptive analysis<a href="exercise-solutions.html#descriptive-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>How many females have a graduate degree? Hint: the variables <code>Gender</code> and <code>Education</code> will be useful.</li>
</ol>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb553-1"><a href="exercise-solutions.html#cb553-1" tabindex="-1"></a><span class="co"># Option 1:</span></span>
<span id="cb553-2"><a href="exercise-solutions.html#cb553-2" tabindex="-1"></a>femgd_option1 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb553-3"><a href="exercise-solutions.html#cb553-3" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>, Education <span class="sc">==</span> <span class="st">&quot;Graduate&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb553-4"><a href="exercise-solutions.html#cb553-4" tabindex="-1"></a>  <span class="fu">survey_count</span>(<span class="at">name =</span> <span class="st">&quot;n&quot;</span>)</span>
<span id="cb553-5"><a href="exercise-solutions.html#cb553-5" tabindex="-1"></a></span>
<span id="cb553-6"><a href="exercise-solutions.html#cb553-6" tabindex="-1"></a>femgd_option1</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##           n    n_se
##       &lt;dbl&gt;   &lt;dbl&gt;
## 1 15108636. 839898.</code></pre>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="exercise-solutions.html#cb555-1" tabindex="-1"></a><span class="co"># Option 2:</span></span>
<span id="cb555-2"><a href="exercise-solutions.html#cb555-2" tabindex="-1"></a>femgd_option2 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb555-3"><a href="exercise-solutions.html#cb555-3" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>, Education <span class="sc">==</span> <span class="st">&quot;Graduate&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb555-4"><a href="exercise-solutions.html#cb555-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">N =</span> <span class="fu">survey_total</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb555-5"><a href="exercise-solutions.html#cb555-5" tabindex="-1"></a></span>
<span id="cb555-6"><a href="exercise-solutions.html#cb555-6" tabindex="-1"></a>femgd_option2</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##           N    N_se
##       &lt;dbl&gt;   &lt;dbl&gt;
## 1 15108636. 839898.</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>What percentage of people identify as âStrong Democratâ? Hint: The variable <code>PartyID</code> indicates someoneâs party affiliation.</li>
</ol>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb557-1"><a href="exercise-solutions.html#cb557-1" tabindex="-1"></a>psd <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb557-2"><a href="exercise-solutions.html#cb557-2" tabindex="-1"></a>  <span class="fu">group_by</span>(PartyID) <span class="sc">%&gt;%</span></span>
<span id="cb557-3"><a href="exercise-solutions.html#cb557-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb557-4"><a href="exercise-solutions.html#cb557-4" tabindex="-1"></a>  <span class="fu">filter</span>(PartyID <span class="sc">==</span> <span class="st">&quot;Strong democrat&quot;</span>)</span>
<span id="cb557-5"><a href="exercise-solutions.html#cb557-5" tabindex="-1"></a></span>
<span id="cb557-6"><a href="exercise-solutions.html#cb557-6" tabindex="-1"></a>psd</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 3
##   PartyID             p    p_se
##   &lt;fct&gt;           &lt;dbl&gt;   &lt;dbl&gt;
## 1 Strong democrat 0.219 0.00646</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>What percentage of people who voted in the 2020 election identify as âStrong Republicanâ? Hint: The variable <code>VotedPres2020</code> indicates whether someone voted in 2020.</li>
</ol>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="exercise-solutions.html#cb559-1" tabindex="-1"></a>psr <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb559-2"><a href="exercise-solutions.html#cb559-2" tabindex="-1"></a>  <span class="fu">filter</span>(VotedPres2020 <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb559-3"><a href="exercise-solutions.html#cb559-3" tabindex="-1"></a>  <span class="fu">group_by</span>(PartyID) <span class="sc">%&gt;%</span></span>
<span id="cb559-4"><a href="exercise-solutions.html#cb559-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb559-5"><a href="exercise-solutions.html#cb559-5" tabindex="-1"></a>  <span class="fu">filter</span>(PartyID <span class="sc">==</span> <span class="st">&quot;Strong republican&quot;</span>)</span>
<span id="cb559-6"><a href="exercise-solutions.html#cb559-6" tabindex="-1"></a></span>
<span id="cb559-7"><a href="exercise-solutions.html#cb559-7" tabindex="-1"></a>psr</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 3
##   PartyID               p    p_se
##   &lt;fct&gt;             &lt;dbl&gt;   &lt;dbl&gt;
## 1 Strong republican 0.228 0.00824</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>What percentage of people voted in both the 2016 election and the 2020 election? Include the logit confidence interval. Hint: The variable <code>VotedPres2016</code> indicates whether someone voted in 2016.</li>
</ol>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="exercise-solutions.html#cb561-1" tabindex="-1"></a>pvb <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb561-2"><a href="exercise-solutions.html#cb561-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(VotedPres2016),<span class="sc">!</span><span class="fu">is.na</span>(VotedPres2020)) <span class="sc">%&gt;%</span></span>
<span id="cb561-3"><a href="exercise-solutions.html#cb561-3" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">interact</span>(VotedPres2016, VotedPres2020)) <span class="sc">%&gt;%</span></span>
<span id="cb561-4"><a href="exercise-solutions.html#cb561-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_prop</span>(<span class="at">var =</span> <span class="st">&quot;ci&quot;</span>, <span class="at">method =</span> <span class="st">&quot;logit&quot;</span>),) <span class="sc">%&gt;%</span></span>
<span id="cb561-5"><a href="exercise-solutions.html#cb561-5" tabindex="-1"></a>  <span class="fu">filter</span>(VotedPres2016 <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>, VotedPres2020 <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>)</span>
<span id="cb561-6"><a href="exercise-solutions.html#cb561-6" tabindex="-1"></a></span>
<span id="cb561-7"><a href="exercise-solutions.html#cb561-7" tabindex="-1"></a>pvb</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 5
##   VotedPres2016 VotedPres2020     p p_low p_upp
##   &lt;fct&gt;         &lt;fct&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Yes           Yes           0.794 0.777 0.810</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>What is the design effect for the proportion of people who voted early? Hint: The variable <code>EarlyVote2020</code> indicates whether someone voted early in 2020.</li>
</ol>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb563-1"><a href="exercise-solutions.html#cb563-1" tabindex="-1"></a>pdeff <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb563-2"><a href="exercise-solutions.html#cb563-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(EarlyVote2020)) <span class="sc">%&gt;%</span></span>
<span id="cb563-3"><a href="exercise-solutions.html#cb563-3" tabindex="-1"></a>  <span class="fu">group_by</span>(EarlyVote2020) <span class="sc">%&gt;%</span></span>
<span id="cb563-4"><a href="exercise-solutions.html#cb563-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>(<span class="at">deff =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb563-5"><a href="exercise-solutions.html#cb563-5" tabindex="-1"></a>  <span class="fu">filter</span>(EarlyVote2020 <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>)</span>
<span id="cb563-6"><a href="exercise-solutions.html#cb563-6" tabindex="-1"></a></span>
<span id="cb563-7"><a href="exercise-solutions.html#cb563-7" tabindex="-1"></a>pdeff</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 4
##   EarlyVote2020     p   p_se p_deff
##   &lt;fct&gt;         &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 Yes           0.726 0.0247   1.50</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>What is the median temperature people set their thermostats to at night during the winter? Hint: The variable <code>WinterTempNight</code> indicates the temperature that people set their temperature in the winter at night.</li>
</ol>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb565-1"><a href="exercise-solutions.html#cb565-1" tabindex="-1"></a>mean_wintertempnight <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb565-2"><a href="exercise-solutions.html#cb565-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">wtn_mean =</span> <span class="fu">survey_mean</span>(<span class="at">x =</span> WinterTempNight,</span>
<span id="cb565-3"><a href="exercise-solutions.html#cb565-3" tabindex="-1"></a>                                   <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb565-4"><a href="exercise-solutions.html#cb565-4" tabindex="-1"></a></span>
<span id="cb565-5"><a href="exercise-solutions.html#cb565-5" tabindex="-1"></a>mean_wintertempnight</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##   wtn_mean wtn_mean_se
##      &lt;dbl&gt;       &lt;dbl&gt;
## 1     68.3      0.0446</code></pre>
<ol start="7" style="list-style-type: decimal">
<li>People sometimes set their temperature differently over different seasons and during the day. What median temperatures do people set their thermostat to in the summer and winter, both during the day and at night? Include confidence intervals. Hint: Use the variables <code>WinterTempDay</code>, <code>WinterTempNight</code>, <code>SummerTempDay</code>, and <code>SummerTempNight</code>.</li>
</ol>
<div class="sourceCode" id="cb567"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb567-1"><a href="exercise-solutions.html#cb567-1" tabindex="-1"></a><span class="co"># Option 1</span></span>
<span id="cb567-2"><a href="exercise-solutions.html#cb567-2" tabindex="-1"></a>med_wintertempday <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb567-3"><a href="exercise-solutions.html#cb567-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">wtd_mean =</span> <span class="fu">survey_median</span>(WinterTempDay,</span>
<span id="cb567-4"><a href="exercise-solutions.html#cb567-4" tabindex="-1"></a>                                     <span class="at">vartype =</span> <span class="st">&quot;se&quot;</span>,</span>
<span id="cb567-5"><a href="exercise-solutions.html#cb567-5" tabindex="-1"></a>                                     <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb567-6"><a href="exercise-solutions.html#cb567-6" tabindex="-1"></a></span>
<span id="cb567-7"><a href="exercise-solutions.html#cb567-7" tabindex="-1"></a>med_wintertempday</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##   wtd_mean wtd_mean_se
##      &lt;dbl&gt;       &lt;dbl&gt;
## 1       70       0.250</code></pre>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb569-1"><a href="exercise-solutions.html#cb569-1" tabindex="-1"></a>med_wintertempnight <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb569-2"><a href="exercise-solutions.html#cb569-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">wtn_mean =</span> <span class="fu">survey_median</span>(WinterTempNight,</span>
<span id="cb569-3"><a href="exercise-solutions.html#cb569-3" tabindex="-1"></a>                                     <span class="at">vartype =</span> <span class="st">&quot;se&quot;</span>,</span>
<span id="cb569-4"><a href="exercise-solutions.html#cb569-4" tabindex="-1"></a>                                     <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb569-5"><a href="exercise-solutions.html#cb569-5" tabindex="-1"></a></span>
<span id="cb569-6"><a href="exercise-solutions.html#cb569-6" tabindex="-1"></a>med_wintertempnight</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##   wtn_mean wtn_mean_se
##      &lt;dbl&gt;       &lt;dbl&gt;
## 1       68       0.250</code></pre>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb571-1"><a href="exercise-solutions.html#cb571-1" tabindex="-1"></a>med_summertempday <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb571-2"><a href="exercise-solutions.html#cb571-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">std_mean =</span> <span class="fu">survey_median</span>(SummerTempDay,</span>
<span id="cb571-3"><a href="exercise-solutions.html#cb571-3" tabindex="-1"></a>                                     <span class="at">vartype =</span> <span class="st">&quot;se&quot;</span>,</span>
<span id="cb571-4"><a href="exercise-solutions.html#cb571-4" tabindex="-1"></a>                                     <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb571-5"><a href="exercise-solutions.html#cb571-5" tabindex="-1"></a></span>
<span id="cb571-6"><a href="exercise-solutions.html#cb571-6" tabindex="-1"></a>med_summertempday</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##   std_mean std_mean_se
##      &lt;dbl&gt;       &lt;dbl&gt;
## 1       72       0.250</code></pre>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb573-1"><a href="exercise-solutions.html#cb573-1" tabindex="-1"></a>med_summertempnight <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb573-2"><a href="exercise-solutions.html#cb573-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">stn_mean =</span> <span class="fu">survey_median</span>(SummerTempNight,</span>
<span id="cb573-3"><a href="exercise-solutions.html#cb573-3" tabindex="-1"></a>                                     <span class="at">vartype =</span> <span class="st">&quot;se&quot;</span>,</span>
<span id="cb573-4"><a href="exercise-solutions.html#cb573-4" tabindex="-1"></a>                                     <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb573-5"><a href="exercise-solutions.html#cb573-5" tabindex="-1"></a></span>
<span id="cb573-6"><a href="exercise-solutions.html#cb573-6" tabindex="-1"></a>med_summertempnight</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##   stn_mean stn_mean_se
##      &lt;dbl&gt;       &lt;dbl&gt;
## 1       72       0.250</code></pre>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb575-1"><a href="exercise-solutions.html#cb575-1" tabindex="-1"></a><span class="co"># Alternatively, could use `survey_quantile()` as shown below for WinterTempNight:</span></span>
<span id="cb575-2"><a href="exercise-solutions.html#cb575-2" tabindex="-1"></a></span>
<span id="cb575-3"><a href="exercise-solutions.html#cb575-3" tabindex="-1"></a>quant_wintertemp <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb575-4"><a href="exercise-solutions.html#cb575-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">wnt_quant =</span> <span class="fu">survey_quantile</span>(</span>
<span id="cb575-5"><a href="exercise-solutions.html#cb575-5" tabindex="-1"></a>    WinterTempNight,</span>
<span id="cb575-6"><a href="exercise-solutions.html#cb575-6" tabindex="-1"></a>    <span class="at">quantiles =</span> <span class="fl">0.5</span>,</span>
<span id="cb575-7"><a href="exercise-solutions.html#cb575-7" tabindex="-1"></a>    <span class="at">vartype =</span> <span class="st">&quot;se&quot;</span>,</span>
<span id="cb575-8"><a href="exercise-solutions.html#cb575-8" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb575-9"><a href="exercise-solutions.html#cb575-9" tabindex="-1"></a>  ))</span>
<span id="cb575-10"><a href="exercise-solutions.html#cb575-10" tabindex="-1"></a></span>
<span id="cb575-11"><a href="exercise-solutions.html#cb575-11" tabindex="-1"></a>quant_wintertemp</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##   wnt_quant_q50 wnt_quant_q50_se
##           &lt;dbl&gt;            &lt;dbl&gt;
## 1            68            0.250</code></pre>
<ol start="8" style="list-style-type: decimal">
<li>What is the correlation between the temperature that people set their temperature at during the night and during the day in the summer?</li>
</ol>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb577-1"><a href="exercise-solutions.html#cb577-1" tabindex="-1"></a>corr_summer_temp <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb577-2"><a href="exercise-solutions.html#cb577-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">summer_corr =</span> <span class="fu">survey_corr</span>(SummerTempNight, SummerTempDay,</span>
<span id="cb577-3"><a href="exercise-solutions.html#cb577-3" tabindex="-1"></a>                                      <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb577-4"><a href="exercise-solutions.html#cb577-4" tabindex="-1"></a></span>
<span id="cb577-5"><a href="exercise-solutions.html#cb577-5" tabindex="-1"></a>corr_summer_temp</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##   summer_corr summer_corr_se
##         &lt;dbl&gt;          &lt;dbl&gt;
## 1       0.806        0.00806</code></pre>
<ol start="9" style="list-style-type: decimal">
<li>What is the 1st, 2nd, and 3rd quartile of the amount of money spent on energy by Building America (BA) climate zone? Hint: <code>TOTALDOL</code> indicates the total amount spent on electricity, and <code>ClimateRegion_BA</code> indicates the BA climate zones.</li>
</ol>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb579-1"><a href="exercise-solutions.html#cb579-1" tabindex="-1"></a>quant_baenergyexp <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb579-2"><a href="exercise-solutions.html#cb579-2" tabindex="-1"></a>  <span class="fu">group_by</span>(ClimateRegion_BA) <span class="sc">%&gt;%</span></span>
<span id="cb579-3"><a href="exercise-solutions.html#cb579-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">dol_quant =</span> <span class="fu">survey_quantile</span>(</span>
<span id="cb579-4"><a href="exercise-solutions.html#cb579-4" tabindex="-1"></a>    TOTALDOL,</span>
<span id="cb579-5"><a href="exercise-solutions.html#cb579-5" tabindex="-1"></a>    <span class="at">quantiles =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>),</span>
<span id="cb579-6"><a href="exercise-solutions.html#cb579-6" tabindex="-1"></a>    <span class="at">vartype =</span> <span class="st">&quot;se&quot;</span>,</span>
<span id="cb579-7"><a href="exercise-solutions.html#cb579-7" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb579-8"><a href="exercise-solutions.html#cb579-8" tabindex="-1"></a>  ))</span>
<span id="cb579-9"><a href="exercise-solutions.html#cb579-9" tabindex="-1"></a></span>
<span id="cb579-10"><a href="exercise-solutions.html#cb579-10" tabindex="-1"></a>quant_baenergyexp</span></code></pre></div>
<pre><code>## # A tibble: 8 Ã 7
##   ClimateRegion_BA dol_quant_q25 dol_quant_q50 dol_quant_q75
##   &lt;fct&gt;                    &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;
## 1 Mixed-Dry                1091.         1541.         2139.
## 2 Mixed-Humid              1317.         1840.         2462.
## 3 Hot-Humid                1094.         1622.         2233.
## 4 Hot-Dry                   926.         1513.         2223.
## 5 Very-Cold                1195.         1986.         2955.
## 6 Cold                     1213.         1756.         2422.
## 7 Marine                    938.         1380.         1987.
## 8 Subarctic                2404.         3535.         5219.
## # â¹ 3 more variables: dol_quant_q25_se &lt;dbl&gt;, dol_quant_q50_se &lt;dbl&gt;,
## #   dol_quant_q75_se &lt;dbl&gt;</code></pre>
</div>
<div id="statistical-testing-1" class="section level2 unnumbered hasAnchor">
<h2>6 - Statistical testing<a href="exercise-solutions.html#statistical-testing-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Using the RECS data, do more than 50% of U.S. households use AC (<code>ACUsed</code>)?</li>
</ol>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb581-1"><a href="exercise-solutions.html#cb581-1" tabindex="-1"></a>ttest_solution1 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb581-2"><a href="exercise-solutions.html#cb581-2" tabindex="-1"></a>  <span class="fu">svyttest</span>(<span class="at">design =</span> .,</span>
<span id="cb581-3"><a href="exercise-solutions.html#cb581-3" tabindex="-1"></a>           <span class="at">formula =</span> ((ACUsed <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">-</span> <span class="fl">0.5</span>) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb581-4"><a href="exercise-solutions.html#cb581-4" tabindex="-1"></a>           <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb581-5"><a href="exercise-solutions.html#cb581-5" tabindex="-1"></a></span>
<span id="cb581-6"><a href="exercise-solutions.html#cb581-6" tabindex="-1"></a>ttest_solution1</span></code></pre></div>
<pre><code>## 
##  Design-based one-sample t-test
## 
## data:  ((ACUsed == TRUE) - 0.5) ~ 0
## t = 126, df = 58, p-value &lt;2e-16
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  0.3804 0.3927
## sample estimates:
##   mean 
## 0.3865</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Using the RECS data, does the average temperature that U.S. households set their thermostats to differ between the day and night in the winter (<code>WinterTempDay</code> and <code>WinterTempNight</code>)?</li>
</ol>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb583-1"><a href="exercise-solutions.html#cb583-1" tabindex="-1"></a>ttest_solution2 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb583-2"><a href="exercise-solutions.html#cb583-2" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb583-3"><a href="exercise-solutions.html#cb583-3" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb583-4"><a href="exercise-solutions.html#cb583-4" tabindex="-1"></a>    <span class="at">formula =</span> WinterTempDay <span class="sc">-</span> WinterTempNight <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb583-5"><a href="exercise-solutions.html#cb583-5" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb583-6"><a href="exercise-solutions.html#cb583-6" tabindex="-1"></a>  )</span>
<span id="cb583-7"><a href="exercise-solutions.html#cb583-7" tabindex="-1"></a></span>
<span id="cb583-8"><a href="exercise-solutions.html#cb583-8" tabindex="-1"></a>ttest_solution2</span></code></pre></div>
<pre><code>## 
##  Design-based one-sample t-test
## 
## data:  WinterTempDay - WinterTempNight ~ 0
## t = 46, df = 58, p-value &lt;2e-16
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  1.594 1.740
## sample estimates:
##  mean 
## 1.667</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Using the ANES data, does the average age (<code>Age</code>) of those who voted for Joseph Biden in 2020 (<code>VotedPres2020_selection</code>) differ from those who voted for another candidate?</li>
</ol>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="exercise-solutions.html#cb585-1" tabindex="-1"></a>ttest_solution3 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb585-2"><a href="exercise-solutions.html#cb585-2" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb585-3"><a href="exercise-solutions.html#cb585-3" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb585-4"><a href="exercise-solutions.html#cb585-4" tabindex="-1"></a>    <span class="at">formula =</span> Age <span class="sc">~</span> VotedPres2020_selection <span class="sc">==</span> <span class="st">&quot;Biden&quot;</span>,</span>
<span id="cb585-5"><a href="exercise-solutions.html#cb585-5" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb585-6"><a href="exercise-solutions.html#cb585-6" tabindex="-1"></a>  )</span>
<span id="cb585-7"><a href="exercise-solutions.html#cb585-7" tabindex="-1"></a></span>
<span id="cb585-8"><a href="exercise-solutions.html#cb585-8" tabindex="-1"></a>ttest_solution3</span></code></pre></div>
<pre><code>## 
##  Design-based t-test
## 
## data:  Age ~ VotedPres2020_selection == &quot;Biden&quot;
## t = -6, df = 50, p-value = 2e-07
## alternative hypothesis: true difference in mean is not equal to 0
## 95 percent confidence interval:
##  -4.809 -2.388
## sample estimates:
## difference in mean 
##             -3.598</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>If you wanted to determine if the political party affiliation differed for males and females, what test would you use?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Goodness of fit test (<code>svygofchisq()</code>)</li>
<li>Test of independence (<code>svychisq()</code>)</li>
<li>Test of homogeneity (<code>svychisq()</code>)</li>
</ol>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb587-1"><a href="exercise-solutions.html#cb587-1" tabindex="-1"></a>chisq_solution1 <span class="ot">&lt;-</span> <span class="st">&quot;c. Test of homogeneity (`svychisq()`)&quot;</span></span>
<span id="cb587-2"><a href="exercise-solutions.html#cb587-2" tabindex="-1"></a>chisq_solution1</span></code></pre></div>
<pre><code>## [1] &quot;c. Test of homogeneity (`svychisq()`)&quot;</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>In the RECS data, is there a relationship between the type of housing unit (<code>HousingUnitType</code>) and the year the house was built (<code>YearMade</code>)?</li>
</ol>
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb589-1"><a href="exercise-solutions.html#cb589-1" tabindex="-1"></a>chisq_solution2 <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb589-2"><a href="exercise-solutions.html#cb589-2" tabindex="-1"></a>  <span class="fu">svychisq</span>(</span>
<span id="cb589-3"><a href="exercise-solutions.html#cb589-3" tabindex="-1"></a>    <span class="at">formula =</span>  <span class="sc">~</span> HousingUnitType <span class="sc">+</span> YearMade,</span>
<span id="cb589-4"><a href="exercise-solutions.html#cb589-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb589-5"><a href="exercise-solutions.html#cb589-5" tabindex="-1"></a>    <span class="at">statistic =</span> <span class="st">&quot;Wald&quot;</span>,</span>
<span id="cb589-6"><a href="exercise-solutions.html#cb589-6" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb589-7"><a href="exercise-solutions.html#cb589-7" tabindex="-1"></a>  )</span>
<span id="cb589-8"><a href="exercise-solutions.html#cb589-8" tabindex="-1"></a></span>
<span id="cb589-9"><a href="exercise-solutions.html#cb589-9" tabindex="-1"></a>chisq_solution2</span></code></pre></div>
<pre><code>## 
##  Design-based Wald test of association
## 
## data:  NextMethod()
## F = 68, ndf = 32, ddf = 59, p-value &lt;2e-16</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>In the ANES data, is there a difference in the distribution of gender (<code>Gender</code>) across early voting status in 2020 (<code>EarlyVote2020</code>)?</li>
</ol>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb591-1"><a href="exercise-solutions.html#cb591-1" tabindex="-1"></a>chisq_solution3 <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb591-2"><a href="exercise-solutions.html#cb591-2" tabindex="-1"></a>  <span class="fu">svychisq</span>(</span>
<span id="cb591-3"><a href="exercise-solutions.html#cb591-3" tabindex="-1"></a>    <span class="at">formula =</span>  <span class="sc">~</span> Gender <span class="sc">+</span> EarlyVote2020,</span>
<span id="cb591-4"><a href="exercise-solutions.html#cb591-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb591-5"><a href="exercise-solutions.html#cb591-5" tabindex="-1"></a>    <span class="at">statistic =</span> <span class="st">&quot;F&quot;</span>,</span>
<span id="cb591-6"><a href="exercise-solutions.html#cb591-6" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb591-7"><a href="exercise-solutions.html#cb591-7" tabindex="-1"></a>  )</span>
<span id="cb591-8"><a href="exercise-solutions.html#cb591-8" tabindex="-1"></a></span>
<span id="cb591-9"><a href="exercise-solutions.html#cb591-9" tabindex="-1"></a>chisq_solution3</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s X^2: Rao &amp; Scott adjustment
## 
## data:  NextMethod()
## F = 4.5, ndf = 1, ddf = 51, p-value = 0.04</code></pre>
</div>
<div id="modeling" class="section level2 unnumbered hasAnchor">
<h2>7 - Modeling<a href="exercise-solutions.html#modeling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>The type of housing unit may have an impact on energy expenses. Is there any relationship between housing unit type (<code>HousingUnitType</code>) and total energy expenditure (<code>TOTALDOL</code>)? First, find the average energy expenditure by housing unit type as a descriptive analysis and then do the test. The reference level in the comparison should be the housing unit type that is most common.</li>
</ol>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb593-1"><a href="exercise-solutions.html#cb593-1" tabindex="-1"></a>recs_des <span class="sc">%&gt;%</span></span>
<span id="cb593-2"><a href="exercise-solutions.html#cb593-2" tabindex="-1"></a>  <span class="fu">group_by</span>(HousingUnitType) <span class="sc">%&gt;%</span></span>
<span id="cb593-3"><a href="exercise-solutions.html#cb593-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Expense =</span> <span class="fu">survey_mean</span>(TOTALDOL, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb593-4"><a href="exercise-solutions.html#cb593-4" tabindex="-1"></a>            <span class="at">HUs =</span> <span class="fu">survey_total</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb593-5"><a href="exercise-solutions.html#cb593-5" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(HUs))</span></code></pre></div>
<pre><code>## # A tibble: 5 Ã 5
##   HousingUnitType            Expense Expense_se       HUs       HUs_se
##   &lt;fct&gt;                        &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt;
## 1 Single-family detached       2205.       9.36 77067692. 0.00000277  
## 2 Apartment: 5 or more units   1108.      13.7  22835862. 0.000000226 
## 3 Apartment: 2-4 Units         1407.      24.2   9341795. 0.119       
## 4 Single-family attached       1653.      22.3   7451177. 0.114       
## 5 Mobile home                  1773.      26.2   6832499. 0.0000000927</code></pre>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb595-1"><a href="exercise-solutions.html#cb595-1" tabindex="-1"></a>exp_unit_out <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb595-2"><a href="exercise-solutions.html#cb595-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HousingUnitType =</span> <span class="fu">fct_infreq</span>(HousingUnitType, NWEIGHT)) <span class="sc">%&gt;%</span></span>
<span id="cb595-3"><a href="exercise-solutions.html#cb595-3" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb595-4"><a href="exercise-solutions.html#cb595-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb595-5"><a href="exercise-solutions.html#cb595-5" tabindex="-1"></a>    <span class="at">formula =</span> TOTALDOL <span class="sc">~</span> HousingUnitType,</span>
<span id="cb595-6"><a href="exercise-solutions.html#cb595-6" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit</span>
<span id="cb595-7"><a href="exercise-solutions.html#cb595-7" tabindex="-1"></a>  )</span>
<span id="cb595-8"><a href="exercise-solutions.html#cb595-8" tabindex="-1"></a></span>
<span id="cb595-9"><a href="exercise-solutions.html#cb595-9" tabindex="-1"></a><span class="fu">tidy</span>(exp_unit_out)</span></code></pre></div>
<pre><code>## # A tibble: 5 Ã 5
##   term                             estimate std.error statistic  p.value
##   &lt;chr&gt;                               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)                         2205.      9.36     236.  2.53e-84
## 2 HousingUnitTypeApartment: 5 or â¦   -1097.     16.5      -66.3 3.52e-54
## 3 HousingUnitTypeApartment: 2-4 Uâ¦    -798.     28.0      -28.5 1.37e-34
## 4 HousingUnitTypeSingle-family atâ¦    -551.     25.0      -22.1 5.28e-29
## 5 HousingUnitTypeMobile home          -431.     27.4      -15.7 5.36e-22</code></pre>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="exercise-solutions.html#cb597-1" tabindex="-1"></a><span class="co"># Single-family detached units are most common</span></span>
<span id="cb597-2"><a href="exercise-solutions.html#cb597-2" tabindex="-1"></a><span class="co"># There is a significant relationship between energy expenditure and housing unit type</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Does temperature play a role in energy expenditure? Cooling degree days are a measure of how hot a place is. CDD65 for a given day indicates the number of degrees Fahrenheit warmer than 65Â°F (18.3Â°C) it is in a location. On a day that averages 65Â°F and below, CDD65=0. While a day that averages 85Â°F would have CDD80=20 because it is 20 degrees warmer. For each day in the year, this is summed to give an indicator of how hot the place is throughout the year. Similarly, HDD65 indicates the days colder than 65Â°F (18.3Â°C)<a href="#fn37" class="footnote-ref" id="fnref37"><sup>37</sup></a>. Can energy expenditure be predicted using these temperature indicators along with square footage? Is there a significant relationship? Include main effects and two-way interactions.</li>
</ol>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="exercise-solutions.html#cb598-1" tabindex="-1"></a>temps_sqft_exp <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb598-2"><a href="exercise-solutions.html#cb598-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb598-3"><a href="exercise-solutions.html#cb598-3" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb598-4"><a href="exercise-solutions.html#cb598-4" tabindex="-1"></a>    <span class="at">formula =</span> DOLLAREL <span class="sc">~</span> (TOTSQFT_EN <span class="sc">+</span> CDD65 <span class="sc">+</span> HDD65) <span class="sc">^</span> <span class="dv">2</span>,</span>
<span id="cb598-5"><a href="exercise-solutions.html#cb598-5" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit</span>
<span id="cb598-6"><a href="exercise-solutions.html#cb598-6" tabindex="-1"></a>  )</span>
<span id="cb598-7"><a href="exercise-solutions.html#cb598-7" tabindex="-1"></a></span>
<span id="cb598-8"><a href="exercise-solutions.html#cb598-8" tabindex="-1"></a><span class="fu">tidy</span>(temps_sqft_exp)</span></code></pre></div>
<pre><code>## # A tibble: 7 Ã 5
##   term                 estimate   std.error statistic            p.value
##   &lt;chr&gt;                   &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;              &lt;dbl&gt;
## 1 (Intercept)      741.         70.5           10.5   0.0000000000000144
## 2 TOTSQFT_EN         0.272       0.0471         5.77  0.000000427       
## 3 CDD65              0.0293      0.0227         1.29  0.202             
## 4 HDD65             -0.00111     0.0104        -0.107 0.915             
## 5 TOTSQFT_EN:CDD65   0.0000459   0.0000154      2.97  0.00443           
## 6 TOTSQFT_EN:HDD65  -0.00000840  0.00000633    -1.33  0.190             
## 7 CDD65:HDD65        0.00000533  0.00000355     1.50  0.139</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Continuing with our results from question 2, create a plot between the actual and predicted expenditures and a residual plot for the predicted expenditures.</li>
</ol>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="exercise-solutions.html#cb600-1" tabindex="-1"></a>temps_sqft_exp_fit <span class="ot">&lt;-</span> temps_sqft_exp <span class="sc">%&gt;%</span></span>
<span id="cb600-2"><a href="exercise-solutions.html#cb600-2" tabindex="-1"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span></span>
<span id="cb600-3"><a href="exercise-solutions.html#cb600-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)), </span>
<span id="cb600-4"><a href="exercise-solutions.html#cb600-4" tabindex="-1"></a>         <span class="co"># extract the variance of the fitted value</span></span>
<span id="cb600-5"><a href="exercise-solutions.html#cb600-5" tabindex="-1"></a>         <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted)) </span></code></pre></div>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="exercise-solutions.html#cb601-1" tabindex="-1"></a>temps_sqft_exp_fit <span class="sc">%&gt;%</span></span>
<span id="cb601-2"><a href="exercise-solutions.html#cb601-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> DOLLAREL, <span class="at">y =</span> .fitted)) <span class="sc">+</span></span>
<span id="cb601-3"><a href="exercise-solutions.html#cb601-3" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb601-4"><a href="exercise-solutions.html#cb601-4" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>,</span>
<span id="cb601-5"><a href="exercise-solutions.html#cb601-5" tabindex="-1"></a>              <span class="at">slope =</span> <span class="dv">1</span>,</span>
<span id="cb601-6"><a href="exercise-solutions.html#cb601-6" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb601-7"><a href="exercise-solutions.html#cb601-7" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Actual expenditures&quot;</span>) <span class="sc">+</span></span>
<span id="cb601-8"><a href="exercise-solutions.html#cb601-8" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Predicted expenditures&quot;</span>) <span class="sc">+</span></span>
<span id="cb601-9"><a href="exercise-solutions.html#cb601-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-ex-solution4"></span>
<img src="bookdown_files/figure-html/model-ex-solution4-1.png" alt="Actual and predicted electricity expenditures" width="672" />
<p class="caption">
FIGURE D.1: Actual and predicted electricity expenditures
</p>
</div>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb602-1"><a href="exercise-solutions.html#cb602-1" tabindex="-1"></a>temps_sqft_exp_fit <span class="sc">%&gt;%</span></span>
<span id="cb602-2"><a href="exercise-solutions.html#cb602-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> .fitted, <span class="at">y =</span> .resid)) <span class="sc">+</span></span>
<span id="cb602-3"><a href="exercise-solutions.html#cb602-3" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb602-4"><a href="exercise-solutions.html#cb602-4" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb602-5"><a href="exercise-solutions.html#cb602-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Predicted expenditure&quot;</span>) <span class="sc">+</span></span>
<span id="cb602-6"><a href="exercise-solutions.html#cb602-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Residual value of expenditure&quot;</span>) <span class="sc">+</span></span>
<span id="cb602-7"><a href="exercise-solutions.html#cb602-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-ex-solution5"></span>
<img src="bookdown_files/figure-html/model-ex-solution5-1.png" alt="Residual plot of electric cost model with covariates TOTSQFT_EN, CDD65, and HDD65" width="672" />
<p class="caption">
FIGURE D.2: Residual plot of electric cost model with covariates TOTSQFT_EN, CDD65, and HDD65
</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Early voting expanded in 2020<a href="#fn38" class="footnote-ref" id="fnref38"><sup>38</sup></a>. Build a logistic model predicting early voting in 2020 (<code>EarlyVote2020</code>) using age (<code>Age</code>), education (<code>Education</code>), and party identification (<code>PartyID</code>). Include two-way interactions.</li>
</ol>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="exercise-solutions.html#cb603-1" tabindex="-1"></a>earlyvote_mod <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb603-2"><a href="exercise-solutions.html#cb603-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(EarlyVote2020)) <span class="sc">%&gt;%</span></span>
<span id="cb603-3"><a href="exercise-solutions.html#cb603-3" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb603-4"><a href="exercise-solutions.html#cb603-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb603-5"><a href="exercise-solutions.html#cb603-5" tabindex="-1"></a>    <span class="at">formula =</span> EarlyVote2020 <span class="sc">~</span> (Age <span class="sc">+</span> Education <span class="sc">+</span> PartyID) <span class="sc">^</span> <span class="dv">2</span> ,</span>
<span id="cb603-6"><a href="exercise-solutions.html#cb603-6" tabindex="-1"></a>    <span class="at">family =</span> quasibinomial</span>
<span id="cb603-7"><a href="exercise-solutions.html#cb603-7" tabindex="-1"></a>  )</span>
<span id="cb603-8"><a href="exercise-solutions.html#cb603-8" tabindex="-1"></a></span>
<span id="cb603-9"><a href="exercise-solutions.html#cb603-9" tabindex="-1"></a><span class="fu">tidy</span>(earlyvote_mod) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(p.value)</span></code></pre></div>
<pre><code>## # A tibble: 46 Ã 5
##    term                             estimate std.error statistic p.value
##    &lt;chr&gt;                               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 EducationPost HS:PartyIDNot verâ¦     16.2      1.69      9.54  0.0108
##  2 EducationGraduate:PartyIDNot veâ¦     15.4      1.72      8.95  0.0123
##  3 EducationBachelor&#39;s:PartyIDNot â¦     15.8      1.93      8.18  0.0146
##  4 EducationGraduate:PartyIDIndepeâ¦    -14.2      1.75     -8.12  0.0148
##  5 PartyIDIndependent-republican       -19.5      2.42     -8.09  0.0149
##  6 EducationHigh school:PartyIDNotâ¦     15.9      2.02      7.88  0.0157
##  7 EducationBachelor&#39;s:PartyIDIndeâ¦     17.7      2.32      7.64  0.0167
##  8 EducationGraduate:PartyIDIndepeâ¦     16.5      2.33      7.10  0.0193
##  9 EducationHigh school:PartyIDIndâ¦     15.5      2.56      6.05  0.0262
## 10 EducationGraduate:PartyIDIndepeâ¦    -14.8      2.47     -5.99  0.0268
## # â¹ 36 more rows</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Continuing from Exercise 1, predict the probability of early voting for two people. Both are 28 years old and have a graduate degree, but one person is a strong Democrat, and the other is a strong Republican.</li>
</ol>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="exercise-solutions.html#cb605-1" tabindex="-1"></a>add_vote_dat <span class="ot">&lt;-</span> anes_2020 <span class="sc">%&gt;%</span></span>
<span id="cb605-2"><a href="exercise-solutions.html#cb605-2" tabindex="-1"></a>  <span class="fu">select</span>(EarlyVote2020, Age, Education, PartyID) <span class="sc">%&gt;%</span></span>
<span id="cb605-3"><a href="exercise-solutions.html#cb605-3" tabindex="-1"></a>  <span class="fu">rbind</span>(<span class="fu">tibble</span>(</span>
<span id="cb605-4"><a href="exercise-solutions.html#cb605-4" tabindex="-1"></a>    <span class="at">EarlyVote2020 =</span> <span class="cn">NA</span>,</span>
<span id="cb605-5"><a href="exercise-solutions.html#cb605-5" tabindex="-1"></a>    <span class="at">Age =</span> <span class="dv">28</span>,</span>
<span id="cb605-6"><a href="exercise-solutions.html#cb605-6" tabindex="-1"></a>    <span class="at">Education =</span> <span class="st">&quot;Graduate&quot;</span>,</span>
<span id="cb605-7"><a href="exercise-solutions.html#cb605-7" tabindex="-1"></a>    <span class="at">PartyID =</span> <span class="fu">c</span>(<span class="st">&quot;Strong democrat&quot;</span>, <span class="st">&quot;Strong republican&quot;</span>)</span>
<span id="cb605-8"><a href="exercise-solutions.html#cb605-8" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb605-9"><a href="exercise-solutions.html#cb605-9" tabindex="-1"></a>  <span class="fu">tail</span>(<span class="dv">2</span>)</span>
<span id="cb605-10"><a href="exercise-solutions.html#cb605-10" tabindex="-1"></a></span>
<span id="cb605-11"><a href="exercise-solutions.html#cb605-11" tabindex="-1"></a>log_ex_2_out <span class="ot">&lt;-</span> earlyvote_mod <span class="sc">%&gt;%</span></span>
<span id="cb605-12"><a href="exercise-solutions.html#cb605-12" tabindex="-1"></a>  <span class="fu">augment</span>(<span class="at">newdata =</span> add_vote_dat, <span class="at">type.predict =</span> <span class="st">&quot;response&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb605-13"><a href="exercise-solutions.html#cb605-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)),</span>
<span id="cb605-14"><a href="exercise-solutions.html#cb605-14" tabindex="-1"></a>         <span class="co"># extract the variance of the fitted value</span></span>
<span id="cb605-15"><a href="exercise-solutions.html#cb605-15" tabindex="-1"></a>         <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted))</span></code></pre></div>
</div>
<div id="specifying-sample-designs-and-replicate-weights-in-srvyr" class="section level2 unnumbered hasAnchor">
<h2>10 - Specifying sample designs and replicate weights in {srvyr}<a href="exercise-solutions.html#specifying-sample-designs-and-replicate-weights-in-srvyr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>The National Health Interview Survey (NHIS) is an annual household survey conducted by the National Center for Health Statistics (NCHS). The NHIS includes a wide variety of health topics for adults including health status and conditions, functioning and disability, health care access and health service utilization, health-related behaviors, health promotion, mental health, barriers to care, and community engagement. Like many national in-person surveys, the sampling design is a stratified clustered design with details included in the Survey Description<a href="#fn39" class="footnote-ref" id="fnref39"><sup>39</sup></a>. The Survey Description provides information on setting up syntax in SUDAAN, Stata, SPSS, SAS, and R ({survey} package implementation). How would you specify the design using {srvyr} using either <code>as_survey_design</code> or <code>as_survey_rep()</code>?</li>
</ol>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="exercise-solutions.html#cb606-1" tabindex="-1"></a>nhis_adult_des <span class="ot">&lt;-</span> nhis_adult_data <span class="sc">%&gt;%</span></span>
<span id="cb606-2"><a href="exercise-solutions.html#cb606-2" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb606-3"><a href="exercise-solutions.html#cb606-3" tabindex="-1"></a>    <span class="at">ids =</span> PPSU,</span>
<span id="cb606-4"><a href="exercise-solutions.html#cb606-4" tabindex="-1"></a>    <span class="at">strata =</span> PSTRAT,</span>
<span id="cb606-5"><a href="exercise-solutions.html#cb606-5" tabindex="-1"></a>    <span class="at">nest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb606-6"><a href="exercise-solutions.html#cb606-6" tabindex="-1"></a>    <span class="at">weights =</span> WTFA_A</span>
<span id="cb606-7"><a href="exercise-solutions.html#cb606-7" tabindex="-1"></a>  )</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>The General Social Survey is a survey that has been administered since 1972 on social, behavioral, and attitudinal topics. The 2016-2020 GSS Panel codebook<a href="#fn40" class="footnote-ref" id="fnref40"><sup>40</sup></a> provides examples of setting up syntax in SAS and Stata but not R. How would you specify the design in R?</li>
</ol>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="exercise-solutions.html#cb607-1" tabindex="-1"></a>gss_des <span class="ot">&lt;-</span> gss_data <span class="sc">%&gt;%</span></span>
<span id="cb607-2"><a href="exercise-solutions.html#cb607-2" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(<span class="at">ids =</span> VPSU_2,</span>
<span id="cb607-3"><a href="exercise-solutions.html#cb607-3" tabindex="-1"></a>                   <span class="at">strata =</span> VSTRAT_2,</span>
<span id="cb607-4"><a href="exercise-solutions.html#cb607-4" tabindex="-1"></a>                   <span class="at">weights =</span> WTSSNR_2)</span></code></pre></div>
</div>
<div id="national-crime-victimization-survey-vignette" class="section level2 unnumbered hasAnchor">
<h2>13 - National Crime Victimization Survey Vignette<a href="exercise-solutions.html#national-crime-victimization-survey-vignette" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>What proportion of completed motor vehicle thefts are not reported to the police? Hint: Use the codebook to look at the definition of Type of Crime (V4529).</li>
</ol>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="exercise-solutions.html#cb608-1" tabindex="-1"></a>ans1 <span class="ot">&lt;-</span> inc_des <span class="sc">%&gt;%</span></span>
<span id="cb608-2"><a href="exercise-solutions.html#cb608-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(V4529, <span class="st">&quot;40|41&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb608-3"><a href="exercise-solutions.html#cb608-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Pct =</span> <span class="fu">survey_mean</span>(ReportPolice, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb608-4"><a href="exercise-solutions.html#cb608-4" tabindex="-1"></a>ans1</span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 2
##     Pct Pct_se
##   &lt;dbl&gt;  &lt;dbl&gt;
## 1  76.9   2.60</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>How many violent crimes occur in each region?</li>
</ol>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="exercise-solutions.html#cb610-1" tabindex="-1"></a>inc_des <span class="sc">%&gt;%</span></span>
<span id="cb610-2"><a href="exercise-solutions.html#cb610-2" tabindex="-1"></a>  <span class="fu">filter</span>(Violent) <span class="sc">%&gt;%</span></span>
<span id="cb610-3"><a href="exercise-solutions.html#cb610-3" tabindex="-1"></a>  <span class="fu">survey_count</span>(Region)</span></code></pre></div>
<pre><code>## # A tibble: 4 Ã 3
##   Region           n    n_se
##   &lt;fct&gt;        &lt;dbl&gt;   &lt;dbl&gt;
## 1 Northeast  698406.  82419.
## 2 Midwest   1144407.  95860.
## 3 South     1394214. 107505.
## 4 West      1361278. 109479.</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>What is the property victimization rate among each income level?</li>
</ol>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="exercise-solutions.html#cb612-1" tabindex="-1"></a>hh_des <span class="sc">%&gt;%</span></span>
<span id="cb612-2"><a href="exercise-solutions.html#cb612-2" tabindex="-1"></a>  <span class="fu">group_by</span>(Income) <span class="sc">%&gt;%</span></span>
<span id="cb612-3"><a href="exercise-solutions.html#cb612-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Property_Rate =</span> <span class="fu">survey_mean</span>(Property <span class="sc">*</span> ADJINC_WT <span class="sc">*</span> <span class="dv">1000</span>, </span>
<span id="cb612-4"><a href="exercise-solutions.html#cb612-4" tabindex="-1"></a>                                        <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 6 Ã 3
##   Income            Property_Rate Property_Rate_se
##   &lt;fct&gt;                     &lt;dbl&gt;            &lt;dbl&gt;
## 1 Less than $25,000         111.              4.97
## 2 $25,000-49,999             89.5             3.42
## 3 $50,000-99,999             87.8             3.30
## 4 $100,000-199,999           76.5             3.49
## 5 $200,000 or more           91.8             5.69
## 6 &lt;NA&gt;                      NaN             NaN</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>What is the difference between the violent victimization rate between males and females? Is it statistically different?</li>
</ol>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="exercise-solutions.html#cb614-1" tabindex="-1"></a>pers_des <span class="sc">%&gt;%</span></span>
<span id="cb614-2"><a href="exercise-solutions.html#cb614-2" tabindex="-1"></a>  <span class="fu">group_by</span>(Sex) <span class="sc">%&gt;%</span></span>
<span id="cb614-3"><a href="exercise-solutions.html#cb614-3" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb614-4"><a href="exercise-solutions.html#cb614-4" tabindex="-1"></a>    <span class="at">Violent_rate=</span><span class="fu">survey_mean</span>(Violent <span class="sc">*</span> ADJINC_WT <span class="sc">*</span> <span class="dv">1000</span>, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb614-5"><a href="exercise-solutions.html#cb614-5" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 2 Ã 3
##   Sex    Violent_rate Violent_rate_se
##   &lt;fct&gt;         &lt;dbl&gt;           &lt;dbl&gt;
## 1 Female         15.5           0.873
## 2 Male           17.5           1.11</code></pre>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="exercise-solutions.html#cb616-1" tabindex="-1"></a>pers_des <span class="sc">%&gt;%</span></span>
<span id="cb616-2"><a href="exercise-solutions.html#cb616-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb616-3"><a href="exercise-solutions.html#cb616-3" tabindex="-1"></a>    <span class="at">Violent_Adj=</span>Violent <span class="sc">*</span> ADJINC_WT <span class="sc">*</span> <span class="dv">1000</span></span>
<span id="cb616-4"><a href="exercise-solutions.html#cb616-4" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb616-5"><a href="exercise-solutions.html#cb616-5" tabindex="-1"></a>  <span class="fu">svyttest</span>(</span>
<span id="cb616-6"><a href="exercise-solutions.html#cb616-6" tabindex="-1"></a>    <span class="at">formula =</span> Violent_Adj <span class="sc">~</span> Sex,</span>
<span id="cb616-7"><a href="exercise-solutions.html#cb616-7" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb616-8"><a href="exercise-solutions.html#cb616-8" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb616-9"><a href="exercise-solutions.html#cb616-9" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb616-10"><a href="exercise-solutions.html#cb616-10" tabindex="-1"></a>  broom<span class="sc">::</span><span class="fu">tidy</span>()</span></code></pre></div>
<pre><code>## Warning in summary.glm(g): observations with zero weight not used for
## calculating dispersion</code></pre>
<pre><code>## Warning in summary.glm(glm.object): observations with zero weight not
## used for calculating dispersion</code></pre>
<pre><code>## # A tibble: 1 Ã 8
##   estimate statistic p.value parameter conf.low conf.high method        
##      &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;         
## 1     1.93      1.43   0.156       169   -0.745      4.61 Design-based â¦
## # â¹ 1 more variable: alternative &lt;chr&gt;</code></pre>
</div>
<div id="americasbarometer-vignette" class="section level2 unnumbered hasAnchor">
<h2>14 - AmericasBarometer Vignette<a href="exercise-solutions.html#americasbarometer-vignette" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Calculate the percentage of households with broadband internet and those with any internet at home, including from a phone or tablet. Hint: if you come across countries with 0% internet usage, you may want to filter by something first.</li>
</ol>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="exercise-solutions.html#cb620-1" tabindex="-1"></a>int_ests <span class="ot">&lt;-</span></span>
<span id="cb620-2"><a href="exercise-solutions.html#cb620-2" tabindex="-1"></a>  ambarom_des <span class="sc">%&gt;%</span></span>
<span id="cb620-3"><a href="exercise-solutions.html#cb620-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Internet) <span class="sc">|</span> <span class="sc">!</span><span class="fu">is.na</span>(BroadbandInternet)) <span class="sc">%&gt;%</span></span>
<span id="cb620-4"><a href="exercise-solutions.html#cb620-4" tabindex="-1"></a>  <span class="fu">group_by</span>(Country) <span class="sc">%&gt;%</span></span>
<span id="cb620-5"><a href="exercise-solutions.html#cb620-5" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb620-6"><a href="exercise-solutions.html#cb620-6" tabindex="-1"></a>    <span class="at">p_broadband =</span> <span class="fu">survey_mean</span>(BroadbandInternet, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb620-7"><a href="exercise-solutions.html#cb620-7" tabindex="-1"></a>    <span class="at">p_internet =</span> <span class="fu">survey_mean</span>(Internet, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb620-8"><a href="exercise-solutions.html#cb620-8" tabindex="-1"></a>  ) </span>
<span id="cb620-9"><a href="exercise-solutions.html#cb620-9" tabindex="-1"></a></span>
<span id="cb620-10"><a href="exercise-solutions.html#cb620-10" tabindex="-1"></a>int_ests <span class="sc">%&gt;%</span></span>
<span id="cb620-11"><a href="exercise-solutions.html#cb620-11" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">30</span>)</span></code></pre></div>
<pre><code>## # A tibble: 20 Ã 5
##    Country           p_broadband p_broadband_se p_internet p_internet_se
##    &lt;fct&gt;                   &lt;dbl&gt;          &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;
##  1 Argentina                62.3          1.13        86.2         0.871
##  2 Bolivia                  41.4          1.03        77.2         0.956
##  3 Brazil                   68.3          1.25        88.9         0.879
##  4 Chile                    63.1          1.06        93.5         0.550
##  5 Colombia                 45.7          1.15        68.7         1.09 
##  6 Costa Rica               49.6          1.07        84.4         0.798
##  7 Dominican Republâ¦        37.1          1.04        73.7         1.05 
##  8 Ecuador                  59.7          1.06        79.9         0.898
##  9 El Salvador              30.2          0.906       63.9         0.985
## 10 Guatemala                33.4          0.993       61.5         1.08 
## 11 Guyana                   63.7          1.09        86.8         0.781
## 12 Haiti                    11.8          0.791       58.5         1.25 
## 13 Honduras                 28.2          0.968       60.7         1.11 
## 14 Jamaica                  64.2          0.986       91.5         0.602
## 15 Mexico                   44.9          1.05        70.9         1.05 
## 16 Nicaragua                39.1          1.12        76.3         1.09 
## 17 Panama                   43.4          1.02        73.1         0.976
## 18 Paraguay                 33.3          0.971       72.9         1.01 
## 19 Peru                     42.4          1.07        71.1         1.07 
## 20 Uruguay                  62.7          1.08        90.6         0.699</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Create a faceted map showing both broadband internet and any internet usage.</li>
</ol>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="exercise-solutions.html#cb622-1" tabindex="-1"></a>internet_sf <span class="ot">&lt;-</span> country_shape_upd <span class="sc">%&gt;%</span></span>
<span id="cb622-2"><a href="exercise-solutions.html#cb622-2" tabindex="-1"></a>  <span class="fu">full_join</span>(<span class="fu">select</span>(int_ests, <span class="at">p =</span> p_internet, <span class="at">geounit =</span> Country), <span class="at">by =</span> <span class="st">&quot;geounit&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb622-3"><a href="exercise-solutions.html#cb622-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Type =</span> <span class="st">&quot;Internet&quot;</span>)</span>
<span id="cb622-4"><a href="exercise-solutions.html#cb622-4" tabindex="-1"></a>broadband_sf <span class="ot">&lt;-</span> country_shape_upd <span class="sc">%&gt;%</span></span>
<span id="cb622-5"><a href="exercise-solutions.html#cb622-5" tabindex="-1"></a>  <span class="fu">full_join</span>(<span class="fu">select</span>(int_ests, <span class="at">p =</span> p_broadband, <span class="at">geounit =</span> Country), <span class="at">by =</span> <span class="st">&quot;geounit&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb622-6"><a href="exercise-solutions.html#cb622-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Type =</span> <span class="st">&quot;Broadband&quot;</span>)</span>
<span id="cb622-7"><a href="exercise-solutions.html#cb622-7" tabindex="-1"></a>b_int_sf <span class="ot">&lt;-</span> internet_sf <span class="sc">%&gt;%</span></span>
<span id="cb622-8"><a href="exercise-solutions.html#cb622-8" tabindex="-1"></a>  <span class="fu">bind_rows</span>(broadband_sf) <span class="sc">%&gt;%</span></span>
<span id="cb622-9"><a href="exercise-solutions.html#cb622-9" tabindex="-1"></a>  <span class="fu">filter</span>(region_wb <span class="sc">==</span> <span class="st">&quot;Latin America &amp; Caribbean&quot;</span>)</span>
<span id="cb622-10"><a href="exercise-solutions.html#cb622-10" tabindex="-1"></a></span>
<span id="cb622-11"><a href="exercise-solutions.html#cb622-11" tabindex="-1"></a>b_int_sf <span class="sc">%&gt;%</span></span>
<span id="cb622-12"><a href="exercise-solutions.html#cb622-12" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> p),</span>
<span id="cb622-13"><a href="exercise-solutions.html#cb622-13" tabindex="-1"></a>         <span class="at">color=</span><span class="st">&quot;darkgray&quot;</span>) <span class="sc">+</span></span>
<span id="cb622-14"><a href="exercise-solutions.html#cb622-14" tabindex="-1"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb622-15"><a href="exercise-solutions.html#cb622-15" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> Type) <span class="sc">+</span></span>
<span id="cb622-16"><a href="exercise-solutions.html#cb622-16" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb622-17"><a href="exercise-solutions.html#cb622-17" tabindex="-1"></a>    <span class="at">guide =</span> <span class="st">&quot;colorbar&quot;</span>,</span>
<span id="cb622-18"><a href="exercise-solutions.html#cb622-18" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Percent&quot;</span>,</span>
<span id="cb622-19"><a href="exercise-solutions.html#cb622-19" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span>comma,</span>
<span id="cb622-20"><a href="exercise-solutions.html#cb622-20" tabindex="-1"></a>    <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">&quot;#BFD7EA&quot;</span>, <span class="st">&quot;#087E8B&quot;</span>, <span class="st">&quot;#0B3954&quot;</span>),</span>
<span id="cb622-21"><a href="exercise-solutions.html#cb622-21" tabindex="-1"></a>    <span class="at">na.value =</span> <span class="cn">NA</span></span>
<span id="cb622-22"><a href="exercise-solutions.html#cb622-22" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb622-23"><a href="exercise-solutions.html#cb622-23" tabindex="-1"></a>  <span class="fu">geom_sf_pattern</span>(</span>
<span id="cb622-24"><a href="exercise-solutions.html#cb622-24" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">filter</span>(b_int_sf, <span class="fu">is.na</span>(p)),</span>
<span id="cb622-25"><a href="exercise-solutions.html#cb622-25" tabindex="-1"></a>    <span class="at">pattern =</span> <span class="st">&quot;crosshatch&quot;</span>,</span>
<span id="cb622-26"><a href="exercise-solutions.html#cb622-26" tabindex="-1"></a>    <span class="at">pattern_fill =</span> <span class="st">&quot;lightgray&quot;</span>,</span>
<span id="cb622-27"><a href="exercise-solutions.html#cb622-27" tabindex="-1"></a>    <span class="at">pattern_color =</span> <span class="st">&quot;lightgray&quot;</span>,</span>
<span id="cb622-28"><a href="exercise-solutions.html#cb622-28" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span>,</span>
<span id="cb622-29"><a href="exercise-solutions.html#cb622-29" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;darkgray&quot;</span></span>
<span id="cb622-30"><a href="exercise-solutions.html#cb622-30" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb622-31"><a href="exercise-solutions.html#cb622-31" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:ambarom-ex-solution2"></span>
<img src="bookdown_files/figure-html/ambarom-ex-solution2-1.png" alt="Percent of broadband internet and any internet usage, Central and South America" width="672" />
<p class="caption">
FIGURE D.3: Percent of broadband internet and any internet usage, Central and South America
</p>
</div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="37">
<li id="fn37"><p><a href="https://www.eia.gov/energyexplained/units-and-calculators/degree-days.php" class="uri">https://www.eia.gov/energyexplained/units-and-calculators/degree-days.php</a><a href="exercise-solutions.html#fnref37" class="footnote-back">â©ï¸</a></p></li>
<li id="fn38"><p><a href="https://www.npr.org/2020/10/26/927803214/62-million-and-counting-americans-are-breaking-early-voting-records" class="uri">https://www.npr.org/2020/10/26/927803214/62-million-and-counting-americans-are-breaking-early-voting-records</a><a href="exercise-solutions.html#fnref38" class="footnote-back">â©ï¸</a></p></li>
<li id="fn39"><p>2022 National Health Interview Survey (NHIS) Survey Description: <a href="https://www.cdc.gov/nchs/nhis/2022nhis.htm" class="uri">https://www.cdc.gov/nchs/nhis/2022nhis.htm</a><a href="exercise-solutions.html#fnref39" class="footnote-back">â©ï¸</a></p></li>
<li id="fn40"><p>2016-2020 GSS Panel Codebook Release 1a: <a href="https://gss.norc.org/Documents/codebook/2016-2020%20GSS%20Panel%20Codebook%20-%20R1a.pdf" class="uri">https://gss.norc.org/Documents/codebook/2016-2020%20GSS%20Panel%20Codebook%20-%20R1a.pdf</a><a href="exercise-solutions.html#fnref40" class="footnote-back">â©ï¸</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="recs-cb.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/tidy-survey-r/tidy-survey-book/blob/main/93-AppendixD.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
