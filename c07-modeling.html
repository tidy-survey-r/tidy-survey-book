<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Modeling | Exploring Complex Survey Data Analysis in R</title>
  <meta name="description" content="Bookdown for upcoming book on survey analysis the tidy way." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Modeling | Exploring Complex Survey Data Analysis in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Bookdown for upcoming book on survey analysis the tidy way." />
  <meta name="github-repo" content="tidy-survey-r/tidy-survey-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Modeling | Exploring Complex Survey Data Analysis in R" />
  
  <meta name="twitter:description" content="Bookdown for upcoming book on survey analysis the tidy way." />
  

<meta name="author" content="Stephanie Zimmer, Rebecca J. Powell, and Isabella Velásquez" />


<meta name="date" content="2024-03-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="c06-statistical-testing.html"/>
<link rel="next" href="c08-communicating-results.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/d3/d3.min.js"></script>
<script src="libs/dagre/dagre-d3.min.js"></script>
<link href="libs/mermaid/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid/dist/mermaid.slim.min.js"></script>
<link href="libs/DiagrammeR-styles/styles.css" rel="stylesheet" />
<script src="libs/chromatography/chromatography.js"></script>
<script src="libs/DiagrammeR-binding/DiagrammeR.js"></script>
<script defer data-domain="tidy-survey-r.github.io/tidy-survey-book" src="https://plausible.io/js/script.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Exploring Complex Survey Data Analysis in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Intro</b></span></li>
<li class="chapter" data-level="1" data-path="c01-intro.html"><a href="c01-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="c01-intro.html"><a href="c01-intro.html#what-to-expect"><i class="fa fa-check"></i><b>1.1</b> What to expect</a></li>
<li class="chapter" data-level="1.2" data-path="c01-intro.html"><a href="c01-intro.html#datasets-used-in-this-book"><i class="fa fa-check"></i><b>1.2</b> Datasets used in this book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html"><i class="fa fa-check"></i><b>2</b> Overview of Surveys</a>
<ul>
<li class="chapter" data-level="2.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#searching-for-public-use-survey-data"><i class="fa fa-check"></i><b>2.2</b> Searching for public-use survey data</a></li>
<li class="chapter" data-level="2.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#pre-survey-planning"><i class="fa fa-check"></i><b>2.3</b> Pre-Survey Planning</a></li>
<li class="chapter" data-level="2.4" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design"><i class="fa fa-check"></i><b>2.4</b> Study Design</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-sampdesign"><i class="fa fa-check"></i><b>2.4.1</b> Sampling Design</a></li>
<li class="chapter" data-level="2.4.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-dcplanning"><i class="fa fa-check"></i><b>2.4.2</b> Data Collection Planning</a></li>
<li class="chapter" data-level="2.4.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-design-questionnaire"><i class="fa fa-check"></i><b>2.4.3</b> Questionnaire Design</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-datacollection"><i class="fa fa-check"></i><b>2.5</b> Data Collection</a></li>
<li class="chapter" data-level="2.6" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post"><i class="fa fa-check"></i><b>2.6</b> Post-Survey Processing</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-cleaning"><i class="fa fa-check"></i><b>2.6.1</b> Data Cleaning and Imputation</a></li>
<li class="chapter" data-level="2.6.2" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-weighting"><i class="fa fa-check"></i><b>2.6.2</b> Weighting</a></li>
<li class="chapter" data-level="2.6.3" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-disclosure"><i class="fa fa-check"></i><b>2.6.3</b> Disclosure</a></li>
<li class="chapter" data-level="2.6.4" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#overview-post-documentation"><i class="fa fa-check"></i><b>2.6.4</b> Documentation</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="c02-overview-surveys.html"><a href="c02-overview-surveys.html#post-survey-data-analysis-and-reporting"><i class="fa fa-check"></i><b>2.7</b> Post-survey data analysis and reporting</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html"><i class="fa fa-check"></i><b>3</b> Understanding Survey Data Documentation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#types-of-survey-documentation"><i class="fa fa-check"></i><b>3.2</b> Types of survey documentation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#technical-documentation"><i class="fa fa-check"></i><b>3.2.1</b> Technical documentation</a></li>
<li class="chapter" data-level="3.2.2" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#questionnaires"><i class="fa fa-check"></i><b>3.2.2</b> Questionnaires</a></li>
<li class="chapter" data-level="3.2.3" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#codebooks"><i class="fa fa-check"></i><b>3.2.3</b> Codebooks</a></li>
<li class="chapter" data-level="3.2.4" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#errata"><i class="fa fa-check"></i><b>3.2.4</b> Errata</a></li>
<li class="chapter" data-level="3.2.5" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#additional-resources"><i class="fa fa-check"></i><b>3.2.5</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#missing-data-coding"><i class="fa fa-check"></i><b>3.3</b> Missing data coding</a></li>
<li class="chapter" data-level="3.4" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#example-american-national-election-studies-anes-2020-survey-documentation"><i class="fa fa-check"></i><b>3.4</b> Example: American National Election Studies (ANES) 2020 Survey Documentation</a>
<ul>
<li class="chapter" data-level="" data-path="c03-understanding-survey-data-documentation.html"><a href="c03-understanding-survey-data-documentation.html#methodology"><i class="fa fa-check"></i>Methodology</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Analysis</b></span></li>
<li class="chapter" data-level="4" data-path="c04-getting-started.html"><a href="c04-getting-started.html"><i class="fa fa-check"></i><b>4</b> Getting started</a>
<ul>
<li class="chapter" data-level="4.1" data-path="c04-getting-started.html"><a href="c04-getting-started.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup"><i class="fa fa-check"></i><b>4.2</b> Setup</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="c04-getting-started.html"><a href="c04-getting-started.html#packages"><i class="fa fa-check"></i><b>4.2.1</b> Packages</a></li>
<li class="chapter" data-level="4.2.2" data-path="c04-getting-started.html"><a href="c04-getting-started.html#data"><i class="fa fa-check"></i><b>4.2.2</b> Data</a></li>
<li class="chapter" data-level="4.2.3" data-path="c04-getting-started.html"><a href="c04-getting-started.html#setup-des-obj"><i class="fa fa-check"></i><b>4.2.3</b> Design objects</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="c04-getting-started.html"><a href="c04-getting-started.html#survey-analysis-process"><i class="fa fa-check"></i><b>4.3</b> Survey analysis process</a></li>
<li class="chapter" data-level="4.4" data-path="c04-getting-started.html"><a href="c04-getting-started.html#similarities-dplyr-srvyr"><i class="fa fa-check"></i><b>4.4</b> Similarities between {dplyr} and {srvyr} functions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html"><i class="fa fa-check"></i><b>5</b> Descriptive Analyses in {srvyr}</a>
<ul>
<li class="chapter" data-level="" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#prereq5"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="5.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#similarities-between-dplyr-and-srvyr-functions"><i class="fa fa-check"></i><b>5.2</b> Similarities Between {dplyr} and {srvyr} Functions</a></li>
<li class="chapter" data-level="5.3" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#counts-and-cross-tabulations"><i class="fa fa-check"></i><b>5.3</b> Counts and Cross-Tabulations</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-count-syntax"><i class="fa fa-check"></i><b>5.3.1</b> Syntax</a></li>
<li class="chapter" data-level="5.3.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples"><i class="fa fa-check"></i><b>5.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#totals-and-sums"><i class="fa fa-check"></i><b>5.4</b> Totals and Sums</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax"><i class="fa fa-check"></i><b>5.4.1</b> Syntax</a></li>
<li class="chapter" data-level="5.4.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-1"><i class="fa fa-check"></i><b>5.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-meanprop"><i class="fa fa-check"></i><b>5.5</b> Means and Proportions</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-meanprop-syntax"><i class="fa fa-check"></i><b>5.5.1</b> Syntax</a></li>
<li class="chapter" data-level="5.5.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-2"><i class="fa fa-check"></i><b>5.5.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#quantiles-and-medians"><i class="fa fa-check"></i><b>5.6</b> Quantiles and Medians</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-1"><i class="fa fa-check"></i><b>5.6.1</b> Syntax</a></li>
<li class="chapter" data-level="5.6.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-3"><i class="fa fa-check"></i><b>5.6.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#ratios"><i class="fa fa-check"></i><b>5.7</b> Ratios</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-2"><i class="fa fa-check"></i><b>5.7.1</b> Syntax</a></li>
<li class="chapter" data-level="5.7.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-4"><i class="fa fa-check"></i><b>5.7.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#correlations"><i class="fa fa-check"></i><b>5.8</b> Correlations</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-3"><i class="fa fa-check"></i><b>5.8.1</b> Syntax</a></li>
<li class="chapter" data-level="5.8.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-5"><i class="fa fa-check"></i><b>5.8.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#standard-deviation-and-variance"><i class="fa fa-check"></i><b>5.9</b> Standard Deviation and Variance</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#syntax-4"><i class="fa fa-check"></i><b>5.9.1</b> Syntax</a></li>
<li class="chapter" data-level="5.9.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#examples-6"><i class="fa fa-check"></i><b>5.9.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#additional-topics"><i class="fa fa-check"></i><b>5.10</b> Additional Topics</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#unweighted-analysis"><i class="fa fa-check"></i><b>5.10.1</b> Unweighted Analysis</a></li>
<li class="chapter" data-level="5.10.2" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#subpopulation-analysis"><i class="fa fa-check"></i><b>5.10.2</b> Subpopulation Analysis</a></li>
<li class="chapter" data-level="5.10.3" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#desc-deff"><i class="fa fa-check"></i><b>5.10.3</b> Design Effects</a></li>
<li class="chapter" data-level="5.10.4" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#creating-summary-rows"><i class="fa fa-check"></i><b>5.10.4</b> Creating Summary Rows</a></li>
<li class="chapter" data-level="5.10.5" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#calculating-estimates-for-many-outcomes"><i class="fa fa-check"></i><b>5.10.5</b> Calculating Estimates for Many Outcomes</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="c05-descriptive-analysis.html"><a href="c05-descriptive-analysis.html#exercises"><i class="fa fa-check"></i><b>5.11</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html"><i class="fa fa-check"></i><b>6</b> Statistical testing</a>
<ul>
<li class="chapter" data-level="" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#prereq6"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="6.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#dot-notation"><i class="fa fa-check"></i><b>6.2</b> Dot Notation</a></li>
<li class="chapter" data-level="6.3" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest"><i class="fa fa-check"></i><b>6.3</b> Comparison of Proportions and Means</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest-syntax"><i class="fa fa-check"></i><b>6.3.1</b> Syntax</a></li>
<li class="chapter" data-level="6.3.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-ttest-examples"><i class="fa fa-check"></i><b>6.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi"><i class="fa fa-check"></i><b>6.4</b> Chi-Square Tests</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi-syntax"><i class="fa fa-check"></i><b>6.4.1</b> Syntax</a></li>
<li class="chapter" data-level="6.4.2" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-chi-examples"><i class="fa fa-check"></i><b>6.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="c06-statistical-testing.html"><a href="c06-statistical-testing.html#stattest-exercises"><i class="fa fa-check"></i><b>6.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="c07-modeling.html"><a href="c07-modeling.html"><i class="fa fa-check"></i><b>7</b> Modeling</a>
<ul>
<li class="chapter" data-level="" data-path="c07-modeling.html"><a href="c07-modeling.html#prereq7"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="7.1" data-path="c07-modeling.html"><a href="c07-modeling.html#model-intro"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="c07-modeling.html"><a href="c07-modeling.html#analysis-of-variance-anova"><i class="fa fa-check"></i><b>7.2</b> Analysis of Variance (ANOVA)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-6"><i class="fa fa-check"></i><b>7.2.1</b> Syntax</a></li>
<li class="chapter" data-level="7.2.2" data-path="c07-modeling.html"><a href="c07-modeling.html#example-1"><i class="fa fa-check"></i><b>7.2.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="c07-modeling.html"><a href="c07-modeling.html#normal-linear-regression"><i class="fa fa-check"></i><b>7.3</b> Normal Linear Regression</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-7"><i class="fa fa-check"></i><b>7.3.1</b> Syntax</a></li>
<li class="chapter" data-level="7.3.2" data-path="c07-modeling.html"><a href="c07-modeling.html#examples-7"><i class="fa fa-check"></i><b>7.3.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="c07-modeling.html"><a href="c07-modeling.html#logistic-regression"><i class="fa fa-check"></i><b>7.4</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="c07-modeling.html"><a href="c07-modeling.html#syntax-8"><i class="fa fa-check"></i><b>7.4.1</b> Syntax</a></li>
<li class="chapter" data-level="7.4.2" data-path="c07-modeling.html"><a href="c07-modeling.html#examples-8"><i class="fa fa-check"></i><b>7.4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="c07-modeling.html"><a href="c07-modeling.html#exercises-1"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Reporting</b></span></li>
<li class="chapter" data-level="8" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html"><i class="fa fa-check"></i><b>8</b> Communicating results</a>
<ul>
<li class="chapter" data-level="" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#prereq8"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="8.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#introduction-6"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#describing-results-through-text"><i class="fa fa-check"></i><b>8.2</b> Describing results through text</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#methodology-1"><i class="fa fa-check"></i><b>8.2.1</b> Methodology</a></li>
<li class="chapter" data-level="8.2.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#analysis"><i class="fa fa-check"></i><b>8.2.2</b> Analysis</a></li>
<li class="chapter" data-level="8.2.3" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#results"><i class="fa fa-check"></i><b>8.2.3</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#visualizing-data"><i class="fa fa-check"></i><b>8.3</b> Visualizing data</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#tables"><i class="fa fa-check"></i><b>8.3.1</b> Tables</a></li>
<li class="chapter" data-level="8.3.2" data-path="c08-communicating-results.html"><a href="c08-communicating-results.html#charts-and-plots"><i class="fa fa-check"></i><b>8.3.2</b> Charts and plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html"><i class="fa fa-check"></i><b>9</b> Reproducible research</a>
<ul>
<li class="chapter" data-level="9.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#introduction-7"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#project-based-workflows"><i class="fa fa-check"></i><b>9.2</b> Project-based workflows</a></li>
<li class="chapter" data-level="9.3" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#functions-and-packages"><i class="fa fa-check"></i><b>9.3</b> Functions and packages</a></li>
<li class="chapter" data-level="9.4" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#version-control-with-git"><i class="fa fa-check"></i><b>9.4</b> Version control with Git</a></li>
<li class="chapter" data-level="9.5" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#package-management-with-renv"><i class="fa fa-check"></i><b>9.5</b> Package management with {renv}</a></li>
<li class="chapter" data-level="9.6" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#r-environments-with-docker"><i class="fa fa-check"></i><b>9.6</b> R environments with Docker</a></li>
<li class="chapter" data-level="9.7" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#workflow-management-with-targets"><i class="fa fa-check"></i><b>9.7</b> Workflow management with {targets}</a></li>
<li class="chapter" data-level="9.8" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#documentation-with-quarto-and-r-markdown"><i class="fa fa-check"></i><b>9.8</b> Documentation with Quarto and R Markdown</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#parameterization"><i class="fa fa-check"></i><b>9.8.1</b> Parameterization</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#other-tips-for-reproducibility"><i class="fa fa-check"></i><b>9.9</b> Other tips for reproducibility</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#random-number-seeds"><i class="fa fa-check"></i><b>9.9.1</b> Random number seeds</a></li>
<li class="chapter" data-level="9.9.2" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#descriptive-names-and-labels"><i class="fa fa-check"></i><b>9.9.2</b> Descriptive names and labels</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="c09-reprex-data.html"><a href="c09-reprex-data.html#summary"><i class="fa fa-check"></i><b>9.10</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>IV Real life data</b></span></li>
<li class="chapter" data-level="10" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html"><i class="fa fa-check"></i><b>10</b> Specifying sample designs and replicate weights in {srvyr}</a>
<ul>
<li class="chapter" data-level="" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#prereq3"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="10.1" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#introduction-8"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#common-sampling-designs"><i class="fa fa-check"></i><b>10.2</b> Common sampling designs</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#simple-random-sample-without-replacement"><i class="fa fa-check"></i><b>10.2.1</b> Simple random sample without replacement</a></li>
<li class="chapter" data-level="10.2.2" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#simple-random-sample-with-replacement"><i class="fa fa-check"></i><b>10.2.2</b> Simple random sample with replacement</a></li>
<li class="chapter" data-level="10.2.3" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#stratified-sampling"><i class="fa fa-check"></i><b>10.2.3</b> Stratified sampling</a></li>
<li class="chapter" data-level="10.2.4" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#samp-cluster"><i class="fa fa-check"></i><b>10.2.4</b> Clustered sampling</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#samp-combo"><i class="fa fa-check"></i><b>10.3</b> Combining sampling methods</a>
<ul>
<li class="chapter" data-level="" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#example-6"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#replicate-weights"><i class="fa fa-check"></i><b>10.4</b> Replicate weights</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#balanced-repeated-replication-brr-method"><i class="fa fa-check"></i><b>10.4.1</b> Balanced Repeated Replication (BRR) method</a></li>
<li class="chapter" data-level="10.4.2" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#fays-brr-method"><i class="fa fa-check"></i><b>10.4.2</b> Fay’s BRR method</a></li>
<li class="chapter" data-level="10.4.3" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#jackknife-method"><i class="fa fa-check"></i><b>10.4.3</b> Jackknife method</a></li>
<li class="chapter" data-level="10.4.4" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#bootstrap-method"><i class="fa fa-check"></i><b>10.4.4</b> Bootstrap method</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="c10-specifying-sample-designs.html"><a href="c10-specifying-sample-designs.html#exercises-2"><i class="fa fa-check"></i><b>10.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="c11-missing-data.html"><a href="c11-missing-data.html"><i class="fa fa-check"></i><b>11</b> Missing data</a>
<ul>
<li class="chapter" data-level="" data-path="c11-missing-data.html"><a href="c11-missing-data.html#prereq11"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="11.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#introduction-9"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#missing-data-mechanisms"><i class="fa fa-check"></i><b>11.2</b> Missing data mechanisms</a></li>
<li class="chapter" data-level="11.3" data-path="c11-missing-data.html"><a href="c11-missing-data.html#assessing-missing-data"><i class="fa fa-check"></i><b>11.3</b> Assessing missing data</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#summarize-data"><i class="fa fa-check"></i><b>11.3.1</b> Summarize data</a></li>
<li class="chapter" data-level="11.3.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#visualization-of-missing-data"><i class="fa fa-check"></i><b>11.3.2</b> Visualization of missing data</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="c11-missing-data.html"><a href="c11-missing-data.html#analysis-with-missing-data"><i class="fa fa-check"></i><b>11.4</b> Analysis with missing data</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="c11-missing-data.html"><a href="c11-missing-data.html#recoding-missing-data"><i class="fa fa-check"></i><b>11.4.1</b> Recoding missing data</a></li>
<li class="chapter" data-level="11.4.2" data-path="c11-missing-data.html"><a href="c11-missing-data.html#accounting-for-skip-patterns"><i class="fa fa-check"></i><b>11.4.2</b> Accounting for skip patterns</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="c12-pitfalls.html"><a href="c12-pitfalls.html"><i class="fa fa-check"></i><b>12</b> Common pitfalls</a></li>
<li class="part"><span><b>V Vignettes</b></span></li>
<li class="chapter" data-level="13" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html"><i class="fa fa-check"></i><b>13</b> National Crime Victimization Survey Vignette</a>
<ul>
<li class="chapter" data-level="" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#prereq9"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="13.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#introduction-10"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#data-structure"><i class="fa fa-check"></i><b>13.2</b> Data Structure</a></li>
<li class="chapter" data-level="13.3" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#survey-notation"><i class="fa fa-check"></i><b>13.3</b> Survey Notation</a></li>
<li class="chapter" data-level="13.4" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#data-file-preparation"><i class="fa fa-check"></i><b>13.4</b> Data File Preparation</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#preparing-files-for-estimation-of-victimization-rates"><i class="fa fa-check"></i><b>13.4.1</b> Preparing Files for Estimation of Victimization Rates</a></li>
<li class="chapter" data-level="13.4.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#derived-demographic-variables"><i class="fa fa-check"></i><b>13.4.2</b> Derived Demographic Variables</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#survey-design-objects"><i class="fa fa-check"></i><b>13.5</b> Survey Design Objects</a></li>
<li class="chapter" data-level="13.6" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#calculating-estimates"><i class="fa fa-check"></i><b>13.6</b> Calculating Estimates</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-tot"><i class="fa fa-check"></i><b>13.6.1</b> Estimation 1: Victimization Totals</a></li>
<li class="chapter" data-level="13.6.2" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-prop"><i class="fa fa-check"></i><b>13.6.2</b> Estimation 2: Victimization Proportions</a></li>
<li class="chapter" data-level="13.6.3" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#vic-rate"><i class="fa fa-check"></i><b>13.6.3</b> Estimation 3: Victimization Rates</a></li>
<li class="chapter" data-level="13.6.4" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#prev-rate"><i class="fa fa-check"></i><b>13.6.4</b> Estimation 4: Prevalence Rates</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#statistical-testing"><i class="fa fa-check"></i><b>13.7</b> Statistical testing</a></li>
<li class="chapter" data-level="13.8" data-path="c13-ncvs-vignette.html"><a href="c13-ncvs-vignette.html#exercises-3"><i class="fa fa-check"></i><b>13.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html"><i class="fa fa-check"></i><b>14</b> AmericasBarometer Vignette</a>
<ul>
<li class="chapter" data-level="" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#prereq10"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="14.1" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#introduction-11"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#data-structure-1"><i class="fa fa-check"></i><b>14.2</b> Data structure</a></li>
<li class="chapter" data-level="14.3" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#preparing-files"><i class="fa fa-check"></i><b>14.3</b> Preparing files</a></li>
<li class="chapter" data-level="14.4" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#survey-design-objects-1"><i class="fa fa-check"></i><b>14.4</b> Survey design objects</a></li>
<li class="chapter" data-level="14.5" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#ambarom-estimates"><i class="fa fa-check"></i><b>14.5</b> Calculating estimates</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#example-worried-about-covid"><i class="fa fa-check"></i><b>14.5.1</b> Example: Worried about COVID</a></li>
<li class="chapter" data-level="14.5.2" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#example-education-affected-by-covid"><i class="fa fa-check"></i><b>14.5.2</b> Example: Education affected by COVID</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#ambarom-maps"><i class="fa fa-check"></i><b>14.6</b> Mapping survey data</a></li>
<li class="chapter" data-level="14.7" data-path="c14-ambarom-vignette.html"><a href="c14-ambarom-vignette.html#exercises-4"><i class="fa fa-check"></i><b>14.7</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="anes-cb.html"><a href="anes-cb.html"><i class="fa fa-check"></i><b>A</b> ANES Derived Variable Codebook</a>
<ul>
<li class="chapter" data-level="A.1" data-path="anes-cb.html"><a href="anes-cb.html#admin"><i class="fa fa-check"></i><b>A.1</b> ADMIN</a></li>
<li class="chapter" data-level="A.2" data-path="anes-cb.html"><a href="anes-cb.html#weights"><i class="fa fa-check"></i><b>A.2</b> WEIGHTS</a></li>
<li class="chapter" data-level="A.3" data-path="anes-cb.html"><a href="anes-cb.html#pre-election-survey-questionnaire"><i class="fa fa-check"></i><b>A.3</b> PRE-ELECTION SURVEY QUESTIONNAIRE</a></li>
<li class="chapter" data-level="A.4" data-path="anes-cb.html"><a href="anes-cb.html#post-election-survey-questionnaire"><i class="fa fa-check"></i><b>A.4</b> POST-ELECTION SURVEY QUESTIONNAIRE</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="recs-cb.html"><a href="recs-cb.html"><i class="fa fa-check"></i><b>B</b> RECS Derived Variable Codebook</a>
<ul>
<li class="chapter" data-level="B.1" data-path="recs-cb.html"><a href="recs-cb.html#admin-1"><i class="fa fa-check"></i><b>B.1</b> ADMIN</a></li>
<li class="chapter" data-level="B.2" data-path="recs-cb.html"><a href="recs-cb.html#geography"><i class="fa fa-check"></i><b>B.2</b> GEOGRAPHY</a></li>
<li class="chapter" data-level="B.3" data-path="recs-cb.html"><a href="recs-cb.html#weather"><i class="fa fa-check"></i><b>B.3</b> WEATHER</a></li>
<li class="chapter" data-level="B.4" data-path="recs-cb.html"><a href="recs-cb.html#your-home"><i class="fa fa-check"></i><b>B.4</b> YOUR HOME</a></li>
<li class="chapter" data-level="B.5" data-path="recs-cb.html"><a href="recs-cb.html#space-heating"><i class="fa fa-check"></i><b>B.5</b> SPACE HEATING</a></li>
<li class="chapter" data-level="B.6" data-path="recs-cb.html"><a href="recs-cb.html#air-conditioning"><i class="fa fa-check"></i><b>B.6</b> AIR CONDITIONING</a></li>
<li class="chapter" data-level="B.7" data-path="recs-cb.html"><a href="recs-cb.html#thermostat"><i class="fa fa-check"></i><b>B.7</b> THERMOSTAT</a></li>
<li class="chapter" data-level="B.8" data-path="recs-cb.html"><a href="recs-cb.html#weights-1"><i class="fa fa-check"></i><b>B.8</b> WEIGHTS</a></li>
<li class="chapter" data-level="B.9" data-path="recs-cb.html"><a href="recs-cb.html#consumption-and-expenditure"><i class="fa fa-check"></i><b>B.9</b> CONSUMPTION AND EXPENDITURE</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html"><i class="fa fa-check"></i><b>C</b> Importing survey data into R</a>
<ul>
<li class="chapter" data-level="C.1" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-delimiter-separated-files-into-r"><i class="fa fa-check"></i><b>C.1</b> Importing delimiter-separated files into R</a></li>
<li class="chapter" data-level="C.2" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#loading-excel-files-into-r"><i class="fa fa-check"></i><b>C.2</b> Loading Excel files into R</a></li>
<li class="chapter" data-level="C.3" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-stata-sas-and-spss-files-into-r"><i class="fa fa-check"></i><b>C.3</b> Importing Stata, SAS, and SPSS files into R</a>
<ul>
<li class="chapter" data-level="C.3.1" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#syntax-9"><i class="fa fa-check"></i><b>C.3.1</b> Syntax</a></li>
<li class="chapter" data-level="C.3.2" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#working-with-labeled-data"><i class="fa fa-check"></i><b>C.3.2</b> Working with labeled data</a></li>
<li class="chapter" data-level="C.3.3" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#labeled-missing-data-values"><i class="fa fa-check"></i><b>C.3.3</b> Labeled missing data values</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-apis-into-r"><i class="fa fa-check"></i><b>C.4</b> Importing data from APIs into R</a></li>
<li class="chapter" data-level="C.5" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#accessing-databases-in-r"><i class="fa fa-check"></i><b>C.5</b> Accessing databases in R</a></li>
<li class="chapter" data-level="C.6" data-path="importing-survey-data-into-r.html"><a href="importing-survey-data-into-r.html#importing-data-from-other-formats"><i class="fa fa-check"></i><b>C.6</b> Importing data from other formats</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploring Complex Survey Data Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="c07-modeling" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Modeling<a href="c07-modeling.html#c07-modeling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="prereq7" class="section level3 unnumbered hasAnchor prereqbox-header">
<h3>Prerequisites<a href="c07-modeling.html#prereq7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div class="prereqbox">
<p>For this chapter, load the following packages:</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="c07-modeling.html#cb288-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb288-2"><a href="c07-modeling.html#cb288-2" tabindex="-1"></a><span class="fu">library</span>(survey) </span>
<span id="cb288-3"><a href="c07-modeling.html#cb288-3" tabindex="-1"></a><span class="fu">library</span>(srvyr) </span>
<span id="cb288-4"><a href="c07-modeling.html#cb288-4" tabindex="-1"></a><span class="fu">library</span>(srvyrexploR)</span>
<span id="cb288-5"><a href="c07-modeling.html#cb288-5" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb288-6"><a href="c07-modeling.html#cb288-6" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb288-7"><a href="c07-modeling.html#cb288-7" tabindex="-1"></a><span class="fu">library</span>(prettyunits)</span></code></pre></div>
<p>We will be using data from ANES and RECS described in Chapter <a href="c04-getting-started.html#c04-getting-started">4</a>. As a reminder, here is the code to create the design objects for each to use throughout this chapter. For ANES, we need to adjust the weight so it sums to the population instead of the sample (see the ANES documentation and Chapter <a href="c04-getting-started.html#c04-getting-started">4</a> for more information).</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="c07-modeling.html#cb289-1" tabindex="-1"></a>targetpop <span class="ot">&lt;-</span> <span class="dv">231592693</span></span>
<span id="cb289-2"><a href="c07-modeling.html#cb289-2" tabindex="-1"></a><span class="fu">data</span>(anes_2020)</span>
<span id="cb289-3"><a href="c07-modeling.html#cb289-3" tabindex="-1"></a></span>
<span id="cb289-4"><a href="c07-modeling.html#cb289-4" tabindex="-1"></a>anes_adjwgt <span class="ot">&lt;-</span> anes_2020 <span class="sc">%&gt;%</span></span>
<span id="cb289-5"><a href="c07-modeling.html#cb289-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Weight =</span> Weight <span class="sc">/</span> <span class="fu">sum</span>(Weight) <span class="sc">*</span> targetpop)</span>
<span id="cb289-6"><a href="c07-modeling.html#cb289-6" tabindex="-1"></a></span>
<span id="cb289-7"><a href="c07-modeling.html#cb289-7" tabindex="-1"></a>anes_des <span class="ot">&lt;-</span> anes_adjwgt <span class="sc">%&gt;%</span></span>
<span id="cb289-8"><a href="c07-modeling.html#cb289-8" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb289-9"><a href="c07-modeling.html#cb289-9" tabindex="-1"></a>    <span class="at">weights =</span> Weight,</span>
<span id="cb289-10"><a href="c07-modeling.html#cb289-10" tabindex="-1"></a>    <span class="at">strata =</span> Stratum,</span>
<span id="cb289-11"><a href="c07-modeling.html#cb289-11" tabindex="-1"></a>    <span class="at">ids =</span> VarUnit,</span>
<span id="cb289-12"><a href="c07-modeling.html#cb289-12" tabindex="-1"></a>    <span class="at">nest =</span> <span class="cn">TRUE</span></span>
<span id="cb289-13"><a href="c07-modeling.html#cb289-13" tabindex="-1"></a>  )</span></code></pre></div>
<p>For RECS, details are included in the RECS documentation and Chapters <a href="c04-getting-started.html#c04-getting-started">4</a> and <a href="c10-specifying-sample-designs.html#c10-specifying-sample-designs">10</a>.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="c07-modeling.html#cb290-1" tabindex="-1"></a><span class="fu">data</span>(recs_2020)</span>
<span id="cb290-2"><a href="c07-modeling.html#cb290-2" tabindex="-1"></a></span>
<span id="cb290-3"><a href="c07-modeling.html#cb290-3" tabindex="-1"></a>recs_des <span class="ot">&lt;-</span> recs_2020 <span class="sc">%&gt;%</span></span>
<span id="cb290-4"><a href="c07-modeling.html#cb290-4" tabindex="-1"></a>  <span class="fu">as_survey_rep</span>(</span>
<span id="cb290-5"><a href="c07-modeling.html#cb290-5" tabindex="-1"></a>    <span class="at">weights =</span> NWEIGHT,</span>
<span id="cb290-6"><a href="c07-modeling.html#cb290-6" tabindex="-1"></a>    <span class="at">repweights =</span> NWEIGHT1<span class="sc">:</span>NWEIGHT60,</span>
<span id="cb290-7"><a href="c07-modeling.html#cb290-7" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&quot;JK1&quot;</span>,</span>
<span id="cb290-8"><a href="c07-modeling.html#cb290-8" tabindex="-1"></a>    <span class="at">scale =</span> <span class="dv">59</span><span class="sc">/</span><span class="dv">60</span>,</span>
<span id="cb290-9"><a href="c07-modeling.html#cb290-9" tabindex="-1"></a>    <span class="at">mse =</span> <span class="cn">TRUE</span></span>
<span id="cb290-10"><a href="c07-modeling.html#cb290-10" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="model-intro" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Introduction<a href="c07-modeling.html#model-intro" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Modeling data is a way for researchers to investigate the relationship between a single dependent variable and one or more independent variables. This builds upon the analyses conducted in Chapter <a href="c06-statistical-testing.html#c06-statistical-testing">6</a>, which looked at the relationships between just two variables. For example, in Example 3 in Section <a href="c06-statistical-testing.html#stattest-ttest-examples">6.3.2</a>, we investigated if there is a relationship between the electrical bill cost and whether or not the household used air-conditioning. However, there are potentially other elements that could go into what the cost of electrical bills are in a household (e.g., outside temperature, desired internal temperature, types and number of appliances, etc.).</p>
<p>T-tests only allow us to investigate the relationship of one independent variable at a time, but using models we can look into multiple variables and even explore interactions between these variables. There are several types of models, but in this chapter we will cover Analysis of Variance (ANOVA) and linear regression models following common normal (Gaussian) and logit models. Jonas Kristoffer Lindeløv has an interesting <a href="https://lindeloev.github.io/tests-as-linear/">discussion</a> of many statistical tests and models being equivalent to a linear model. For example, a one-way ANOVA is a linear model with one categorical independent variable, and a two-sample t-test is an ANOVA where the independent variable has exactly two levels.</p>
<p>When modeling data, it is helpful to first create an equation that provides an overview as to what it is that we are modeling. The main structure of these models is as follows:</p>
<p><span class="math display">\[y_i=\beta_0 +\sum_{i=1}^p \beta_i x_i + \epsilon_i\]</span></p>
<p>where <span class="math inline">\(y_i\)</span> is the outcome, <span class="math inline">\(\beta_0\)</span> is an intercept, <span class="math inline">\(x_1, \cdots, x_p\)</span> are the predictors with <span class="math inline">\(\beta_1, \cdots, \beta_p\)</span> as the associated coefficients, and <span class="math inline">\(\epsilon_i\)</span> is the error. Not all models will have all components. For example, some models may not include an intercept (<span class="math inline">\(\beta_0\)</span>), may have interactions between different independent variables (<span class="math inline">\(x_i\)</span>), or may have different underlying structures for the dependent variable (<span class="math inline">\(y_i\)</span>). However, all linear models have the independent variables related to the dependent variable in a linear form.</p>
<p>To specify these models in R, the formulas are the same with both survey data and other data. The left side of the formula is the response/dependent variable, and the right side of the formula has the predictor/independent variable(s). There are many symbols used in R to specify the formula.</p>
<p>For example, a linear formula mathematically notated as</p>
<p><span class="math display">\[y_i=\beta_0+\beta_1 x_i+\epsilon_i\]</span> would be specified in R as <code>y~x</code> where the intercept is not explicitly included. To fit a model with no intercept, that is,</p>
<p><span class="math display">\[y_i=\beta_1 x_i+\epsilon_i\]</span>
it can be specified in R as <code>y~x-1</code>. Formula notation details in R can be found in the help file for formula<a href="#fn26" class="footnote-ref" id="fnref26"><sup>26</sup></a>. A quick overview of the common formula notation is in Table <a href="c07-modeling.html#tab:notation-common">7.1</a>:</p>
<table>
<caption><span id="tab:notation-common">TABLE 7.1: </span> Common symbols in formula notation</caption>
<colgroup>
<col width="12%" />
<col width="16%" />
<col width="71%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Symbol</th>
<th align="center">Example</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">+</td>
<td align="center"><code>+x</code></td>
<td>include this variable</td>
</tr>
<tr class="even">
<td align="center">-</td>
<td align="center"><code>-x</code></td>
<td>delete this variable</td>
</tr>
<tr class="odd">
<td align="center">:</td>
<td align="center"><code>x:z</code></td>
<td>include the interaction between these variables</td>
</tr>
<tr class="even">
<td align="center">*</td>
<td align="center"><code>x*z</code></td>
<td>include these variables and the interactions between them</td>
</tr>
<tr class="odd">
<td align="center"><code>^n</code></td>
<td align="center"><code>(x+y+z)^3</code></td>
<td>include these variables and all interactions up to n-way</td>
</tr>
<tr class="even">
<td align="center">I</td>
<td align="center"><code>I(x-z)</code></td>
<td>as-is: include a new variable which is calculated inside the parentheses (e.g., x-z, x*z, x/z are possible claculations that could be done)</td>
</tr>
</tbody>
</table>
<p>There are often multiple ways to specify the same formula. For example, consider the following equation using the <code>mtcars</code> dataset that is built into R:</p>
<p><span class="math display">\[mpg_i=\beta_0+\beta_1cyl_{i}+\beta_2disp_{i}+\beta_3hp_{i}+\beta_4cyl_{i}disp_{i}+\beta_5cyl_{i}hp_{i}+\beta_6disp_{i}hp_{i}+\epsilon_i\]</span></p>
<p>This could be specified in R code as any of the following:</p>
<ul>
<li><code>mpg ~ (cyl + disp + hp)^2</code></li>
<li><code>mpg ~ cyl + disp + hp + cyl:disp + cyl:hp + disp:hp</code></li>
<li><code>mpg ~ cyl*disp + cyl*hp + disp*hp</code></li>
</ul>
<p>In the above options, the way the <code>:</code> and <code>*</code> notation are implemented are different. Using <code>:</code> only includes the interactions and not the main effects, while using <code>*</code> includes the main effects and all possible interactions. Table <a href="c07-modeling.html#tab:notation-diffs">7.2</a> provides an overview of the syntax and differences between the two notations.</p>
<table>
<caption><span id="tab:notation-diffs">TABLE 7.2: </span> Differences in formulas for <code>:</code> and <code>*</code> code syntax</caption>
<colgroup>
<col width="12%" />
<col width="16%" />
<col width="71%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Symbol</th>
<th align="center">Syntax</th>
<th>Formula</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">:</td>
<td align="center"><code>mpg ~ cyl:disp:hp</code></td>
<td><span class="math display">\[ \begin{aligned} mpg_i = &amp;\beta_0+\beta_4cyl_{i}disp_{i}+\beta_5cyl_{i}hp_{i}+ \\&amp; \beta_6disp_{i}hp_{i}+\epsilon_i\end{aligned}\]</span></td>
</tr>
<tr class="even">
<td align="center">*</td>
<td align="center"><code>mpg ~ cyl*disp*hp</code></td>
<td><span class="math display">\[ \begin{aligned} mpg_i= &amp;\beta_0+\beta_1cyl_{i}+\beta_2disp_{i}+\beta_3hp_{i}+\\&amp;        \beta_4cyl_{i}disp_{i}+\beta_5cyl_{i}hp_{i}+\beta_6disp_{i}hp_{i}+\\&amp;\beta_7cyl_{i}disp_{i}hp_{i}+\epsilon_i\end{aligned}\]</span></td>
</tr>
</tbody>
</table>
<p>When using non-survey data such as experimental or observational data, researchers will use the <code>glm()</code> function for linear models. With survey data, however, we use <code>svyglm()</code> from the {survey} package to ensure that we account for the survey design and weights in modeling<a href="#fn27" class="footnote-ref" id="fnref27"><sup>27</sup></a>. This allows us to generalize a model to the target population and accounts for the fact that the observations in the survey data may not be independent. As discussed in Chapter <a href="c06-statistical-testing.html#c06-statistical-testing">6</a>, modeling survey data cannot be directly done in {srvyr}, but can be done in the {survey} package <span class="citation">(<a href="#ref-lumley2010complex">Lumley 2010</a>, <a href="#ref-R-survey">2023</a>)</span>. In this chapter, we will provide syntax and examples for linear models, including ANOVA, normal linear regression, and logistic regression. For details on other types of regression, including ordinal regression, log-linear models, and survival analysis, refer to <span class="citation">Lumley (<a href="#ref-lumley2010complex">2010</a>)</span>. <span class="citation">Lumley (<a href="#ref-lumley2010complex">2010</a>)</span> also discusses custom models such as a negative binomial or Poisson model in Appendix E of his book.</p>
</div>
<div id="analysis-of-variance-anova" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Analysis of Variance (ANOVA)<a href="c07-modeling.html#analysis-of-variance-anova" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In ANOVA, we are testing whether the mean of an outcome is the same across two or more groups. Statistically, we set up this as follows:</p>
<ul>
<li><span class="math inline">\(H_0: \mu_1 = \mu_2= \dots = \mu_k\)</span> where <span class="math inline">\(\mu_i\)</span> is the mean outcome for group <span class="math inline">\(i\)</span></li>
<li><span class="math inline">\(H_A: \text{At least one mean is different}\)</span></li>
</ul>
<p>Using the framework, an ANOVA test is also a linear model, we can re-frame the problem as:</p>
<p><span class="math display">\[ y_i=\sum_{i=1}^k \mu_i x_i + \epsilon_i\]</span></p>
<p>where <span class="math inline">\(x_i\)</span> is a group indicator for groups <span class="math inline">\(1, \cdots, k\)</span>.</p>
<p>Some assumptions when using ANOVA on survey data include:</p>
<ul>
<li>The outcome variable is normally distributed within each group</li>
<li>The variances of the outcome variable between each group are approximately equal</li>
<li>We do NOT assume independence between the groups as with ANOVA on non-survey data. The covariance is accounted for in the survey design</li>
</ul>
<div id="syntax-6" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Syntax<a href="c07-modeling.html#syntax-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To perform this type of analysis in R, the general syntax is as follows:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="c07-modeling.html#cb291-1" tabindex="-1"></a>des_obj <span class="sc">%&gt;%</span></span>
<span id="cb291-2"><a href="c07-modeling.html#cb291-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb291-3"><a href="c07-modeling.html#cb291-3" tabindex="-1"></a>    <span class="at">formula =</span> outcome <span class="sc">~</span> group,</span>
<span id="cb291-4"><a href="c07-modeling.html#cb291-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb291-5"><a href="c07-modeling.html#cb291-5" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit,</span>
<span id="cb291-6"><a href="c07-modeling.html#cb291-6" tabindex="-1"></a>    <span class="at">df.resid =</span> <span class="cn">NULL</span></span>
<span id="cb291-7"><a href="c07-modeling.html#cb291-7" tabindex="-1"></a>  )</span></code></pre></div>
<p>The arguments are:</p>
<ul>
<li><code>formula</code>: Formula in the form of <code>outcome~group</code>. The group variable must be a factor or character.</li>
<li><code>design</code>: a <code>tbl_svy</code> object created by <code>as_survey</code></li>
<li><code>na.action</code>: handling of missing data</li>
<li><code>df.resid</code>: degrees of freedom for Wald tests (optional) - defaults to using <code>degf(design)-(g-1)</code> where <span class="math inline">\(g\)</span> is the number of groups</li>
</ul>
<p>The function <code>svyglm()</code> does not have the design as the first argument so the dot (<code>.</code>) notation is used to pass it with a pipe (see Chapter <a href="c06-statistical-testing.html#c06-statistical-testing">6</a> for more details). The default for missing data is <code>na.omit</code>, this means that we are removing all records with any missing data in either predictors or outcomes from analyses. There are other options for handling missing data and we recommend looking at the help documentation for <code>na.omit</code> (run <code>help(na.omit)</code> or <code>?na.omit</code>) for more information on options to use for <code>na.action</code>. For a discussion of how to handle missing data see Chapter <a href="c11-missing-data.html#c11-missing-data">11</a>.</p>
</div>
<div id="example-1" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Example<a href="c07-modeling.html#example-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Looking at an example will help us discuss the output and how to interpret the results. In RECS, respondents are asked what temperature they set their thermostat to during the day and evening when using the air-conditioning during the summer. To analyze this data, we filter the respondents to only those using AC (<code>ACUsed</code>). Then if we want to see if there are differences by region, we can use <code>group_by()</code>. A descriptive analysis of the temperature at night (<code>SummerTempNight</code>) set by region and the sample sizes is displayed below.</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="c07-modeling.html#cb292-1" tabindex="-1"></a>recs_des <span class="sc">%&gt;%</span></span>
<span id="cb292-2"><a href="c07-modeling.html#cb292-2" tabindex="-1"></a>  <span class="fu">filter</span>(ACUsed) <span class="sc">%&gt;%</span></span>
<span id="cb292-3"><a href="c07-modeling.html#cb292-3" tabindex="-1"></a>  <span class="fu">group_by</span>(Region) <span class="sc">%&gt;%</span></span>
<span id="cb292-4"><a href="c07-modeling.html#cb292-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb292-5"><a href="c07-modeling.html#cb292-5" tabindex="-1"></a>    <span class="at">SMN =</span> <span class="fu">survey_mean</span>(SummerTempNight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb292-6"><a href="c07-modeling.html#cb292-6" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">unweighted</span>(<span class="fu">n</span>()),</span>
<span id="cb292-7"><a href="c07-modeling.html#cb292-7" tabindex="-1"></a>    <span class="at">n_na =</span> <span class="fu">unweighted</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(SummerTempNight)))</span>
<span id="cb292-8"><a href="c07-modeling.html#cb292-8" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 4 × 5
##   Region      SMN SMN_se     n  n_na
##   &lt;fct&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
## 1 Northeast  69.7 0.103   3204     0
## 2 Midwest    71.0 0.0897  3619     0
## 3 South      71.8 0.0536  6065     0
## 4 West       72.5 0.129   3283     0</code></pre>
<p>In the following code, we test whether this temperature varies by region by first using <code>svyglm()</code> to run the test and then using <code>broom::tidy()</code> to display the output. Note that the temperature setting is set to NA when the household does not use air-conditioning, and since the default handling of NAs is <code>na.action=na.omit</code>, records that do not use air-conditioning will not be included in this regression.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="c07-modeling.html#cb294-1" tabindex="-1"></a>anova_out <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb294-2"><a href="c07-modeling.html#cb294-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(<span class="at">design =</span> .,</span>
<span id="cb294-3"><a href="c07-modeling.html#cb294-3" tabindex="-1"></a>         <span class="at">formula =</span> SummerTempNight <span class="sc">~</span> Region)</span>
<span id="cb294-4"><a href="c07-modeling.html#cb294-4" tabindex="-1"></a></span>
<span id="cb294-5"><a href="c07-modeling.html#cb294-5" tabindex="-1"></a><span class="fu">tidy</span>(anova_out)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 5
##   term          estimate std.error statistic   p.value
##   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)      69.7      0.103    674.   3.69e-111
## 2 RegionMidwest     1.34     0.138      9.68 1.46e- 13
## 3 RegionSouth       2.05     0.128     16.0  1.36e- 22
## 4 RegionWest        2.80     0.177     15.9  2.27e- 22</code></pre>
<p>In the output above, we can see the estimated coefficients (<code>estimate</code>), estimated standard errors of the coefficients (<code>std.error</code>), the t-statistic (<code>statistic</code>), and the p-value for each coefficient. In this output, the intercept represents the reference value of the Northeast region. The other coefficients indicate the difference in temperature relative to the Northeast region. For example, in the Midwest, temperatures are set, on average, 1.34 (p-value&lt;0.0001) degrees higher than in the Northeast during summer nights and each region sets their thermostats at significantly higher temperatures than the Northeast.</p>
<p>If we wanted to change the reference value we would reorder the factor before modeling using the function <code>relevel()</code> from {stats} or using one of many factor ordering functions in {forcats} such as <code>fct_relevel()</code> or <code>fct_infreq()</code>. For example, if we wanted the reference level to be the Midwest region, we could use the following code. Note the usage of the <code>gt()</code> function on top of <code>tidy()</code> to print a nice looking output table - we will go over more usage of this package in Chapter <a href="c08-communicating-results.html#c08-communicating-results">8</a>.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="c07-modeling.html#cb296-1" tabindex="-1"></a>anova_out_relevel <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb296-2"><a href="c07-modeling.html#cb296-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Region=</span><span class="fu">fct_relevel</span>(Region, <span class="st">&quot;Midwest&quot;</span>, <span class="at">after =</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb296-3"><a href="c07-modeling.html#cb296-3" tabindex="-1"></a>  <span class="fu">svyglm</span>(<span class="at">design =</span> .,</span>
<span id="cb296-4"><a href="c07-modeling.html#cb296-4" tabindex="-1"></a>         <span class="at">formula =</span> SummerTempNight <span class="sc">~</span> Region)</span></code></pre></div>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="c07-modeling.html#cb297-1" tabindex="-1"></a><span class="fu">tidy</span>(anova_out_relevel) <span class="sc">%&gt;%</span></span>
<span id="cb297-2"><a href="c07-modeling.html#cb297-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value=</span><span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb297-3"><a href="c07-modeling.html#cb297-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb297-4"><a href="c07-modeling.html#cb297-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="eucmfsycjw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#eucmfsycjw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#eucmfsycjw thead, #eucmfsycjw tbody, #eucmfsycjw tfoot, #eucmfsycjw tr, #eucmfsycjw td, #eucmfsycjw th {
  border-style: none;
}

#eucmfsycjw p {
  margin: 0;
  padding: 0;
}

#eucmfsycjw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#eucmfsycjw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#eucmfsycjw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#eucmfsycjw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#eucmfsycjw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eucmfsycjw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eucmfsycjw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eucmfsycjw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#eucmfsycjw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#eucmfsycjw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#eucmfsycjw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#eucmfsycjw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#eucmfsycjw .gt_spanner_row {
  border-bottom-style: hidden;
}

#eucmfsycjw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#eucmfsycjw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#eucmfsycjw .gt_from_md > :first-child {
  margin-top: 0;
}

#eucmfsycjw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#eucmfsycjw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#eucmfsycjw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#eucmfsycjw .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#eucmfsycjw .gt_row_group_first td {
  border-top-width: 2px;
}

#eucmfsycjw .gt_row_group_first th {
  border-top-width: 2px;
}

#eucmfsycjw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eucmfsycjw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#eucmfsycjw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#eucmfsycjw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eucmfsycjw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eucmfsycjw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#eucmfsycjw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#eucmfsycjw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#eucmfsycjw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eucmfsycjw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eucmfsycjw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eucmfsycjw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eucmfsycjw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eucmfsycjw .gt_left {
  text-align: left;
}

#eucmfsycjw .gt_center {
  text-align: center;
}

#eucmfsycjw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#eucmfsycjw .gt_font_normal {
  font-weight: normal;
}

#eucmfsycjw .gt_font_bold {
  font-weight: bold;
}

#eucmfsycjw .gt_font_italic {
  font-style: italic;
}

#eucmfsycjw .gt_super {
  font-size: 65%;
}

#eucmfsycjw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#eucmfsycjw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#eucmfsycjw .gt_indent_1 {
  text-indent: 5px;
}

#eucmfsycjw .gt_indent_2 {
  text-indent: 10px;
}

#eucmfsycjw .gt_indent_3 {
  text-indent: 15px;
}

#eucmfsycjw .gt_indent_4 {
  text-indent: 20px;
}

#eucmfsycjw .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:model-anova-ex-tab">TABLE 7.3: </span>ANOVA output for estimates of thermostat temperature setting at night by region with Midwest as the reference region, RECS 2020</caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="term">term</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="std.error">std.error</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="term" class="gt_row gt_left">(Intercept)</td>
<td headers="estimate" class="gt_row gt_right">71.04</td>
<td headers="std.error" class="gt_row gt_right">0.09</td>
<td headers="statistic" class="gt_row gt_right">791.83</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionNortheast</td>
<td headers="estimate" class="gt_row gt_right">−1.34</td>
<td headers="std.error" class="gt_row gt_right">0.14</td>
<td headers="statistic" class="gt_row gt_right">−9.68</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionSouth</td>
<td headers="estimate" class="gt_row gt_right">0.71</td>
<td headers="std.error" class="gt_row gt_right">0.10</td>
<td headers="statistic" class="gt_row gt_right">6.91</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionWest</td>
<td headers="estimate" class="gt_row gt_right">1.47</td>
<td headers="std.error" class="gt_row gt_right">0.16</td>
<td headers="statistic" class="gt_row gt_right">9.17</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
  </tbody>
  
  
</table>
</div>
<p>This output now has the coefficients indicating the difference in temperature relative to the Midwest region. For example, in the Northeast, temperatures are set, on average, -1.34 (p-value&lt;0.0001) degrees lower than in the Midwest during summer nights and each region sets their thermostats at significantly lower temperatures than the Midwest. This is the reverse from what we saw in the prior model as we are still comparing the same two regions, just from different reference points.</p>
</div>
</div>
<div id="normal-linear-regression" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Normal Linear Regression<a href="c07-modeling.html#normal-linear-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Normal linear regression is a more generalized method than ANOVA where we fit a model of a continuous outcome with any number of categorical or continuous predictors whereas ANOVA only has categorical predictors and is similarly specified as:</p>
<span class="math display" id="eq:normallin">\[\begin{equation}
y_i=\beta_0 +\sum_{i=1}^p \beta_i x_i + \epsilon_i
\tag{7.1}
\end{equation}\]</span>
<p>where <span class="math inline">\(y_i\)</span> is the outcome, <span class="math inline">\(\beta_0\)</span> is an intercept, <span class="math inline">\(x_1, \cdots, x_n\)</span> are the predictors with <span class="math inline">\(\beta_1, \cdots, \beta_p\)</span> as the associated coefficients, and <span class="math inline">\(\epsilon_i\)</span> is the error.</p>
<p>Assumptions in normal linear regression using survey data include:</p>
<ul>
<li>The residuals (<span class="math inline">\(\epsilon_i\)</span>) are normally distributed, but there is not an assumption of independence, and the correlation structure is captured in the survey design object</li>
<li>There is a linear relationship between the outcome variable and the independent variables</li>
<li>The residuals are homoscedastic, that is, the error term is the same across all values of independent variables</li>
</ul>
<div id="syntax-7" class="section level3 hasAnchor" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Syntax<a href="c07-modeling.html#syntax-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The syntax for this regression uses the same function as ANOVA, but can have more than one variable listed on the right-hand side of the formula:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="c07-modeling.html#cb298-1" tabindex="-1"></a>des_obj <span class="sc">%&gt;%</span></span>
<span id="cb298-2"><a href="c07-modeling.html#cb298-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb298-3"><a href="c07-modeling.html#cb298-3" tabindex="-1"></a>    <span class="at">formula =</span> outcomevar <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x3,</span>
<span id="cb298-4"><a href="c07-modeling.html#cb298-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb298-5"><a href="c07-modeling.html#cb298-5" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit,</span>
<span id="cb298-6"><a href="c07-modeling.html#cb298-6" tabindex="-1"></a>    <span class="at">df.resid =</span> <span class="cn">NULL</span></span>
<span id="cb298-7"><a href="c07-modeling.html#cb298-7" tabindex="-1"></a>  )</span></code></pre></div>
<p>The arguments are:</p>
<ul>
<li><code>formula</code>: Formula in the form of <code>y~x</code></li>
<li><code>design</code>: a <code>tbl_svy</code> object created by <code>as_survey</code></li>
<li><code>na.action</code>: handling of missing data</li>
<li><code>df.resid</code>: degrees of freedom for Wald tests (optional) - defaults to using <code>degf(design)-p</code> where <span class="math inline">\(p\)</span> is the rank of the design matrix</li>
</ul>
<p>As discussed in Section <a href="c07-modeling.html#model-intro">7.1</a>, the formula on the right-hand side can be specified in many ways, whether interactions are desired or not, for example.</p>
</div>
<div id="examples-7" class="section level3 hasAnchor" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Examples<a href="c07-modeling.html#examples-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="example-1-linear-regression-with-single-variable" class="section level4 unnumbered hasAnchor">
<h4>Example 1: Linear Regression with Single Variable<a href="c07-modeling.html#example-1-linear-regression-with-single-variable" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>On RECS, we can obtain information on the square footage of homes and the electric bills. We assume that square footage is related to the amount of money spent on electricity and examine a model for this. Before any modeling, we first plot the data to determine whether it is reasonable to assume a linear relationship. In Figure <a href="c07-modeling.html#fig:model-plot-sf-elbill">7.1</a>, each hexagon represents the weighted count of households in the bin, and we can see a general positive linear trend (as the square footage increases so does the amount of money spent on electricity).</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="c07-modeling.html#cb299-1" tabindex="-1"></a>recs_2020 <span class="sc">%&gt;%</span></span>
<span id="cb299-2"><a href="c07-modeling.html#cb299-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb299-3"><a href="c07-modeling.html#cb299-3" tabindex="-1"></a>    <span class="at">x =</span> TOTSQFT_EN,</span>
<span id="cb299-4"><a href="c07-modeling.html#cb299-4" tabindex="-1"></a>    <span class="at">y =</span> DOLLAREL,</span>
<span id="cb299-5"><a href="c07-modeling.html#cb299-5" tabindex="-1"></a>    <span class="at">weight =</span> NWEIGHT <span class="sc">/</span> <span class="dv">1000000</span></span>
<span id="cb299-6"><a href="c07-modeling.html#cb299-6" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb299-7"><a href="c07-modeling.html#cb299-7" tabindex="-1"></a>  <span class="fu">geom_hex</span>() <span class="sc">+</span></span>
<span id="cb299-8"><a href="c07-modeling.html#cb299-8" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb299-9"><a href="c07-modeling.html#cb299-9" tabindex="-1"></a>    <span class="at">guide =</span> <span class="st">&quot;colorbar&quot;</span>,</span>
<span id="cb299-10"><a href="c07-modeling.html#cb299-10" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Housing Units</span><span class="sc">\n</span><span class="st">(Millions)&quot;</span>,</span>
<span id="cb299-11"><a href="c07-modeling.html#cb299-11" tabindex="-1"></a>    <span class="at">labels =</span> scales<span class="sc">::</span>comma,</span>
<span id="cb299-12"><a href="c07-modeling.html#cb299-12" tabindex="-1"></a>    <span class="at">colors =</span> book_colors[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)]</span>
<span id="cb299-13"><a href="c07-modeling.html#cb299-13" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb299-14"><a href="c07-modeling.html#cb299-14" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Total square footage&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Amount spent on electricity&quot;</span>) <span class="sc">+</span></span>
<span id="cb299-15"><a href="c07-modeling.html#cb299-15" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb299-16"><a href="c07-modeling.html#cb299-16" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>()) <span class="sc">+</span></span>
<span id="cb299-17"><a href="c07-modeling.html#cb299-17" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-plot-sf-elbill"></span>
<img src="bookdown_files/figure-html/model-plot-sf-elbill-1.png" alt="Hex chart where each hexagon represents a number of housing units at a point. x-axis is 'Total square footage' ranging from 0 to 7,500 and y-axis is 'Amount spent on electricity' ranging from $0 to 8,000. The trend is relatively linear and positve. A high concentration of points have square footage between 0 and 2,500 square feet as well as between electricity expenditure between $0 and 2,000" width="672" />
<p class="caption">
FIGURE 7.1: Relationship between square footage and dollars spent on electricity, RECS 2020
</p>
</div>
<p>Given that the plot shows a potential increasing relationship between square footage and electricity expenditure, fitting a model will allow us to determine if the relationship is statistically significant. The model is fit below with electricity expenditure as the outcome.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="c07-modeling.html#cb300-1" tabindex="-1"></a>m_electric_sqft <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb300-2"><a href="c07-modeling.html#cb300-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(<span class="at">design =</span> .,</span>
<span id="cb300-3"><a href="c07-modeling.html#cb300-3" tabindex="-1"></a>         <span class="at">formula =</span> DOLLAREL <span class="sc">~</span> TOTSQFT_EN,</span>
<span id="cb300-4"><a href="c07-modeling.html#cb300-4" tabindex="-1"></a>         <span class="at">na.action =</span> na.omit)</span></code></pre></div>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="c07-modeling.html#cb301-1" tabindex="-1"></a><span class="fu">tidy</span>(m_electric_sqft) <span class="sc">%&gt;%</span></span>
<span id="cb301-2"><a href="c07-modeling.html#cb301-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value=</span><span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb301-3"><a href="c07-modeling.html#cb301-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb301-4"><a href="c07-modeling.html#cb301-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="zcebsaptal" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zcebsaptal table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zcebsaptal thead, #zcebsaptal tbody, #zcebsaptal tfoot, #zcebsaptal tr, #zcebsaptal td, #zcebsaptal th {
  border-style: none;
}

#zcebsaptal p {
  margin: 0;
  padding: 0;
}

#zcebsaptal .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zcebsaptal .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zcebsaptal .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zcebsaptal .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zcebsaptal .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zcebsaptal .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zcebsaptal .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zcebsaptal .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zcebsaptal .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zcebsaptal .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zcebsaptal .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zcebsaptal .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zcebsaptal .gt_spanner_row {
  border-bottom-style: hidden;
}

#zcebsaptal .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zcebsaptal .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zcebsaptal .gt_from_md > :first-child {
  margin-top: 0;
}

#zcebsaptal .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zcebsaptal .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zcebsaptal .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zcebsaptal .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zcebsaptal .gt_row_group_first td {
  border-top-width: 2px;
}

#zcebsaptal .gt_row_group_first th {
  border-top-width: 2px;
}

#zcebsaptal .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zcebsaptal .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zcebsaptal .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zcebsaptal .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zcebsaptal .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zcebsaptal .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zcebsaptal .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zcebsaptal .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zcebsaptal .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zcebsaptal .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zcebsaptal .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zcebsaptal .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zcebsaptal .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zcebsaptal .gt_left {
  text-align: left;
}

#zcebsaptal .gt_center {
  text-align: center;
}

#zcebsaptal .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zcebsaptal .gt_font_normal {
  font-weight: normal;
}

#zcebsaptal .gt_font_bold {
  font-weight: bold;
}

#zcebsaptal .gt_font_italic {
  font-style: italic;
}

#zcebsaptal .gt_super {
  font-size: 65%;
}

#zcebsaptal .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zcebsaptal .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zcebsaptal .gt_indent_1 {
  text-indent: 5px;
}

#zcebsaptal .gt_indent_2 {
  text-indent: 10px;
}

#zcebsaptal .gt_indent_3 {
  text-indent: 15px;
}

#zcebsaptal .gt_indent_4 {
  text-indent: 20px;
}

#zcebsaptal .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:model-slr-examp-tab">TABLE 7.4: </span>Linear regression output predicting electricity expenditure given square footage, RECS 2020</caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="term">term</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="std.error">std.error</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="term" class="gt_row gt_left">(Intercept)</td>
<td headers="estimate" class="gt_row gt_right">836.72</td>
<td headers="std.error" class="gt_row gt_right">12.77</td>
<td headers="statistic" class="gt_row gt_right">65.51</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">TOTSQFT_EN</td>
<td headers="estimate" class="gt_row gt_right">0.30</td>
<td headers="std.error" class="gt_row gt_right">0.01</td>
<td headers="statistic" class="gt_row gt_right">41.67</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
  </tbody>
  
  
</table>
</div>
<p>In the output above, we can see the estimated coefficients (<code>estimate</code>), estimated standard errors of the coefficients (<code>std.error</code>), the t-statistic (<code>statistic</code>), and the p-value for each coefficient. In these results, we can say that, on average, for every additional square foot of house size, the electricity bill increases by 29.9 cents and that square footage is significantly associated with electricity expenditure (p-value&lt;0.0001).</p>
<p>This is a very simple model, and there are likely many more factors related to electricity expenditure, including the type of cooling, number of appliances, location, and more. However, starting with one variable models can help researchers understand what potential relationships there are between variables before fitting more complex models. Often researchers start with known relationships before building models to determine what impact additional variables have on the model.</p>
</div>
<div id="example-2-linear-regression-with-multiple-variables-and-interactions" class="section level4 unnumbered hasAnchor">
<h4>Example 2: Linear Regression with Multiple Variables and Interactions<a href="c07-modeling.html#example-2-linear-regression-with-multiple-variables-and-interactions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the following example, a model is fit to predict electricity expenditure, including Census region (factor/categorical), urbanicity (factor/categorical), square footage (double/numeric), and whether air-conditioning is used (logical/categorical) with all two-way interactions also included. In this example, we are choosing to fit this model without an intercept (using <code>-1</code> in the formula). This will result in an intercept estimate for each region instead of a single intercept for all data.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="c07-modeling.html#cb302-1" tabindex="-1"></a>m_electric_multi <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb302-2"><a href="c07-modeling.html#cb302-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb302-3"><a href="c07-modeling.html#cb302-3" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb302-4"><a href="c07-modeling.html#cb302-4" tabindex="-1"></a>    <span class="at">formula =</span> DOLLAREL <span class="sc">~</span> (Region <span class="sc">+</span> Urbanicity <span class="sc">+</span> TOTSQFT_EN <span class="sc">+</span> ACUsed)<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> <span class="dv">1</span>, </span>
<span id="cb302-5"><a href="c07-modeling.html#cb302-5" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit</span>
<span id="cb302-6"><a href="c07-modeling.html#cb302-6" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="c07-modeling.html#cb303-1" tabindex="-1"></a><span class="fu">tidy</span>(m_electric_multi) <span class="sc">%&gt;%</span></span>
<span id="cb303-2"><a href="c07-modeling.html#cb303-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value=</span><span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb303-3"><a href="c07-modeling.html#cb303-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb303-4"><a href="c07-modeling.html#cb303-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="jmqrosggue" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jmqrosggue table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jmqrosggue thead, #jmqrosggue tbody, #jmqrosggue tfoot, #jmqrosggue tr, #jmqrosggue td, #jmqrosggue th {
  border-style: none;
}

#jmqrosggue p {
  margin: 0;
  padding: 0;
}

#jmqrosggue .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jmqrosggue .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jmqrosggue .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jmqrosggue .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jmqrosggue .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jmqrosggue .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jmqrosggue .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jmqrosggue .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jmqrosggue .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jmqrosggue .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jmqrosggue .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jmqrosggue .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jmqrosggue .gt_spanner_row {
  border-bottom-style: hidden;
}

#jmqrosggue .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jmqrosggue .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jmqrosggue .gt_from_md > :first-child {
  margin-top: 0;
}

#jmqrosggue .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jmqrosggue .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jmqrosggue .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jmqrosggue .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jmqrosggue .gt_row_group_first td {
  border-top-width: 2px;
}

#jmqrosggue .gt_row_group_first th {
  border-top-width: 2px;
}

#jmqrosggue .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jmqrosggue .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jmqrosggue .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jmqrosggue .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jmqrosggue .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jmqrosggue .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jmqrosggue .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jmqrosggue .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jmqrosggue .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jmqrosggue .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jmqrosggue .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jmqrosggue .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jmqrosggue .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jmqrosggue .gt_left {
  text-align: left;
}

#jmqrosggue .gt_center {
  text-align: center;
}

#jmqrosggue .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jmqrosggue .gt_font_normal {
  font-weight: normal;
}

#jmqrosggue .gt_font_bold {
  font-weight: bold;
}

#jmqrosggue .gt_font_italic {
  font-style: italic;
}

#jmqrosggue .gt_super {
  font-size: 65%;
}

#jmqrosggue .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jmqrosggue .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jmqrosggue .gt_indent_1 {
  text-indent: 5px;
}

#jmqrosggue .gt_indent_2 {
  text-indent: 10px;
}

#jmqrosggue .gt_indent_3 {
  text-indent: 15px;
}

#jmqrosggue .gt_indent_4 {
  text-indent: 20px;
}

#jmqrosggue .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:model-lmr-examp-tab">TABLE 7.5: </span>Linear regression output predicting electricity expenditure given region, urbanicity, square footage, air conditioning usage, and one-way interactions, RECS 2020</caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="term">term</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="std.error">std.error</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="term" class="gt_row gt_left">RegionNortheast</td>
<td headers="estimate" class="gt_row gt_right">543.73</td>
<td headers="std.error" class="gt_row gt_right">56.57</td>
<td headers="statistic" class="gt_row gt_right">9.61</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionMidwest</td>
<td headers="estimate" class="gt_row gt_right">702.16</td>
<td headers="std.error" class="gt_row gt_right">78.12</td>
<td headers="statistic" class="gt_row gt_right">8.99</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionSouth</td>
<td headers="estimate" class="gt_row gt_right">938.74</td>
<td headers="std.error" class="gt_row gt_right">46.99</td>
<td headers="statistic" class="gt_row gt_right">19.98</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionWest</td>
<td headers="estimate" class="gt_row gt_right">603.27</td>
<td headers="std.error" class="gt_row gt_right">36.31</td>
<td headers="statistic" class="gt_row gt_right">16.61</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">UrbanicityUrban Cluster</td>
<td headers="estimate" class="gt_row gt_right">73.03</td>
<td headers="std.error" class="gt_row gt_right">81.50</td>
<td headers="statistic" class="gt_row gt_right">0.90</td>
<td headers="p.value" class="gt_row gt_left">0.3764</td></tr>
    <tr><td headers="term" class="gt_row gt_left">UrbanicityRural</td>
<td headers="estimate" class="gt_row gt_right">204.13</td>
<td headers="std.error" class="gt_row gt_right">80.69</td>
<td headers="statistic" class="gt_row gt_right">2.53</td>
<td headers="p.value" class="gt_row gt_left">0.0161</td></tr>
    <tr><td headers="term" class="gt_row gt_left">TOTSQFT_EN</td>
<td headers="estimate" class="gt_row gt_right">0.24</td>
<td headers="std.error" class="gt_row gt_right">0.03</td>
<td headers="statistic" class="gt_row gt_right">8.65</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">ACUsedTRUE</td>
<td headers="estimate" class="gt_row gt_right">252.06</td>
<td headers="std.error" class="gt_row gt_right">54.05</td>
<td headers="statistic" class="gt_row gt_right">4.66</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionMidwest:UrbanicityUrban Cluster</td>
<td headers="estimate" class="gt_row gt_right">183.06</td>
<td headers="std.error" class="gt_row gt_right">82.38</td>
<td headers="statistic" class="gt_row gt_right">2.22</td>
<td headers="p.value" class="gt_row gt_left">0.0328</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionSouth:UrbanicityUrban Cluster</td>
<td headers="estimate" class="gt_row gt_right">152.56</td>
<td headers="std.error" class="gt_row gt_right">76.03</td>
<td headers="statistic" class="gt_row gt_right">2.01</td>
<td headers="p.value" class="gt_row gt_left">0.0526</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionWest:UrbanicityUrban Cluster</td>
<td headers="estimate" class="gt_row gt_right">98.02</td>
<td headers="std.error" class="gt_row gt_right">75.16</td>
<td headers="statistic" class="gt_row gt_right">1.30</td>
<td headers="p.value" class="gt_row gt_left">0.2007</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionMidwest:UrbanicityRural</td>
<td headers="estimate" class="gt_row gt_right">312.83</td>
<td headers="std.error" class="gt_row gt_right">50.88</td>
<td headers="statistic" class="gt_row gt_right">6.15</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionSouth:UrbanicityRural</td>
<td headers="estimate" class="gt_row gt_right">220.00</td>
<td headers="std.error" class="gt_row gt_right">55.00</td>
<td headers="statistic" class="gt_row gt_right">4.00</td>
<td headers="p.value" class="gt_row gt_left">0.0003</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionWest:UrbanicityRural</td>
<td headers="estimate" class="gt_row gt_right">180.97</td>
<td headers="std.error" class="gt_row gt_right">58.70</td>
<td headers="statistic" class="gt_row gt_right">3.08</td>
<td headers="p.value" class="gt_row gt_left">0.0040</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionMidwest:TOTSQFT_EN</td>
<td headers="estimate" class="gt_row gt_right">−0.05</td>
<td headers="std.error" class="gt_row gt_right">0.02</td>
<td headers="statistic" class="gt_row gt_right">−2.09</td>
<td headers="p.value" class="gt_row gt_left">0.0441</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionSouth:TOTSQFT_EN</td>
<td headers="estimate" class="gt_row gt_right">0.00</td>
<td headers="std.error" class="gt_row gt_right">0.03</td>
<td headers="statistic" class="gt_row gt_right">0.11</td>
<td headers="p.value" class="gt_row gt_left">0.9109</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionWest:TOTSQFT_EN</td>
<td headers="estimate" class="gt_row gt_right">−0.03</td>
<td headers="std.error" class="gt_row gt_right">0.03</td>
<td headers="statistic" class="gt_row gt_right">−1.00</td>
<td headers="p.value" class="gt_row gt_left">0.3254</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionMidwest:ACUsedTRUE</td>
<td headers="estimate" class="gt_row gt_right">−292.97</td>
<td headers="std.error" class="gt_row gt_right">60.24</td>
<td headers="statistic" class="gt_row gt_right">−4.86</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionSouth:ACUsedTRUE</td>
<td headers="estimate" class="gt_row gt_right">−294.07</td>
<td headers="std.error" class="gt_row gt_right">57.44</td>
<td headers="statistic" class="gt_row gt_right">−5.12</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">RegionWest:ACUsedTRUE</td>
<td headers="estimate" class="gt_row gt_right">−77.68</td>
<td headers="std.error" class="gt_row gt_right">47.05</td>
<td headers="statistic" class="gt_row gt_right">−1.65</td>
<td headers="p.value" class="gt_row gt_left">0.1076</td></tr>
    <tr><td headers="term" class="gt_row gt_left">UrbanicityUrban Cluster:TOTSQFT_EN</td>
<td headers="estimate" class="gt_row gt_right">−0.04</td>
<td headers="std.error" class="gt_row gt_right">0.02</td>
<td headers="statistic" class="gt_row gt_right">−1.63</td>
<td headers="p.value" class="gt_row gt_left">0.1112</td></tr>
    <tr><td headers="term" class="gt_row gt_left">UrbanicityRural:TOTSQFT_EN</td>
<td headers="estimate" class="gt_row gt_right">−0.06</td>
<td headers="std.error" class="gt_row gt_right">0.02</td>
<td headers="statistic" class="gt_row gt_right">−2.60</td>
<td headers="p.value" class="gt_row gt_left">0.0137</td></tr>
    <tr><td headers="term" class="gt_row gt_left">UrbanicityUrban Cluster:ACUsedTRUE</td>
<td headers="estimate" class="gt_row gt_right">−130.23</td>
<td headers="std.error" class="gt_row gt_right">60.30</td>
<td headers="statistic" class="gt_row gt_right">−2.16</td>
<td headers="p.value" class="gt_row gt_left">0.0377</td></tr>
    <tr><td headers="term" class="gt_row gt_left">UrbanicityRural:ACUsedTRUE</td>
<td headers="estimate" class="gt_row gt_right">−33.80</td>
<td headers="std.error" class="gt_row gt_right">59.30</td>
<td headers="statistic" class="gt_row gt_right">−0.57</td>
<td headers="p.value" class="gt_row gt_left">0.5724</td></tr>
    <tr><td headers="term" class="gt_row gt_left">TOTSQFT_EN:ACUsedTRUE</td>
<td headers="estimate" class="gt_row gt_right">0.08</td>
<td headers="std.error" class="gt_row gt_right">0.02</td>
<td headers="statistic" class="gt_row gt_right">3.48</td>
<td headers="p.value" class="gt_row gt_left">0.0014</td></tr>
  </tbody>
  
  
</table>
</div>
<p>As shown above, there are many terms in this model. To test whether coefficients for a term are different from zero, the function <code>regTermTest()</code> can be used. For example, in the above regression, we can test whether the interaction of region and urbanicity is significant as follows:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="c07-modeling.html#cb304-1" tabindex="-1"></a>urb_reg_test <span class="ot">&lt;-</span> <span class="fu">regTermTest</span>(m_electric_multi, <span class="sc">~</span>Urbanicity<span class="sc">:</span>Region)</span>
<span id="cb304-2"><a href="c07-modeling.html#cb304-2" tabindex="-1"></a>urb_reg_test</span></code></pre></div>
<pre><code>## Wald test for Urbanicity:Region
##  in svyglm(design = ., formula = DOLLAREL ~ (Region + Urbanicity + 
##     TOTSQFT_EN + ACUsed)^2 - 1, na.action = na.omit)
## F =  6.851  on  6  and  35  df: p= 7.2e-05</code></pre>
<p>This output indicates there is a significant interaction between urbanicity and region (p-value=&lt;0.0001).</p>
<p>To examine the predictions, residuals, and more from the model, the function <code>augment()</code> from {broom} can be used. The <code>augment()</code> function will return a tibble with the independent and dependent variables and other fit statistics. The <code>augment()</code> function has not been specifically written for objects of class <code>svyglm</code>, and as such, a warning will be displayed indicating this at this time. As it was not written exactly for this class of objects, a little tweaking needs to be done after using <code>augment()</code>. To obtain the standard error of the predicted values (<code>.se.fit</code>) we need to use the <code>attr()</code> function on the predicted values (<code>.fitted</code>) created by <code>augment()</code>. Additionally, the predicted values created are outputted as a <code>svrep</code> type of data. If we want to plot the predicted values, we need to use <code>as.numeric()</code> to get the predicted values into a numeric format to work with. However, it is important to note that this adjustment must be completed <strong>after</strong> the standard error adjustment.</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="c07-modeling.html#cb306-1" tabindex="-1"></a>fitstats <span class="ot">&lt;-</span></span>
<span id="cb306-2"><a href="c07-modeling.html#cb306-2" tabindex="-1"></a>  <span class="fu">augment</span>(m_electric_multi) <span class="sc">%&gt;%</span></span>
<span id="cb306-3"><a href="c07-modeling.html#cb306-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)), </span>
<span id="cb306-4"><a href="c07-modeling.html#cb306-4" tabindex="-1"></a>         <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted)) </span>
<span id="cb306-5"><a href="c07-modeling.html#cb306-5" tabindex="-1"></a></span>
<span id="cb306-6"><a href="c07-modeling.html#cb306-6" tabindex="-1"></a>fitstats</span></code></pre></div>
<pre><code>## # A tibble: 18,496 × 13
##    DOLLAREL Region    Urbanicity   TOTSQFT_EN ACUsed `(weights)` .fitted
##       &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt;             &lt;dbl&gt; &lt;lgl&gt;        &lt;dbl&gt;   &lt;dbl&gt;
##  1    1955. West      Urban Area         2100 TRUE         0.492   1397.
##  2     713. South     Urban Area          590 TRUE         1.35    1090.
##  3     335. West      Urban Area          900 TRUE         0.849   1043.
##  4    1425. South     Urban Area         2100 TRUE         0.793   1584.
##  5    1087  Northeast Urban Area          800 TRUE         1.49    1055.
##  6    1896. South     Urban Area         4520 TRUE         1.09    2375.
##  7    1418. South     Urban Area         2100 TRUE         0.851   1584.
##  8    1237. South     Urban Clust…        900 FALSE        1.45    1349.
##  9     538. South     Urban Area          750 TRUE         0.185   1142.
## 10     625. West      Urban Area          760 TRUE         1.06    1002.
## # ℹ 18,486 more rows
## # ℹ 6 more variables: .resid &lt;dbl&gt;, .hat &lt;dbl&gt;, .sigma &lt;dbl&gt;,
## #   .cooksd &lt;dbl&gt;, .std.resid &lt;dbl&gt;, .se.fit &lt;dbl&gt;</code></pre>
<p>These results can then be used in a variety of ways, including examining residual plots as illustrated in the code below and Figure <a href="c07-modeling.html#fig:model-aug-examp-plot">7.2</a>. In the residual plot, we look for any patterns in the data. If we do see patterns, this may indicate a violation of the heteroscedasticity assumption and the standard errors of the coefficients may be incorrect. In Figure <a href="c07-modeling.html#fig:model-aug-examp-plot">7.2</a>, we do not see a strong pattern indicating that our assumption of heteroscedasticity may hold.</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="c07-modeling.html#cb308-1" tabindex="-1"></a>fitstats <span class="sc">%&gt;%</span></span>
<span id="cb308-2"><a href="c07-modeling.html#cb308-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> .fitted, .resid)) <span class="sc">+</span></span>
<span id="cb308-3"><a href="c07-modeling.html#cb308-3" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb308-4"><a href="c07-modeling.html#cb308-4" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb308-5"><a href="c07-modeling.html#cb308-5" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb308-6"><a href="c07-modeling.html#cb308-6" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Fitted value of electricity cost&quot;</span>) <span class="sc">+</span></span>
<span id="cb308-7"><a href="c07-modeling.html#cb308-7" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Residual of model&quot;</span>) <span class="sc">+</span></span>
<span id="cb308-8"><a href="c07-modeling.html#cb308-8" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb308-9"><a href="c07-modeling.html#cb308-9" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>()) </span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-aug-examp-plot"></span>
<img src="bookdown_files/figure-html/model-aug-examp-plot-1.png" alt="Residual scatter plot with a x-axis of 'Fitted value of electricity cost' ranging between approximately $0 and $4,000 and a y-axis with the 'Residual of model' ranging from approximatley -$3,000 to $5,000. The points create a slight megaphone shape with largest residuals in the middle of the x-range. A red line is drawn horizontally at y=0." width="672" />
<p class="caption">
FIGURE 7.2: Residual plot of electric cost model with covariates Region, Urbanicity, TOTSQFT_EN, and ACUsed
</p>
</div>
<p>Additionally, <code>augment()</code> can be used to predict outcomes for data not used in modeling. Perhaps, we would like to predict the energy expenditure for a home in an urban area in the south that uses air-conditioning and is 2,500 square feet. To do this, we first make a tibble including that additional data and then use the <code>newdata</code> argument in the <code>augment()</code> function. As before, to obtain the standard error of the predicted values we need to use the <code>attr()</code> function.</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="c07-modeling.html#cb309-1" tabindex="-1"></a>add_data <span class="ot">&lt;-</span> recs_2020 <span class="sc">%&gt;%</span> </span>
<span id="cb309-2"><a href="c07-modeling.html#cb309-2" tabindex="-1"></a>  <span class="fu">select</span>(DOEID, Region, Urbanicity,</span>
<span id="cb309-3"><a href="c07-modeling.html#cb309-3" tabindex="-1"></a>         TOTSQFT_EN, ACUsed,</span>
<span id="cb309-4"><a href="c07-modeling.html#cb309-4" tabindex="-1"></a>         DOLLAREL) <span class="sc">%&gt;%</span></span>
<span id="cb309-5"><a href="c07-modeling.html#cb309-5" tabindex="-1"></a>  <span class="fu">rbind</span>(</span>
<span id="cb309-6"><a href="c07-modeling.html#cb309-6" tabindex="-1"></a>    <span class="fu">tibble</span>(</span>
<span id="cb309-7"><a href="c07-modeling.html#cb309-7" tabindex="-1"></a>      <span class="at">DOEID =</span> <span class="cn">NA</span>,</span>
<span id="cb309-8"><a href="c07-modeling.html#cb309-8" tabindex="-1"></a>      <span class="at">Region =</span> <span class="st">&quot;South&quot;</span>,</span>
<span id="cb309-9"><a href="c07-modeling.html#cb309-9" tabindex="-1"></a>      <span class="at">Urbanicity =</span> <span class="st">&quot;Urban Area&quot;</span>,</span>
<span id="cb309-10"><a href="c07-modeling.html#cb309-10" tabindex="-1"></a>      <span class="at">TOTSQFT_EN =</span> <span class="dv">2500</span>,</span>
<span id="cb309-11"><a href="c07-modeling.html#cb309-11" tabindex="-1"></a>      <span class="at">ACUsed =</span> <span class="cn">TRUE</span>,</span>
<span id="cb309-12"><a href="c07-modeling.html#cb309-12" tabindex="-1"></a>      <span class="at">DOLLAREL =</span> <span class="cn">NA</span></span>
<span id="cb309-13"><a href="c07-modeling.html#cb309-13" tabindex="-1"></a>    )</span>
<span id="cb309-14"><a href="c07-modeling.html#cb309-14" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb309-15"><a href="c07-modeling.html#cb309-15" tabindex="-1"></a>  <span class="fu">tail</span>(<span class="dv">1</span>)</span>
<span id="cb309-16"><a href="c07-modeling.html#cb309-16" tabindex="-1"></a></span>
<span id="cb309-17"><a href="c07-modeling.html#cb309-17" tabindex="-1"></a>pred_data <span class="ot">&lt;-</span> <span class="fu">augment</span>(m_electric_multi, <span class="at">newdata =</span> add_data) <span class="sc">%&gt;%</span></span>
<span id="cb309-18"><a href="c07-modeling.html#cb309-18" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)), </span>
<span id="cb309-19"><a href="c07-modeling.html#cb309-19" tabindex="-1"></a>         <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted)) </span>
<span id="cb309-20"><a href="c07-modeling.html#cb309-20" tabindex="-1"></a></span>
<span id="cb309-21"><a href="c07-modeling.html#cb309-21" tabindex="-1"></a>pred_data </span></code></pre></div>
<pre><code>## # A tibble: 1 × 8
##   DOEID Region Urbanicity TOTSQFT_EN ACUsed DOLLAREL .fitted .se.fit
##   &lt;dbl&gt; &lt;fct&gt;  &lt;fct&gt;           &lt;dbl&gt; &lt;lgl&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1    NA South  Urban Area       2500 TRUE         NA   1715.    22.6</code></pre>
<p>In the above example, it is predicted that the energy expenditure would be $1,715.</p>
</div>
</div>
</div>
<div id="logistic-regression" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Logistic Regression<a href="c07-modeling.html#logistic-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Logistic regression is used to model binary outcomes such as whether or not someone voted. There are several instances where an outcome may not be originally binary but is collapsed into being binary. For example, given that gender is often asked in surveys with multiple response options and not a binary scale, many researchers now code gender in logistic modeling as cis-male compared to not cis-male. We could also convert a 4-point likert scale that has levels of “Strongly Agree”, “Agree”, “Disagree”, and “Strongly Disagree” to group the agreement levels into one group and disagreement levels into a second group.</p>
<p>Logistic regression is a specific case of the generalized linear model (GLM). A GLM uses a link function to link the response variable to the linear model. If we tried to use a normal linear regression with a binary outcome, many assumptions are not held - namely the response is not continuous. Logistic regression allows us to link a linear model between the covariates and a propensity of an outcome. In logistic regression, the link model is the logit function. Specifically, the model is specified as follows:</p>
<p><span class="math display">\[ y_i \sim \text{Bernoulli}(\pi_i)\]</span></p>
<span class="math display" id="eq:logoddlin">\[\begin{equation}
\log \left(\frac{\pi_i}{1-\pi_i} \right)=\beta_0 +\sum_{i=1}^n \beta_i x_i
\tag{7.2}
\end{equation}\]</span>
<p>which can be re-expressed as</p>
<p><span class="math display">\[ \pi_i=\frac{\exp \left(\beta_0 +\sum_{i=1}^n \beta_i x_i \right)}{1+\exp \left(\beta_0 +\sum_{i=1}^n \beta_i x_i \right)}.\]</span> where <span class="math inline">\(y_i\)</span> is the outcome, <span class="math inline">\(\beta_0\)</span> is an intercept, and <span class="math inline">\(x_1, \cdots, x_n\)</span> are the predictors with <span class="math inline">\(\beta_1, \cdots, \beta_n\)</span> as the associated coefficients.</p>
<p>The Bernoulli distribution is a distribution which has an outcome of 0 or 1 given some probability (<span class="math inline">\(\pi_i\)</span>) in this case and we model <span class="math inline">\(\pi_i\)</span> as a function of the covariates <span class="math inline">\(x_i\)</span> using this logit link.</p>
<p>Assumptions in logistic regression using survey data include:</p>
<ul>
<li>The outcome variable has two levels</li>
<li>There is a linear relationship between the independent variables and the log odds (Equation <a href="c07-modeling.html#eq:logoddlin">(7.2)</a>)</li>
<li>The residuals are homoscedastic, that is, the error term is the same across all values of independent variables</li>
</ul>
<div id="syntax-8" class="section level3 hasAnchor" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> Syntax<a href="c07-modeling.html#syntax-8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The syntax for logistic regression is as follows:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="c07-modeling.html#cb311-1" tabindex="-1"></a>des_obj <span class="sc">%&gt;%</span></span>
<span id="cb311-2"><a href="c07-modeling.html#cb311-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb311-3"><a href="c07-modeling.html#cb311-3" tabindex="-1"></a>    <span class="at">formula =</span> outcomevar <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x3,</span>
<span id="cb311-4"><a href="c07-modeling.html#cb311-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb311-5"><a href="c07-modeling.html#cb311-5" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit,</span>
<span id="cb311-6"><a href="c07-modeling.html#cb311-6" tabindex="-1"></a>    <span class="at">df.resid =</span> <span class="cn">NULL</span>,</span>
<span id="cb311-7"><a href="c07-modeling.html#cb311-7" tabindex="-1"></a>    <span class="at">family =</span> quasibinomial</span>
<span id="cb311-8"><a href="c07-modeling.html#cb311-8" tabindex="-1"></a>  )</span></code></pre></div>
<p>The arguments are:</p>
<ul>
<li><code>formula</code>: Formula in the form of <code>y~x</code></li>
<li><code>design</code>: a <code>tbl_svy</code> object created by <code>as_survey</code></li>
<li><code>na.action</code>: handling of missing data</li>
<li><code>df.resid</code>: degrees of freedom for Wald tests (optional) - defaults to using <code>degf(design)-p</code> where <span class="math inline">\(p\)</span> is the rank of the design matrix</li>
<li><code>family</code>: the error distribution/link function to be used in the model</li>
</ul>
<p>Note <code>svyglm()</code> is the same function used in both ANOVA and normal linear regression. However, we’ve added the link function quasibinomial. While we can use the binomial link function, it is recommended to use the quasibinomial as our weights may not be integers, and the quasibinomial also allows for overdispersion <span class="citation">(<a href="#ref-mccullagh1989binary">McCullagh and Nelder 1989</a>; <a href="#ref-lumley2010complex">Lumley 2010</a>; <a href="#ref-rcore">R Core Team 2023</a>)</span>. The quasibinomial family has a default logit link which is what is specified in the equations above. When specifying the outcome variable, it will likely be specified in one of three ways with survey data:</p>
<ul>
<li>A two level factor variable where the first level of the factor indicates a “failure” and the second level indicates a “success”</li>
<li>A numeric variable which is 1 or 0 where 1 indicates a success</li>
<li>A logical variable where TRUE indicates a success</li>
</ul>
</div>
<div id="examples-8" class="section level3 hasAnchor" number="7.4.2">
<h3><span class="header-section-number">7.4.2</span> Examples<a href="c07-modeling.html#examples-8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="example-1-logistic-regression-with-single-variable" class="section level4 unnumbered hasAnchor">
<h4>Example 1: Logistic Regression with Single Variable<a href="c07-modeling.html#example-1-logistic-regression-with-single-variable" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the following example, the ANES data is used, and we are modeling whether someone usually has trust in the government<a href="#fn28" class="footnote-ref" id="fnref28"><sup>28</sup></a> by who someone voted for president in 2020. As a reminder, the leading candidates were Biden and Trump though people could vote for someone else not in the Democratic or Republican parties. Those votes are all grouped into an “Other” category. We first create a binary outcome for trusting in the government by collapsing “Always” and “Most of the time” into a single factor level, and the other response options (“About half the time”, “Some of the time”, and “Never”) into a second factor level. Next, a scatter plot of the raw data is not useful as it is all 0 and 1 outcomes, so instead, we plot a summary of the data.</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="c07-modeling.html#cb312-1" tabindex="-1"></a>anes_des_der <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb312-2"><a href="c07-modeling.html#cb312-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">TrustGovernmentUsually =</span> <span class="fu">case_when</span>(</span>
<span id="cb312-3"><a href="c07-modeling.html#cb312-3" tabindex="-1"></a>    <span class="fu">is.na</span>(TrustGovernment) <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb312-4"><a href="c07-modeling.html#cb312-4" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> TrustGovernment <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Always&quot;</span>, <span class="st">&quot;Most of the time&quot;</span>)</span>
<span id="cb312-5"><a href="c07-modeling.html#cb312-5" tabindex="-1"></a>  ))</span>
<span id="cb312-6"><a href="c07-modeling.html#cb312-6" tabindex="-1"></a></span>
<span id="cb312-7"><a href="c07-modeling.html#cb312-7" tabindex="-1"></a>anes_des_der <span class="sc">%&gt;%</span></span>
<span id="cb312-8"><a href="c07-modeling.html#cb312-8" tabindex="-1"></a>  <span class="fu">group_by</span>(VotedPres2020_selection) <span class="sc">%&gt;%</span></span>
<span id="cb312-9"><a href="c07-modeling.html#cb312-9" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pct_trust =</span> <span class="fu">survey_mean</span>(TrustGovernmentUsually,</span>
<span id="cb312-10"><a href="c07-modeling.html#cb312-10" tabindex="-1"></a>                                    <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb312-11"><a href="c07-modeling.html#cb312-11" tabindex="-1"></a>                                    <span class="at">proportion =</span> <span class="cn">TRUE</span>,</span>
<span id="cb312-12"><a href="c07-modeling.html#cb312-12" tabindex="-1"></a>                                    <span class="at">vartype =</span> <span class="st">&quot;ci&quot;</span>),</span>
<span id="cb312-13"><a href="c07-modeling.html#cb312-13" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb312-14"><a href="c07-modeling.html#cb312-14" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.)) <span class="sc">%&gt;%</span></span>
<span id="cb312-15"><a href="c07-modeling.html#cb312-15" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> VotedPres2020_selection, <span class="at">y =</span> pct_trust, </span>
<span id="cb312-16"><a href="c07-modeling.html#cb312-16" tabindex="-1"></a>             <span class="at">fill =</span> VotedPres2020_selection)) <span class="sc">+</span></span>
<span id="cb312-17"><a href="c07-modeling.html#cb312-17" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb312-18"><a href="c07-modeling.html#cb312-18" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> pct_trust_low, <span class="at">ymax =</span> pct_trust_upp), </span>
<span id="cb312-19"><a href="c07-modeling.html#cb312-19" tabindex="-1"></a>                <span class="at">width =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb312-20"><a href="c07-modeling.html#cb312-20" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#0b3954&quot;</span>, <span class="st">&quot;#bfd7ea&quot;</span>, <span class="st">&quot;#8d6b94&quot;</span>)) <span class="sc">+</span></span>
<span id="cb312-21"><a href="c07-modeling.html#cb312-21" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Election choice (2020)&quot;</span>) <span class="sc">+</span></span>
<span id="cb312-22"><a href="c07-modeling.html#cb312-22" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Usually trust the government&quot;</span>) <span class="sc">+</span></span>
<span id="cb312-23"><a href="c07-modeling.html#cb312-23" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb312-24"><a href="c07-modeling.html#cb312-24" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb312-25"><a href="c07-modeling.html#cb312-25" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-logisticexamp-plot"></span>
<img src="bookdown_files/figure-html/model-logisticexamp-plot-1.png" alt="Bar chart with x-axis of election choice with levels of Biden, Trump, and Other and y-axis of 'Usually trust the government' ranging from 0% to 20%. Bar 1 is centered at 1, and length is from 0 to 0.12 with fill color dark blue which maps to VotedPres2020_selection = Biden. Bar 2 is centered at 2, and length is from 0 to 0.17 with fill color very pale blue which maps to VotedPres2020_selection = Trump. Bar 3 is centered at 3, and length is from 0 to 0.06 with fill color moderate purple which maps to VotedPres2020_selection = Other. Error bars are drawn as well with the width of the Biden and Trump error bars being similar and the error bar for Other being significantly wider." width="672" />
<p class="caption">
FIGURE 7.3: Relationship between candidate selection and trust in government, ANES 2020
</p>
</div>
<p>By looking at Figure <a href="c07-modeling.html#fig:model-logisticexamp-plot">7.3</a> it appears that people who voted for Trump are more likely to say that they usually have trust in the government compared to those who voted for Biden and Other candidates. To determine if this insight is accurate, we next we fit the model.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="c07-modeling.html#cb313-1" tabindex="-1"></a>logistic_trust_vote <span class="ot">&lt;-</span> anes_des_der <span class="sc">%&gt;%</span></span>
<span id="cb313-2"><a href="c07-modeling.html#cb313-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(<span class="at">design =</span> .,</span>
<span id="cb313-3"><a href="c07-modeling.html#cb313-3" tabindex="-1"></a>         <span class="at">formula =</span> TrustGovernmentUsually <span class="sc">~</span> VotedPres2020_selection,</span>
<span id="cb313-4"><a href="c07-modeling.html#cb313-4" tabindex="-1"></a>         <span class="at">family =</span> quasibinomial) </span></code></pre></div>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="c07-modeling.html#cb314-1" tabindex="-1"></a><span class="fu">tidy</span>(logistic_trust_vote) <span class="sc">%&gt;%</span></span>
<span id="cb314-2"><a href="c07-modeling.html#cb314-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value=</span><span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb314-3"><a href="c07-modeling.html#cb314-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb314-4"><a href="c07-modeling.html#cb314-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="sdbnpzbjmp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#sdbnpzbjmp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#sdbnpzbjmp thead, #sdbnpzbjmp tbody, #sdbnpzbjmp tfoot, #sdbnpzbjmp tr, #sdbnpzbjmp td, #sdbnpzbjmp th {
  border-style: none;
}

#sdbnpzbjmp p {
  margin: 0;
  padding: 0;
}

#sdbnpzbjmp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#sdbnpzbjmp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#sdbnpzbjmp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#sdbnpzbjmp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#sdbnpzbjmp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sdbnpzbjmp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sdbnpzbjmp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sdbnpzbjmp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#sdbnpzbjmp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#sdbnpzbjmp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#sdbnpzbjmp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#sdbnpzbjmp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#sdbnpzbjmp .gt_spanner_row {
  border-bottom-style: hidden;
}

#sdbnpzbjmp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#sdbnpzbjmp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#sdbnpzbjmp .gt_from_md > :first-child {
  margin-top: 0;
}

#sdbnpzbjmp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#sdbnpzbjmp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#sdbnpzbjmp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#sdbnpzbjmp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#sdbnpzbjmp .gt_row_group_first td {
  border-top-width: 2px;
}

#sdbnpzbjmp .gt_row_group_first th {
  border-top-width: 2px;
}

#sdbnpzbjmp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sdbnpzbjmp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#sdbnpzbjmp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#sdbnpzbjmp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sdbnpzbjmp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sdbnpzbjmp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#sdbnpzbjmp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#sdbnpzbjmp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#sdbnpzbjmp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sdbnpzbjmp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sdbnpzbjmp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sdbnpzbjmp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sdbnpzbjmp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sdbnpzbjmp .gt_left {
  text-align: left;
}

#sdbnpzbjmp .gt_center {
  text-align: center;
}

#sdbnpzbjmp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#sdbnpzbjmp .gt_font_normal {
  font-weight: normal;
}

#sdbnpzbjmp .gt_font_bold {
  font-weight: bold;
}

#sdbnpzbjmp .gt_font_italic {
  font-style: italic;
}

#sdbnpzbjmp .gt_super {
  font-size: 65%;
}

#sdbnpzbjmp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#sdbnpzbjmp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#sdbnpzbjmp .gt_indent_1 {
  text-indent: 5px;
}

#sdbnpzbjmp .gt_indent_2 {
  text-indent: 10px;
}

#sdbnpzbjmp .gt_indent_3 {
  text-indent: 15px;
}

#sdbnpzbjmp .gt_indent_4 {
  text-indent: 20px;
}

#sdbnpzbjmp .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:model-logisticexamp-tab">TABLE 7.6: </span>Logistic regression output predicting trust in government by presidential candidate selection, RECS 2020</caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="term">term</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="std.error">std.error</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="term" class="gt_row gt_left">(Intercept)</td>
<td headers="estimate" class="gt_row gt_right">−1.96</td>
<td headers="std.error" class="gt_row gt_right">0.07</td>
<td headers="statistic" class="gt_row gt_right">−27.45</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">VotedPres2020_selectionTrump</td>
<td headers="estimate" class="gt_row gt_right">0.43</td>
<td headers="std.error" class="gt_row gt_right">0.09</td>
<td headers="statistic" class="gt_row gt_right">4.72</td>
<td headers="p.value" class="gt_row gt_left">&lt;0.0001</td></tr>
    <tr><td headers="term" class="gt_row gt_left">VotedPres2020_selectionOther</td>
<td headers="estimate" class="gt_row gt_right">−0.65</td>
<td headers="std.error" class="gt_row gt_right">0.44</td>
<td headers="statistic" class="gt_row gt_right">−1.49</td>
<td headers="p.value" class="gt_row gt_left">0.1429</td></tr>
  </tbody>
  
  
</table>
</div>
<p>In the output above, we can see the estimated coefficients (<code>estimate</code>), estimated standard errors of the coefficients (<code>std.error</code>), the t-statistic (<code>statistic</code>), and the p-value for each coefficient. This output indicates that respondents who voted for Trump are 0.435 times more likely to usually have trust in the government compared to those who voted for Biden (the reference level).</p>
<p>Sometimes it is easier to talk about the odds instead of the likelihood. To do this, we need to exponentiate the coefficients. We can use the same <code>tidy()</code> function, but include the argument <code>exponentiate = TRUE</code> to see the odds.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="c07-modeling.html#cb315-1" tabindex="-1"></a><span class="fu">tidy</span>(logistic_trust_vote, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb315-2"><a href="c07-modeling.html#cb315-2" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate) <span class="sc">%&gt;%</span></span>
<span id="cb315-3"><a href="c07-modeling.html#cb315-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb315-4"><a href="c07-modeling.html#cb315-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="azyjodyifk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#azyjodyifk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#azyjodyifk thead, #azyjodyifk tbody, #azyjodyifk tfoot, #azyjodyifk tr, #azyjodyifk td, #azyjodyifk th {
  border-style: none;
}

#azyjodyifk p {
  margin: 0;
  padding: 0;
}

#azyjodyifk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#azyjodyifk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#azyjodyifk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#azyjodyifk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#azyjodyifk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#azyjodyifk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#azyjodyifk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#azyjodyifk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#azyjodyifk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#azyjodyifk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#azyjodyifk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#azyjodyifk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#azyjodyifk .gt_spanner_row {
  border-bottom-style: hidden;
}

#azyjodyifk .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#azyjodyifk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#azyjodyifk .gt_from_md > :first-child {
  margin-top: 0;
}

#azyjodyifk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#azyjodyifk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#azyjodyifk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#azyjodyifk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#azyjodyifk .gt_row_group_first td {
  border-top-width: 2px;
}

#azyjodyifk .gt_row_group_first th {
  border-top-width: 2px;
}

#azyjodyifk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#azyjodyifk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#azyjodyifk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#azyjodyifk .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#azyjodyifk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#azyjodyifk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#azyjodyifk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#azyjodyifk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#azyjodyifk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#azyjodyifk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#azyjodyifk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#azyjodyifk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#azyjodyifk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#azyjodyifk .gt_left {
  text-align: left;
}

#azyjodyifk .gt_center {
  text-align: center;
}

#azyjodyifk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#azyjodyifk .gt_font_normal {
  font-weight: normal;
}

#azyjodyifk .gt_font_bold {
  font-weight: bold;
}

#azyjodyifk .gt_font_italic {
  font-style: italic;
}

#azyjodyifk .gt_super {
  font-size: 65%;
}

#azyjodyifk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#azyjodyifk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#azyjodyifk .gt_indent_1 {
  text-indent: 5px;
}

#azyjodyifk .gt_indent_2 {
  text-indent: 10px;
}

#azyjodyifk .gt_indent_3 {
  text-indent: 15px;
}

#azyjodyifk .gt_indent_4 {
  text-indent: 20px;
}

#azyjodyifk .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:model-logisticexamp-model-odds-tab">TABLE 7.7: </span>Logistic regression predicting trust in government by presidential candidate selection with exponentiated coefficients (odds), RECS 2020</caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="term">term</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="term" class="gt_row gt_left">(Intercept)</td>
<td headers="estimate" class="gt_row gt_right">0.14</td></tr>
    <tr><td headers="term" class="gt_row gt_left">VotedPres2020_selectionTrump</td>
<td headers="estimate" class="gt_row gt_right">1.54</td></tr>
    <tr><td headers="term" class="gt_row gt_left">VotedPres2020_selectionOther</td>
<td headers="estimate" class="gt_row gt_right">0.52</td></tr>
  </tbody>
  
  
</table>
</div>
<p>We can interpret this as saying that the odds of usually trusting the government for someone who voted for Trump is 154% as likely to trust the government compared to a person who voted for Biden (the reference level). In comparison, a person who voted for neither Biden nor Trump is 52% as likely to trust the government as someone who voted for Biden.</p>
<!--What does the second sentence here mean?-->
<p>As with linear regression, the <code>augment()</code> can be used to predict values. By default, the prediction is the link function and not the probability. To predict the probability, add an argument of <code>type.predict="response"</code> as demonstrated below:</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="c07-modeling.html#cb316-1" tabindex="-1"></a>logistic_trust_vote <span class="sc">%&gt;%</span></span>
<span id="cb316-2"><a href="c07-modeling.html#cb316-2" tabindex="-1"></a>  <span class="fu">augment</span>(<span class="at">type.predict =</span> <span class="st">&quot;response&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb316-3"><a href="c07-modeling.html#cb316-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)), </span>
<span id="cb316-4"><a href="c07-modeling.html#cb316-4" tabindex="-1"></a>         <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted)) <span class="sc">%&gt;%</span></span>
<span id="cb316-5"><a href="c07-modeling.html#cb316-5" tabindex="-1"></a>  <span class="fu">select</span>(TrustGovernmentUsually,</span>
<span id="cb316-6"><a href="c07-modeling.html#cb316-6" tabindex="-1"></a>         VotedPres2020_selection,</span>
<span id="cb316-7"><a href="c07-modeling.html#cb316-7" tabindex="-1"></a>         .fitted,</span>
<span id="cb316-8"><a href="c07-modeling.html#cb316-8" tabindex="-1"></a>         .se.fit) </span></code></pre></div>
<pre><code>## # A tibble: 6,212 × 4
##    TrustGovernmentUsually VotedPres2020_selection .fitted .se.fit
##    &lt;lgl&gt;                  &lt;fct&gt;                     &lt;dbl&gt;   &lt;dbl&gt;
##  1 FALSE                  Other                    0.0681 0.0279 
##  2 FALSE                  Biden                    0.123  0.00772
##  3 FALSE                  Biden                    0.123  0.00772
##  4 FALSE                  Trump                    0.178  0.00919
##  5 FALSE                  Biden                    0.123  0.00772
##  6 FALSE                  Trump                    0.178  0.00919
##  7 FALSE                  Biden                    0.123  0.00772
##  8 FALSE                  Biden                    0.123  0.00772
##  9 TRUE                   Biden                    0.123  0.00772
## 10 FALSE                  Biden                    0.123  0.00772
## # ℹ 6,202 more rows</code></pre>
</div>
<div id="example-2-interaction-effects" class="section level4 unnumbered hasAnchor">
<h4>Example 2: Interaction Effects<a href="c07-modeling.html#example-2-interaction-effects" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s look at another example with interaction effects. If we’re interested in understanding the demographics of people who voted for Biden among all voters in 2020, we could include <code>EarlyVote2020</code> and <code>Gender</code> in our model.</p>
<p>First we need to subset the data to 2020 voters and then create an indicator for voted for Biden.</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="c07-modeling.html#cb318-1" tabindex="-1"></a>anes_des_ind <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span> </span>
<span id="cb318-2"><a href="c07-modeling.html#cb318-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(VotedPres2020_selection)) <span class="sc">%&gt;%</span></span>
<span id="cb318-3"><a href="c07-modeling.html#cb318-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">VoteBiden =</span> <span class="fu">case_when</span>(VotedPres2020_selection <span class="sc">==</span> <span class="st">&quot;Biden&quot;</span><span class="sc">~</span><span class="dv">1</span>,</span>
<span id="cb318-4"><a href="c07-modeling.html#cb318-4" tabindex="-1"></a>                               <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>))</span></code></pre></div>
<p>Let’s first look at the main effects of gender and early voting behavior.</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="c07-modeling.html#cb319-1" tabindex="-1"></a>log_biden_main <span class="ot">&lt;-</span> anes_des_ind <span class="sc">%&gt;%</span></span>
<span id="cb319-2"><a href="c07-modeling.html#cb319-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">EarlyVote2020 =</span> <span class="fu">fct_relevel</span>(EarlyVote2020, <span class="st">&quot;No&quot;</span>, <span class="at">after =</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb319-3"><a href="c07-modeling.html#cb319-3" tabindex="-1"></a>  <span class="fu">svyglm</span>(<span class="at">design =</span> .,</span>
<span id="cb319-4"><a href="c07-modeling.html#cb319-4" tabindex="-1"></a>         <span class="at">formula =</span> VoteBiden <span class="sc">~</span> EarlyVote2020 <span class="sc">+</span> Gender,</span>
<span id="cb319-5"><a href="c07-modeling.html#cb319-5" tabindex="-1"></a>         <span class="at">family =</span> quasibinomial) </span></code></pre></div>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="c07-modeling.html#cb320-1" tabindex="-1"></a><span class="fu">tidy</span>(log_biden_main) <span class="sc">%&gt;%</span></span>
<span id="cb320-2"><a href="c07-modeling.html#cb320-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value=</span><span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb320-3"><a href="c07-modeling.html#cb320-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb320-4"><a href="c07-modeling.html#cb320-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="ihqjwptcdn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ihqjwptcdn table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ihqjwptcdn thead, #ihqjwptcdn tbody, #ihqjwptcdn tfoot, #ihqjwptcdn tr, #ihqjwptcdn td, #ihqjwptcdn th {
  border-style: none;
}

#ihqjwptcdn p {
  margin: 0;
  padding: 0;
}

#ihqjwptcdn .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ihqjwptcdn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ihqjwptcdn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ihqjwptcdn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ihqjwptcdn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ihqjwptcdn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ihqjwptcdn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ihqjwptcdn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ihqjwptcdn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ihqjwptcdn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ihqjwptcdn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ihqjwptcdn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ihqjwptcdn .gt_spanner_row {
  border-bottom-style: hidden;
}

#ihqjwptcdn .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ihqjwptcdn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ihqjwptcdn .gt_from_md > :first-child {
  margin-top: 0;
}

#ihqjwptcdn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ihqjwptcdn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ihqjwptcdn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ihqjwptcdn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ihqjwptcdn .gt_row_group_first td {
  border-top-width: 2px;
}

#ihqjwptcdn .gt_row_group_first th {
  border-top-width: 2px;
}

#ihqjwptcdn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ihqjwptcdn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ihqjwptcdn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ihqjwptcdn .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ihqjwptcdn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ihqjwptcdn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ihqjwptcdn .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ihqjwptcdn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ihqjwptcdn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ihqjwptcdn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ihqjwptcdn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ihqjwptcdn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ihqjwptcdn .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ihqjwptcdn .gt_left {
  text-align: left;
}

#ihqjwptcdn .gt_center {
  text-align: center;
}

#ihqjwptcdn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ihqjwptcdn .gt_font_normal {
  font-weight: normal;
}

#ihqjwptcdn .gt_font_bold {
  font-weight: bold;
}

#ihqjwptcdn .gt_font_italic {
  font-style: italic;
}

#ihqjwptcdn .gt_super {
  font-size: 65%;
}

#ihqjwptcdn .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ihqjwptcdn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ihqjwptcdn .gt_indent_1 {
  text-indent: 5px;
}

#ihqjwptcdn .gt_indent_2 {
  text-indent: 10px;
}

#ihqjwptcdn .gt_indent_3 {
  text-indent: 15px;
}

#ihqjwptcdn .gt_indent_4 {
  text-indent: 20px;
}

#ihqjwptcdn .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:model-logisticexamp-biden-main-tab">TABLE 7.8: </span>Logistic regression output for predicting voting for Biden given early voting behavior and gender - main effects only, RECS 2020</caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="term">term</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="std.error">std.error</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="term" class="gt_row gt_left">(Intercept)</td>
<td headers="estimate" class="gt_row gt_right">0.06</td>
<td headers="std.error" class="gt_row gt_right">0.05</td>
<td headers="statistic" class="gt_row gt_right">1.13</td>
<td headers="p.value" class="gt_row gt_right">0.2650</td></tr>
    <tr><td headers="term" class="gt_row gt_left">EarlyVote2020Yes</td>
<td headers="estimate" class="gt_row gt_right">0.56</td>
<td headers="std.error" class="gt_row gt_right">0.17</td>
<td headers="statistic" class="gt_row gt_right">3.35</td>
<td headers="p.value" class="gt_row gt_right">0.0016</td></tr>
    <tr><td headers="term" class="gt_row gt_left">GenderFemale</td>
<td headers="estimate" class="gt_row gt_right">0.17</td>
<td headers="std.error" class="gt_row gt_right">0.07</td>
<td headers="statistic" class="gt_row gt_right">2.43</td>
<td headers="p.value" class="gt_row gt_right">0.0187</td></tr>
  </tbody>
  
  
</table>
</div>
<p>This main effect model indicates that respondents with who early voted in 2020 are 0.559 (p-value=0.0016) times more likely to vote for Biden compared to respondents who did not early vote in the 2020 election (the reference level). We see that gender is also significant with females more likely to vote for Biden compared to males (p-value=0.0187).</p>
<p>It is possible that there is an interaction between gender and early voting behavior. To determine this we can create a model that includes the interaction effects:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="c07-modeling.html#cb321-1" tabindex="-1"></a>log_biden_int <span class="ot">&lt;-</span> anes_des_ind <span class="sc">%&gt;%</span></span>
<span id="cb321-2"><a href="c07-modeling.html#cb321-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">EarlyVote2020 =</span> <span class="fu">fct_relevel</span>(EarlyVote2020, <span class="st">&quot;No&quot;</span>, <span class="at">after =</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb321-3"><a href="c07-modeling.html#cb321-3" tabindex="-1"></a>  <span class="fu">svyglm</span>(<span class="at">design =</span> .,</span>
<span id="cb321-4"><a href="c07-modeling.html#cb321-4" tabindex="-1"></a>         <span class="at">formula =</span> VoteBiden <span class="sc">~</span> (EarlyVote2020 <span class="sc">+</span> Gender)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb321-5"><a href="c07-modeling.html#cb321-5" tabindex="-1"></a>         <span class="at">family =</span> quasibinomial) </span></code></pre></div>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="c07-modeling.html#cb322-1" tabindex="-1"></a><span class="fu">tidy</span>(log_biden_int) <span class="sc">%&gt;%</span></span>
<span id="cb322-2"><a href="c07-modeling.html#cb322-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p.value=</span><span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb322-3"><a href="c07-modeling.html#cb322-3" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb322-4"><a href="c07-modeling.html#cb322-4" tabindex="-1"></a>  <span class="fu">fmt_number</span>()</span></code></pre></div>

<div id="zesczgwdmk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zesczgwdmk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zesczgwdmk thead, #zesczgwdmk tbody, #zesczgwdmk tfoot, #zesczgwdmk tr, #zesczgwdmk td, #zesczgwdmk th {
  border-style: none;
}

#zesczgwdmk p {
  margin: 0;
  padding: 0;
}

#zesczgwdmk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zesczgwdmk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zesczgwdmk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zesczgwdmk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zesczgwdmk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zesczgwdmk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zesczgwdmk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zesczgwdmk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zesczgwdmk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zesczgwdmk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zesczgwdmk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zesczgwdmk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zesczgwdmk .gt_spanner_row {
  border-bottom-style: hidden;
}

#zesczgwdmk .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zesczgwdmk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zesczgwdmk .gt_from_md > :first-child {
  margin-top: 0;
}

#zesczgwdmk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zesczgwdmk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zesczgwdmk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zesczgwdmk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zesczgwdmk .gt_row_group_first td {
  border-top-width: 2px;
}

#zesczgwdmk .gt_row_group_first th {
  border-top-width: 2px;
}

#zesczgwdmk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zesczgwdmk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zesczgwdmk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zesczgwdmk .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zesczgwdmk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zesczgwdmk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zesczgwdmk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zesczgwdmk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zesczgwdmk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zesczgwdmk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zesczgwdmk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zesczgwdmk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zesczgwdmk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zesczgwdmk .gt_left {
  text-align: left;
}

#zesczgwdmk .gt_center {
  text-align: center;
}

#zesczgwdmk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zesczgwdmk .gt_font_normal {
  font-weight: normal;
}

#zesczgwdmk .gt_font_bold {
  font-weight: bold;
}

#zesczgwdmk .gt_font_italic {
  font-style: italic;
}

#zesczgwdmk .gt_super {
  font-size: 65%;
}

#zesczgwdmk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zesczgwdmk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zesczgwdmk .gt_indent_1 {
  text-indent: 5px;
}

#zesczgwdmk .gt_indent_2 {
  text-indent: 10px;
}

#zesczgwdmk .gt_indent_3 {
  text-indent: 15px;
}

#zesczgwdmk .gt_indent_4 {
  text-indent: 20px;
}

#zesczgwdmk .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <caption><span id="tab:model-logisticexamp-biden-int-tab">TABLE 7.9: </span>Logistic regression output for predicting voting for Biden given early voting behavior and gender - with interaction, RECS 2020</caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="term">term</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="std.error">std.error</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="term" class="gt_row gt_left">(Intercept)</td>
<td headers="estimate" class="gt_row gt_right">0.08</td>
<td headers="std.error" class="gt_row gt_right">0.05</td>
<td headers="statistic" class="gt_row gt_right">1.51</td>
<td headers="p.value" class="gt_row gt_right">0.1386</td></tr>
    <tr><td headers="term" class="gt_row gt_left">EarlyVote2020Yes</td>
<td headers="estimate" class="gt_row gt_right">0.10</td>
<td headers="std.error" class="gt_row gt_right">0.25</td>
<td headers="statistic" class="gt_row gt_right">0.41</td>
<td headers="p.value" class="gt_row gt_right">0.6837</td></tr>
    <tr><td headers="term" class="gt_row gt_left">GenderFemale</td>
<td headers="estimate" class="gt_row gt_right">0.14</td>
<td headers="std.error" class="gt_row gt_right">0.07</td>
<td headers="statistic" class="gt_row gt_right">1.86</td>
<td headers="p.value" class="gt_row gt_right">0.0695</td></tr>
    <tr><td headers="term" class="gt_row gt_left">EarlyVote2020Yes:GenderFemale</td>
<td headers="estimate" class="gt_row gt_right">0.90</td>
<td headers="std.error" class="gt_row gt_right">0.30</td>
<td headers="statistic" class="gt_row gt_right">3.04</td>
<td headers="p.value" class="gt_row gt_right">0.0038</td></tr>
  </tbody>
  
  
</table>
</div>
<p>The results from the interaction model show that the interaction between early voting behavior and gender is significant. To better understand what this interaction means, we will want to plot the predicted probabilities with an interaction plot. Let’s first obtain the predicted probabilities for each possible combination of variables using the <code>augment()</code> function.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="c07-modeling.html#cb323-1" tabindex="-1"></a>log_biden_pred <span class="ot">&lt;-</span> log_biden_int <span class="sc">%&gt;%</span></span>
<span id="cb323-2"><a href="c07-modeling.html#cb323-2" tabindex="-1"></a>  <span class="fu">augment</span>(<span class="at">type.predict =</span> <span class="st">&quot;response&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb323-3"><a href="c07-modeling.html#cb323-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)), </span>
<span id="cb323-4"><a href="c07-modeling.html#cb323-4" tabindex="-1"></a>         <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted)) <span class="sc">%&gt;%</span></span>
<span id="cb323-5"><a href="c07-modeling.html#cb323-5" tabindex="-1"></a>  <span class="fu">select</span>(VoteBiden, EarlyVote2020, Gender, .fitted, .se.fit) </span></code></pre></div>
<p>To create an interaction plot, the y-axis will be the predicted probabilities, and one of our x-variables will be on the x-axis and the other will be represented by multiple lines. Figure <a href="c07-modeling.html#fig:model-logisticexamp-biden-plot">7.4</a> shows the interaction plot with gender on the x-axis and early voting behavior represented by the lines.</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="c07-modeling.html#cb324-1" tabindex="-1"></a>log_biden_pred <span class="sc">%&gt;%</span> </span>
<span id="cb324-2"><a href="c07-modeling.html#cb324-2" tabindex="-1"></a>  <span class="fu">filter</span>(VoteBiden<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb324-3"><a href="c07-modeling.html#cb324-3" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb324-4"><a href="c07-modeling.html#cb324-4" tabindex="-1"></a>  <span class="fu">arrange</span>(Gender, EarlyVote2020) <span class="sc">%&gt;%</span> </span>
<span id="cb324-5"><a href="c07-modeling.html#cb324-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">EarlyVote2020 =</span> <span class="fu">fct_reorder2</span>(EarlyVote2020, Gender, .fitted)) <span class="sc">%&gt;%</span></span>
<span id="cb324-6"><a href="c07-modeling.html#cb324-6" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Gender, <span class="at">y =</span> .fitted, <span class="at">group =</span> EarlyVote2020,</span>
<span id="cb324-7"><a href="c07-modeling.html#cb324-7" tabindex="-1"></a>             <span class="at">color =</span> EarlyVote2020, <span class="at">linetype =</span> EarlyVote2020)) <span class="sc">+</span></span>
<span id="cb324-8"><a href="c07-modeling.html#cb324-8" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">1.1</span>) <span class="sc">+</span></span>
<span id="cb324-9"><a href="c07-modeling.html#cb324-9" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> book_colors[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)]) <span class="sc">+</span></span>
<span id="cb324-10"><a href="c07-modeling.html#cb324-10" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Predicted Probability of Voting for Biden&quot;</span>) <span class="sc">+</span></span>
<span id="cb324-11"><a href="c07-modeling.html#cb324-11" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color=</span><span class="st">&quot;Voted Early&quot;</span>,</span>
<span id="cb324-12"><a href="c07-modeling.html#cb324-12" tabindex="-1"></a>       <span class="at">linetype=</span><span class="st">&quot;Voted Early&quot;</span>) <span class="sc">+</span></span>
<span id="cb324-13"><a href="c07-modeling.html#cb324-13" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb324-14"><a href="c07-modeling.html#cb324-14" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb324-15"><a href="c07-modeling.html#cb324-15" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-logisticexamp-biden-plot"></span>
<img src="bookdown_files/figure-html/model-logisticexamp-biden-plot-1.png" alt="Line plot with x-axis as Male and Female (left to right) and y-axis as 'Predicted Probability of Voting for Biden'. There are two lines for early voting indicators with lines being from top to bottom: Did Not Early Vote and Did Early Vote. The line representing did not early vote is roughly parallel with similar predicted probabilities between males and females. For those who did early vote, females have higher predicted probability of voting for Biden than males." width="672" />
<p class="caption">
FIGURE 7.4: Interaction Plot of Gender and Early Voting Predicting the Probability of Voting for Biden
</p>
</div>
<p>From this plot we can see that respondents who indicated a male gender had roughly the same probability of voting for Biden regardless of if they voted early or not. However, females who voted early were more likely to vote for Biden if they voted early than if they did not vote early.</p>
<p>Interactions in models can be difficult to understand from the coefficients alone. Using these interaction plots can help others understand the nuances of the results, and often can become even more helpful with more than two levels in a given factor (e.g., education or race/ethnicity).</p>
</div>
</div>
</div>
<div id="exercises-1" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Exercises<a href="c07-modeling.html#exercises-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>The type of housing unit may have an impact on energy expenses. Using the RECS data, is there any relationship between housing unit type (<code>HousingUnitType</code>) and total energy expenditure (<code>TOTALDOL</code>)? First, find the average energy expenditure by housing unit type as a descriptive analysis and then do the test. The reference level in the comparison should be the housing unit type that is most common.</li>
</ol>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="c07-modeling.html#cb325-1" tabindex="-1"></a>recs_des <span class="sc">%&gt;%</span></span>
<span id="cb325-2"><a href="c07-modeling.html#cb325-2" tabindex="-1"></a>  <span class="fu">group_by</span>(HousingUnitType) <span class="sc">%&gt;%</span></span>
<span id="cb325-3"><a href="c07-modeling.html#cb325-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Expense =</span> <span class="fu">survey_mean</span>(TOTALDOL, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb325-4"><a href="c07-modeling.html#cb325-4" tabindex="-1"></a>            <span class="at">HUs =</span> <span class="fu">survey_total</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb325-5"><a href="c07-modeling.html#cb325-5" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(HUs))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 5
##   HousingUnitType            Expense Expense_se       HUs       HUs_se
##   &lt;fct&gt;                        &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt;
## 1 Single-family detached       2205.       9.36 77067692. 0.00000277  
## 2 Apartment: 5 or more units   1108.      13.7  22835862. 0.000000226 
## 3 Apartment: 2-4 Units         1407.      24.2   9341795. 0.119       
## 4 Single-family attached       1653.      22.3   7451177. 0.114       
## 5 Mobile home                  1773.      26.2   6832499. 0.0000000927</code></pre>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="c07-modeling.html#cb327-1" tabindex="-1"></a>exp_unit_out <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb327-2"><a href="c07-modeling.html#cb327-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HousingUnitType =</span> <span class="fu">fct_infreq</span>(HousingUnitType, NWEIGHT)) <span class="sc">%&gt;%</span></span>
<span id="cb327-3"><a href="c07-modeling.html#cb327-3" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb327-4"><a href="c07-modeling.html#cb327-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb327-5"><a href="c07-modeling.html#cb327-5" tabindex="-1"></a>    <span class="at">formula =</span> TOTALDOL <span class="sc">~</span> HousingUnitType,</span>
<span id="cb327-6"><a href="c07-modeling.html#cb327-6" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit</span>
<span id="cb327-7"><a href="c07-modeling.html#cb327-7" tabindex="-1"></a>  )</span>
<span id="cb327-8"><a href="c07-modeling.html#cb327-8" tabindex="-1"></a></span>
<span id="cb327-9"><a href="c07-modeling.html#cb327-9" tabindex="-1"></a><span class="fu">tidy</span>(exp_unit_out)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 5
##   term                             estimate std.error statistic  p.value
##   &lt;chr&gt;                               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)                         2205.      9.36     236.  2.53e-84
## 2 HousingUnitTypeApartment: 5 or …   -1097.     16.5      -66.3 3.52e-54
## 3 HousingUnitTypeApartment: 2-4 U…    -798.     28.0      -28.5 1.37e-34
## 4 HousingUnitTypeSingle-family at…    -551.     25.0      -22.1 5.28e-29
## 5 HousingUnitTypeMobile home          -431.     27.4      -15.7 5.36e-22</code></pre>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="c07-modeling.html#cb329-1" tabindex="-1"></a><span class="co"># Single-family detached units are most common</span></span>
<span id="cb329-2"><a href="c07-modeling.html#cb329-2" tabindex="-1"></a><span class="co"># There is a significant relationship between energy expenditure and housing unit type</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Using the RECS data, does temperature play a role in energy expenditure? Cooling degree days are a measure of how hot a place is. Variable <code>CDD65</code> for a given day indicates the number of degrees Fahrenheit warmer than 65°F (18.3°C) it is in a location. On a day that averages 65°F and below, <code>CDD65=0</code>. While a day that averages 85°F would have <code>CDD65=20</code> because it is 20 degrees warmer. For each day in the year, this is summed to give an indicator of how hot the place is throughout the year. Similarly, <code>HDD65</code> indicates the days colder than 65°F (18.3°C)<a href="#fn29" class="footnote-ref" id="fnref29"><sup>29</sup></a>. Can energy expenditure be predicted using these temperature indicators along with square footage? Is there a significant relationship? Include main effects and two-way interactions.</li>
</ol>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="c07-modeling.html#cb330-1" tabindex="-1"></a>temps_sqft_exp <span class="ot">&lt;-</span> recs_des <span class="sc">%&gt;%</span></span>
<span id="cb330-2"><a href="c07-modeling.html#cb330-2" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb330-3"><a href="c07-modeling.html#cb330-3" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb330-4"><a href="c07-modeling.html#cb330-4" tabindex="-1"></a>    <span class="at">formula =</span> DOLLAREL <span class="sc">~</span> (TOTSQFT_EN <span class="sc">+</span> CDD65 <span class="sc">+</span> HDD65) <span class="sc">^</span> <span class="dv">2</span>,</span>
<span id="cb330-5"><a href="c07-modeling.html#cb330-5" tabindex="-1"></a>    <span class="at">na.action =</span> na.omit</span>
<span id="cb330-6"><a href="c07-modeling.html#cb330-6" tabindex="-1"></a>  )</span>
<span id="cb330-7"><a href="c07-modeling.html#cb330-7" tabindex="-1"></a></span>
<span id="cb330-8"><a href="c07-modeling.html#cb330-8" tabindex="-1"></a><span class="fu">tidy</span>(temps_sqft_exp)</span></code></pre></div>
<pre><code>## # A tibble: 7 × 5
##   term                 estimate   std.error statistic  p.value
##   &lt;chr&gt;                   &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)      741.         70.5           10.5   1.44e-14
## 2 TOTSQFT_EN         0.272       0.0471         5.77  4.27e- 7
## 3 CDD65              0.0293      0.0227         1.29  2.02e- 1
## 4 HDD65             -0.00111     0.0104        -0.107 9.15e- 1
## 5 TOTSQFT_EN:CDD65   0.0000459   0.0000154      2.97  4.43e- 3
## 6 TOTSQFT_EN:HDD65  -0.00000840  0.00000633    -1.33  1.90e- 1
## 7 CDD65:HDD65        0.00000533  0.00000355     1.50  1.39e- 1</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Continuing with our results from question 2, create a plot between the actual and predicted expenditures and a residual plot for the predicted expenditures.</li>
</ol>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="c07-modeling.html#cb332-1" tabindex="-1"></a>temps_sqft_exp_fit <span class="ot">&lt;-</span> temps_sqft_exp <span class="sc">%&gt;%</span></span>
<span id="cb332-2"><a href="c07-modeling.html#cb332-2" tabindex="-1"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span></span>
<span id="cb332-3"><a href="c07-modeling.html#cb332-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)), </span>
<span id="cb332-4"><a href="c07-modeling.html#cb332-4" tabindex="-1"></a>         <span class="co"># extract the variance of the fitted value</span></span>
<span id="cb332-5"><a href="c07-modeling.html#cb332-5" tabindex="-1"></a>         <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted)) </span></code></pre></div>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="c07-modeling.html#cb333-1" tabindex="-1"></a>temps_sqft_exp_fit <span class="sc">%&gt;%</span></span>
<span id="cb333-2"><a href="c07-modeling.html#cb333-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> DOLLAREL, <span class="at">y =</span> .fitted)) <span class="sc">+</span></span>
<span id="cb333-3"><a href="c07-modeling.html#cb333-3" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb333-4"><a href="c07-modeling.html#cb333-4" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>,</span>
<span id="cb333-5"><a href="c07-modeling.html#cb333-5" tabindex="-1"></a>              <span class="at">slope =</span> <span class="dv">1</span>,</span>
<span id="cb333-6"><a href="c07-modeling.html#cb333-6" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb333-7"><a href="c07-modeling.html#cb333-7" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Actual expenditures&quot;</span>) <span class="sc">+</span></span>
<span id="cb333-8"><a href="c07-modeling.html#cb333-8" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Predicted expenditures&quot;</span>) <span class="sc">+</span></span>
<span id="cb333-9"><a href="c07-modeling.html#cb333-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-lin-sol-3-p1"></span>
<img src="bookdown_files/figure-html/model-lin-sol-3-p1-1.png" alt="Actual and predicted electricity expenditures" width="672" />
<p class="caption">
FIGURE 7.5: Actual and predicted electricity expenditures
</p>
</div>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="c07-modeling.html#cb334-1" tabindex="-1"></a>temps_sqft_exp_fit <span class="sc">%&gt;%</span></span>
<span id="cb334-2"><a href="c07-modeling.html#cb334-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> .fitted, <span class="at">y =</span> .resid)) <span class="sc">+</span></span>
<span id="cb334-3"><a href="c07-modeling.html#cb334-3" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb334-4"><a href="c07-modeling.html#cb334-4" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb334-5"><a href="c07-modeling.html#cb334-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Predicted expenditure&quot;</span>) <span class="sc">+</span></span>
<span id="cb334-6"><a href="c07-modeling.html#cb334-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Residual value of expenditure&quot;</span>) <span class="sc">+</span></span>
<span id="cb334-7"><a href="c07-modeling.html#cb334-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:model-lin-sol-3-p2"></span>
<img src="bookdown_files/figure-html/model-lin-sol-3-p2-1.png" alt="Residual plot of electric cost model with covariates TOTSQFT_EN, CDD65, and HDD65" width="672" />
<p class="caption">
FIGURE 7.6: Residual plot of electric cost model with covariates TOTSQFT_EN, CDD65, and HDD65
</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Early voting expanded in 2020<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a>. Using the ANES data, build a logistic model predicting early voting in 2020 (<code>EarlyVote2020</code>) using age (<code>Age</code>), education (<code>Education</code>), and party identification (<code>PartyID</code>). Include two-way interactions.</li>
</ol>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="c07-modeling.html#cb335-1" tabindex="-1"></a>earlyvote_mod <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb335-2"><a href="c07-modeling.html#cb335-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(EarlyVote2020)) <span class="sc">%&gt;%</span></span>
<span id="cb335-3"><a href="c07-modeling.html#cb335-3" tabindex="-1"></a>  <span class="fu">svyglm</span>(</span>
<span id="cb335-4"><a href="c07-modeling.html#cb335-4" tabindex="-1"></a>    <span class="at">design =</span> .,</span>
<span id="cb335-5"><a href="c07-modeling.html#cb335-5" tabindex="-1"></a>    <span class="at">formula =</span> EarlyVote2020 <span class="sc">~</span> (Age <span class="sc">+</span> Education <span class="sc">+</span> PartyID) <span class="sc">^</span> <span class="dv">2</span> ,</span>
<span id="cb335-6"><a href="c07-modeling.html#cb335-6" tabindex="-1"></a>    <span class="at">family =</span> quasibinomial</span>
<span id="cb335-7"><a href="c07-modeling.html#cb335-7" tabindex="-1"></a>  )</span>
<span id="cb335-8"><a href="c07-modeling.html#cb335-8" tabindex="-1"></a></span>
<span id="cb335-9"><a href="c07-modeling.html#cb335-9" tabindex="-1"></a><span class="fu">tidy</span>(earlyvote_mod) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(p.value)</span></code></pre></div>
<pre><code>## # A tibble: 46 × 5
##    term                             estimate std.error statistic p.value
##    &lt;chr&gt;                               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 Age:PartyIDIndependent            -0.0587    0.0165     -3.55  0.0121
##  2 PartyIDIndependent                 4.98      1.71        2.92  0.0268
##  3 Age:PartyIDNot very strong repu…  -0.0501    0.0197     -2.54  0.0440
##  4 PartyIDNot very strong republic…   4.14      1.65        2.51  0.0462
##  5 (Intercept)                        1.47      0.863       1.70  0.139 
##  6 EducationGraduate                  1.52      0.954       1.59  0.163 
##  7 PartyIDStrong republican           1.77      1.29        1.37  0.221 
##  8 EducationHigh school:PartyIDStr…  -1.37      1.01       -1.35  0.226 
##  9 EducationGraduate:PartyIDStrong…  -1.28      1.00       -1.28  0.249 
## 10 EducationPost HS:PartyIDIndepen…  -1.47      1.39       -1.06  0.331 
## # ℹ 36 more rows</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Continuing from Exercise 4, predict the probability of early voting for two people. Both are 28 years old and have a graduate degree, but one person is a strong Democrat, and the other is a strong Republican.</li>
</ol>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="c07-modeling.html#cb337-1" tabindex="-1"></a>add_vote_dat <span class="ot">&lt;-</span> anes_2020 <span class="sc">%&gt;%</span></span>
<span id="cb337-2"><a href="c07-modeling.html#cb337-2" tabindex="-1"></a>  <span class="fu">select</span>(EarlyVote2020, Age, Education, PartyID) <span class="sc">%&gt;%</span></span>
<span id="cb337-3"><a href="c07-modeling.html#cb337-3" tabindex="-1"></a>  <span class="fu">rbind</span>(<span class="fu">tibble</span>(</span>
<span id="cb337-4"><a href="c07-modeling.html#cb337-4" tabindex="-1"></a>    <span class="at">EarlyVote2020 =</span> <span class="cn">NA</span>,</span>
<span id="cb337-5"><a href="c07-modeling.html#cb337-5" tabindex="-1"></a>    <span class="at">Age =</span> <span class="dv">28</span>,</span>
<span id="cb337-6"><a href="c07-modeling.html#cb337-6" tabindex="-1"></a>    <span class="at">Education =</span> <span class="st">&quot;Graduate&quot;</span>,</span>
<span id="cb337-7"><a href="c07-modeling.html#cb337-7" tabindex="-1"></a>    <span class="at">PartyID =</span> <span class="fu">c</span>(<span class="st">&quot;Strong democrat&quot;</span>, <span class="st">&quot;Strong republican&quot;</span>)</span>
<span id="cb337-8"><a href="c07-modeling.html#cb337-8" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb337-9"><a href="c07-modeling.html#cb337-9" tabindex="-1"></a>  <span class="fu">tail</span>(<span class="dv">2</span>)</span>
<span id="cb337-10"><a href="c07-modeling.html#cb337-10" tabindex="-1"></a></span>
<span id="cb337-11"><a href="c07-modeling.html#cb337-11" tabindex="-1"></a>log_ex_2_out <span class="ot">&lt;-</span> earlyvote_mod <span class="sc">%&gt;%</span></span>
<span id="cb337-12"><a href="c07-modeling.html#cb337-12" tabindex="-1"></a>  <span class="fu">augment</span>(<span class="at">newdata =</span> add_vote_dat, <span class="at">type.predict =</span> <span class="st">&quot;response&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb337-13"><a href="c07-modeling.html#cb337-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">.se.fit =</span> <span class="fu">sqrt</span>(<span class="fu">attr</span>(.fitted, <span class="st">&quot;var&quot;</span>)), </span>
<span id="cb337-14"><a href="c07-modeling.html#cb337-14" tabindex="-1"></a>         <span class="co"># extract the variance of the fitted value</span></span>
<span id="cb337-15"><a href="c07-modeling.html#cb337-15" tabindex="-1"></a>         <span class="at">.fitted =</span> <span class="fu">as.numeric</span>(.fitted))</span></code></pre></div>

</div>
</div>



<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-bollen2016weightsreg" class="csl-entry">
Bollen, Kenneth A., Paul P. Biemer, Alan F. Karr, Stephen Tueller, and Marcus E. Berzofsky. 2016. <span>“Are Survey Weights Needed? A Review of Diagnostic Tests in Regression Analysis.”</span> <em>Annual Review of Statistics and Its Application</em> 3 (1): 375–92. <a href="https://doi.org/10.1146/annurev-statistics-011516-012958">https://doi.org/10.1146/annurev-statistics-011516-012958</a>.
</div>
<div id="ref-gelman2007weights" class="csl-entry">
Gelman, Andrew. 2007. <span>“<span class="nocase">Struggles with Survey Weighting and Regression Modeling</span>.”</span> <em>Statistical Science</em> 22 (2): 153–64. <a href="https://doi.org/10.1214/088342306000000691">https://doi.org/10.1214/088342306000000691</a>.
</div>
<div id="ref-lumley2010complex" class="csl-entry">
Lumley, Thomas. 2010. <em>Complex Surveys: A Guide to Analysis Using r: A Guide to Analysis Using r</em>. John Wiley; Sons.
</div>
<div id="ref-R-survey" class="csl-entry">
———. 2023. <em>Survey: Analysis of Complex Survey Samples</em>. <a href="http://r-survey.r-forge.r-project.org/survey/">http://r-survey.r-forge.r-project.org/survey/</a>.
</div>
<div id="ref-mccullagh1989binary" class="csl-entry">
McCullagh, Peter, and John Ashworth Nelder. 1989. <span>“Binary Data.”</span> In <em>Generalized Linear Models</em>, 98–148. Springer.
</div>
<div id="ref-rcore" class="csl-entry">
R Core Team. 2023. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="26">
<li id="fn26"><p>Use <code>help(formula)</code> or <code>?formula</code> in R or find the documentation online at <a href="https://stat.ethz.ch/R-manual/R-devel/library/stats/html/formula.html" class="uri">https://stat.ethz.ch/R-manual/R-devel/library/stats/html/formula.html</a><a href="c07-modeling.html#fnref26" class="footnote-back">↩︎</a></p></li>
<li id="fn27"><p>There is some debate about whether weights should be used in regression <span class="citation">(<a href="#ref-gelman2007weights">Gelman 2007</a>; <a href="#ref-bollen2016weightsreg">Bollen et al. 2016</a>)</span>. However, for the purposes of providing complete information on how to analyze complex survey data, this chapter will include weights.<a href="c07-modeling.html#fnref27" class="footnote-back">↩︎</a></p></li>
<li id="fn28"><p>Question: How often can you trust the federal government in Washington to do what is right?<a href="c07-modeling.html#fnref28" class="footnote-back">↩︎</a></p></li>
<li id="fn29"><p><a href="https://www.eia.gov/energyexplained/units-and-calculators/degree-days.php" class="uri">https://www.eia.gov/energyexplained/units-and-calculators/degree-days.php</a><a href="c07-modeling.html#fnref29" class="footnote-back">↩︎</a></p></li>
<li id="fn30"><p><a href="https://www.npr.org/2020/10/26/927803214/62-million-and-counting-americans-are-breaking-early-voting-records" class="uri">https://www.npr.org/2020/10/26/927803214/62-million-and-counting-americans-are-breaking-early-voting-records</a><a href="c07-modeling.html#fnref30" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="c06-statistical-testing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="c08-communicating-results.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "github", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/tidy-survey-r/tidy-survey-book/blob/main/07-modeling.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
